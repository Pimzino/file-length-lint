"use strict";var lf=Object.create;var Cr=Object.defineProperty;var df=Object.getOwnPropertyDescriptor;var ff=Object.getOwnPropertyNames;var hf=Object.getPrototypeOf,gf=Object.prototype.hasOwnProperty;var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),pf=(t,e)=>{for(var n in e)Cr(t,n,{get:e[n],enumerable:!0})},Ga=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ff(e))!gf.call(t,i)&&i!==n&&Cr(t,i,{get:()=>e[i],enumerable:!(r=df(e,i))||r.enumerable});return t};var Ti=(t,e,n)=>(n=t!=null?lf(hf(t)):{},Ga(e||!t||!t.__esModule?Cr(n,"default",{value:t,enumerable:!0}):n,t)),mf=t=>Ga(Cr({},"__esModule",{value:!0}),t);var Wn=D((CR,Ba)=>{var vf="2.0.0",yf=Number.MAX_SAFE_INTEGER||9007199254740991,Cf=16,Rf=250,_f=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Ba.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Cf,MAX_SAFE_BUILD_LENGTH:Rf,MAX_SAFE_INTEGER:yf,RELEASE_TYPES:_f,SEMVER_SPEC_VERSION:vf,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Hn=D((RR,Va)=>{var wf=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Va.exports=wf});var Sn=D((Pt,Xa)=>{var{MAX_SAFE_COMPONENT_LENGTH:bi,MAX_SAFE_BUILD_LENGTH:Sf,MAX_LENGTH:Tf}=Wn(),bf=Hn();Pt=Xa.exports={};var Pf=Pt.re=[],Df=Pt.safeRe=[],N=Pt.src=[],Ef=Pt.safeSrc=[],L=Pt.t={},qf=0,Pi="[a-zA-Z0-9-]",Of=[["\\s",1],["\\d",Tf],[Pi,Sf]],kf=t=>{for(let[e,n]of Of)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},X=(t,e,n)=>{let r=kf(e),i=qf++;bf(t,i,e),L[t]=i,N[i]=e,Ef[i]=r,Pf[i]=new RegExp(e,n?"g":void 0),Df[i]=new RegExp(r,n?"g":void 0)};X("NUMERICIDENTIFIER","0|[1-9]\\d*");X("NUMERICIDENTIFIERLOOSE","\\d+");X("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Pi}*`);X("MAINVERSION",`(${N[L.NUMERICIDENTIFIER]})\\.(${N[L.NUMERICIDENTIFIER]})\\.(${N[L.NUMERICIDENTIFIER]})`);X("MAINVERSIONLOOSE",`(${N[L.NUMERICIDENTIFIERLOOSE]})\\.(${N[L.NUMERICIDENTIFIERLOOSE]})\\.(${N[L.NUMERICIDENTIFIERLOOSE]})`);X("PRERELEASEIDENTIFIER",`(?:${N[L.NUMERICIDENTIFIER]}|${N[L.NONNUMERICIDENTIFIER]})`);X("PRERELEASEIDENTIFIERLOOSE",`(?:${N[L.NUMERICIDENTIFIERLOOSE]}|${N[L.NONNUMERICIDENTIFIER]})`);X("PRERELEASE",`(?:-(${N[L.PRERELEASEIDENTIFIER]}(?:\\.${N[L.PRERELEASEIDENTIFIER]})*))`);X("PRERELEASELOOSE",`(?:-?(${N[L.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${N[L.PRERELEASEIDENTIFIERLOOSE]})*))`);X("BUILDIDENTIFIER",`${Pi}+`);X("BUILD",`(?:\\+(${N[L.BUILDIDENTIFIER]}(?:\\.${N[L.BUILDIDENTIFIER]})*))`);X("FULLPLAIN",`v?${N[L.MAINVERSION]}${N[L.PRERELEASE]}?${N[L.BUILD]}?`);X("FULL",`^${N[L.FULLPLAIN]}$`);X("LOOSEPLAIN",`[v=\\s]*${N[L.MAINVERSIONLOOSE]}${N[L.PRERELEASELOOSE]}?${N[L.BUILD]}?`);X("LOOSE",`^${N[L.LOOSEPLAIN]}$`);X("GTLT","((?:<|>)?=?)");X("XRANGEIDENTIFIERLOOSE",`${N[L.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);X("XRANGEIDENTIFIER",`${N[L.NUMERICIDENTIFIER]}|x|X|\\*`);X("XRANGEPLAIN",`[v=\\s]*(${N[L.XRANGEIDENTIFIER]})(?:\\.(${N[L.XRANGEIDENTIFIER]})(?:\\.(${N[L.XRANGEIDENTIFIER]})(?:${N[L.PRERELEASE]})?${N[L.BUILD]}?)?)?`);X("XRANGEPLAINLOOSE",`[v=\\s]*(${N[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${N[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${N[L.XRANGEIDENTIFIERLOOSE]})(?:${N[L.PRERELEASELOOSE]})?${N[L.BUILD]}?)?)?`);X("XRANGE",`^${N[L.GTLT]}\\s*${N[L.XRANGEPLAIN]}$`);X("XRANGELOOSE",`^${N[L.GTLT]}\\s*${N[L.XRANGEPLAINLOOSE]}$`);X("COERCEPLAIN",`(^|[^\\d])(\\d{1,${bi}})(?:\\.(\\d{1,${bi}}))?(?:\\.(\\d{1,${bi}}))?`);X("COERCE",`${N[L.COERCEPLAIN]}(?:$|[^\\d])`);X("COERCEFULL",N[L.COERCEPLAIN]+`(?:${N[L.PRERELEASE]})?(?:${N[L.BUILD]})?(?:$|[^\\d])`);X("COERCERTL",N[L.COERCE],!0);X("COERCERTLFULL",N[L.COERCEFULL],!0);X("LONETILDE","(?:~>?)");X("TILDETRIM",`(\\s*)${N[L.LONETILDE]}\\s+`,!0);Pt.tildeTrimReplace="$1~";X("TILDE",`^${N[L.LONETILDE]}${N[L.XRANGEPLAIN]}$`);X("TILDELOOSE",`^${N[L.LONETILDE]}${N[L.XRANGEPLAINLOOSE]}$`);X("LONECARET","(?:\\^)");X("CARETTRIM",`(\\s*)${N[L.LONECARET]}\\s+`,!0);Pt.caretTrimReplace="$1^";X("CARET",`^${N[L.LONECARET]}${N[L.XRANGEPLAIN]}$`);X("CARETLOOSE",`^${N[L.LONECARET]}${N[L.XRANGEPLAINLOOSE]}$`);X("COMPARATORLOOSE",`^${N[L.GTLT]}\\s*(${N[L.LOOSEPLAIN]})$|^$`);X("COMPARATOR",`^${N[L.GTLT]}\\s*(${N[L.FULLPLAIN]})$|^$`);X("COMPARATORTRIM",`(\\s*)${N[L.GTLT]}\\s*(${N[L.LOOSEPLAIN]}|${N[L.XRANGEPLAIN]})`,!0);Pt.comparatorTrimReplace="$1$2$3";X("HYPHENRANGE",`^\\s*(${N[L.XRANGEPLAIN]})\\s+-\\s+(${N[L.XRANGEPLAIN]})\\s*$`);X("HYPHENRANGELOOSE",`^\\s*(${N[L.XRANGEPLAINLOOSE]})\\s+-\\s+(${N[L.XRANGEPLAINLOOSE]})\\s*$`);X("STAR","(<|>)?=?\\s*\\*");X("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");X("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Rr=D((_R,Ja)=>{var xf=Object.freeze({loose:!0}),If=Object.freeze({}),Ff=t=>t?typeof t!="object"?xf:t:If;Ja.exports=Ff});var Di=D((wR,Za)=>{var Qa=/^[0-9]+$/,Ya=(t,e)=>{let n=Qa.test(t),r=Qa.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Nf=(t,e)=>Ya(e,t);Za.exports={compareIdentifiers:Ya,rcompareIdentifiers:Nf}});var je=D((SR,rc)=>{var _r=Hn(),{MAX_LENGTH:ec,MAX_SAFE_INTEGER:wr}=Wn(),{safeRe:tc,safeSrc:nc,t:Sr}=Sn(),Lf=Rr(),{compareIdentifiers:Tn}=Di(),Ei=class t{constructor(e,n){if(n=Lf(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>ec)throw new TypeError(`version is longer than ${ec} characters`);_r("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?tc[Sr.LOOSE]:tc[Sr.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>wr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>wr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>wr||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<wr)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_r("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Tn(this.major,e.major)||Tn(this.minor,e.minor)||Tn(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(_r("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Tn(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(_r("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Tn(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let i=new RegExp(`^${this.options.loose?nc[Sr.PRERELEASELOOSE]:nc[Sr.PRERELEASE]}$`),s=`-${n}`.match(i);if(!s||s[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Tn(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};rc.exports=Ei});var un=D((TR,oc)=>{var ic=je(),Mf=(t,e,n=!1)=>{if(t instanceof ic)return t;try{return new ic(t,e)}catch(r){if(!n)return null;throw r}};oc.exports=Mf});var ac=D((bR,sc)=>{var Af=un(),jf=(t,e)=>{let n=Af(t,e);return n?n.version:null};sc.exports=jf});var uc=D((PR,cc)=>{var $f=un(),Wf=(t,e)=>{let n=$f(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};cc.exports=Wf});var fc=D((DR,dc)=>{var lc=je(),Hf=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new lc(t instanceof lc?t.version:t,n).inc(e,r,i).version}catch{return null}};dc.exports=Hf});var pc=D((ER,gc)=>{var hc=un(),Uf=(t,e)=>{let n=hc(t,null,!0),r=hc(e,null,!0),i=n.compare(r);if(i===0)return null;let s=i>0,c=s?n:r,f=s?r:n,d=!!c.prerelease.length;if(!!f.prerelease.length&&!d){if(!f.patch&&!f.minor)return"major";if(f.compareMain(c)===0)return f.minor&&!f.patch?"minor":"patch"}let R=d?"pre":"";return n.major!==r.major?R+"major":n.minor!==r.minor?R+"minor":n.patch!==r.patch?R+"patch":"prerelease"};gc.exports=Uf});var vc=D((qR,mc)=>{var Kf=je(),zf=(t,e)=>new Kf(t,e).major;mc.exports=zf});var Cc=D((OR,yc)=>{var Gf=je(),Bf=(t,e)=>new Gf(t,e).minor;yc.exports=Bf});var _c=D((kR,Rc)=>{var Vf=je(),Xf=(t,e)=>new Vf(t,e).patch;Rc.exports=Xf});var Sc=D((xR,wc)=>{var Jf=un(),Qf=(t,e)=>{let n=Jf(t,e);return n&&n.prerelease.length?n.prerelease:null};wc.exports=Qf});var lt=D((IR,bc)=>{var Tc=je(),Yf=(t,e,n)=>new Tc(t,n).compare(new Tc(e,n));bc.exports=Yf});var Dc=D((FR,Pc)=>{var Zf=lt(),eh=(t,e,n)=>Zf(e,t,n);Pc.exports=eh});var qc=D((NR,Ec)=>{var th=lt(),nh=(t,e)=>th(t,e,!0);Ec.exports=nh});var Tr=D((LR,kc)=>{var Oc=je(),rh=(t,e,n)=>{let r=new Oc(t,n),i=new Oc(e,n);return r.compare(i)||r.compareBuild(i)};kc.exports=rh});var Ic=D((MR,xc)=>{var ih=Tr(),oh=(t,e)=>t.sort((n,r)=>ih(n,r,e));xc.exports=oh});var Nc=D((AR,Fc)=>{var sh=Tr(),ah=(t,e)=>t.sort((n,r)=>sh(r,n,e));Fc.exports=ah});var Un=D((jR,Lc)=>{var ch=lt(),uh=(t,e,n)=>ch(t,e,n)>0;Lc.exports=uh});var br=D(($R,Mc)=>{var lh=lt(),dh=(t,e,n)=>lh(t,e,n)<0;Mc.exports=dh});var qi=D((WR,Ac)=>{var fh=lt(),hh=(t,e,n)=>fh(t,e,n)===0;Ac.exports=hh});var Oi=D((HR,jc)=>{var gh=lt(),ph=(t,e,n)=>gh(t,e,n)!==0;jc.exports=ph});var Pr=D((UR,$c)=>{var mh=lt(),vh=(t,e,n)=>mh(t,e,n)>=0;$c.exports=vh});var Dr=D((KR,Wc)=>{var yh=lt(),Ch=(t,e,n)=>yh(t,e,n)<=0;Wc.exports=Ch});var ki=D((zR,Hc)=>{var Rh=qi(),_h=Oi(),wh=Un(),Sh=Pr(),Th=br(),bh=Dr(),Ph=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Rh(t,n,r);case"!=":return _h(t,n,r);case">":return wh(t,n,r);case">=":return Sh(t,n,r);case"<":return Th(t,n,r);case"<=":return bh(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};Hc.exports=Ph});var Kc=D((GR,Uc)=>{var Dh=je(),Eh=un(),{safeRe:Er,t:qr}=Sn(),qh=(t,e)=>{if(t instanceof Dh)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Er[qr.COERCEFULL]:Er[qr.COERCE]);else{let d=e.includePrerelease?Er[qr.COERCERTLFULL]:Er[qr.COERCERTL],v;for(;(v=d.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||v.index+v[0].length!==n.index+n[0].length)&&(n=v),d.lastIndex=v.index+v[1].length+v[2].length;d.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",s=n[4]||"0",c=e.includePrerelease&&n[5]?`-${n[5]}`:"",f=e.includePrerelease&&n[6]?`+${n[6]}`:"";return Eh(`${r}.${i}.${s}${c}${f}`,e)};Uc.exports=qh});var Gc=D((BR,zc)=>{var xi=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};zc.exports=xi});var dt=D((VR,Jc)=>{var Oh=/\s+/g,Ii=class t{constructor(e,n){if(n=xh(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof Fi)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(Oh," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Vc(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&jh(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&Mh)|(this.options.loose&&Ah))+":"+e,i=Bc.get(r);if(i)return i;let s=this.options.loose,c=s?Qe[Ue.HYPHENRANGELOOSE]:Qe[Ue.HYPHENRANGE];e=e.replace(c,Xh(this.options.includePrerelease)),le("hyphen replace",e),e=e.replace(Qe[Ue.COMPARATORTRIM],Fh),le("comparator trim",e),e=e.replace(Qe[Ue.TILDETRIM],Nh),le("tilde trim",e),e=e.replace(Qe[Ue.CARETTRIM],Lh),le("caret trim",e);let f=e.split(" ").map(w=>$h(w,this.options)).join(" ").split(/\s+/).map(w=>Vh(w,this.options));s&&(f=f.filter(w=>(le("loose invalid filter",w,this.options),!!w.match(Qe[Ue.COMPARATORLOOSE])))),le("range list",f);let d=new Map,v=f.map(w=>new Fi(w,this.options));for(let w of v){if(Vc(w))return[w];d.set(w.value,w)}d.size>1&&d.has("")&&d.delete("");let R=[...d.values()];return Bc.set(r,R),R}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Xc(r,n)&&e.set.some(i=>Xc(i,n)&&r.every(s=>i.every(c=>s.intersects(c,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Ih(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Jh(this.set[n],e,this.options))return!0;return!1}};Jc.exports=Ii;var kh=Gc(),Bc=new kh,xh=Rr(),Fi=Kn(),le=Hn(),Ih=je(),{safeRe:Qe,t:Ue,comparatorTrimReplace:Fh,tildeTrimReplace:Nh,caretTrimReplace:Lh}=Sn(),{FLAG_INCLUDE_PRERELEASE:Mh,FLAG_LOOSE:Ah}=Wn(),Vc=t=>t.value==="<0.0.0-0",jh=t=>t.value==="",Xc=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},$h=(t,e)=>(le("comp",t,e),t=Uh(t,e),le("caret",t),t=Wh(t,e),le("tildes",t),t=zh(t,e),le("xrange",t),t=Bh(t,e),le("stars",t),t),Ke=t=>!t||t.toLowerCase()==="x"||t==="*",Wh=(t,e)=>t.trim().split(/\s+/).map(n=>Hh(n,e)).join(" "),Hh=(t,e)=>{let n=e.loose?Qe[Ue.TILDELOOSE]:Qe[Ue.TILDE];return t.replace(n,(r,i,s,c,f)=>{le("tilde",t,r,i,s,c,f);let d;return Ke(i)?d="":Ke(s)?d=`>=${i}.0.0 <${+i+1}.0.0-0`:Ke(c)?d=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:f?(le("replaceTilde pr",f),d=`>=${i}.${s}.${c}-${f} <${i}.${+s+1}.0-0`):d=`>=${i}.${s}.${c} <${i}.${+s+1}.0-0`,le("tilde return",d),d})},Uh=(t,e)=>t.trim().split(/\s+/).map(n=>Kh(n,e)).join(" "),Kh=(t,e)=>{le("caret",t,e);let n=e.loose?Qe[Ue.CARETLOOSE]:Qe[Ue.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,c,f,d)=>{le("caret",t,i,s,c,f,d);let v;return Ke(s)?v="":Ke(c)?v=`>=${s}.0.0${r} <${+s+1}.0.0-0`:Ke(f)?s==="0"?v=`>=${s}.${c}.0${r} <${s}.${+c+1}.0-0`:v=`>=${s}.${c}.0${r} <${+s+1}.0.0-0`:d?(le("replaceCaret pr",d),s==="0"?c==="0"?v=`>=${s}.${c}.${f}-${d} <${s}.${c}.${+f+1}-0`:v=`>=${s}.${c}.${f}-${d} <${s}.${+c+1}.0-0`:v=`>=${s}.${c}.${f}-${d} <${+s+1}.0.0-0`):(le("no pr"),s==="0"?c==="0"?v=`>=${s}.${c}.${f}${r} <${s}.${c}.${+f+1}-0`:v=`>=${s}.${c}.${f}${r} <${s}.${+c+1}.0-0`:v=`>=${s}.${c}.${f} <${+s+1}.0.0-0`),le("caret return",v),v})},zh=(t,e)=>(le("replaceXRanges",t,e),t.split(/\s+/).map(n=>Gh(n,e)).join(" ")),Gh=(t,e)=>{t=t.trim();let n=e.loose?Qe[Ue.XRANGELOOSE]:Qe[Ue.XRANGE];return t.replace(n,(r,i,s,c,f,d)=>{le("xRange",t,r,i,s,c,f,d);let v=Ke(s),R=v||Ke(c),w=R||Ke(f),T=w;return i==="="&&T&&(i=""),d=e.includePrerelease?"-0":"",v?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&T?(R&&(c=0),f=0,i===">"?(i=">=",R?(s=+s+1,c=0,f=0):(c=+c+1,f=0)):i==="<="&&(i="<",R?s=+s+1:c=+c+1),i==="<"&&(d="-0"),r=`${i+s}.${c}.${f}${d}`):R?r=`>=${s}.0.0${d} <${+s+1}.0.0-0`:w&&(r=`>=${s}.${c}.0${d} <${s}.${+c+1}.0-0`),le("xRange return",r),r})},Bh=(t,e)=>(le("replaceStars",t,e),t.trim().replace(Qe[Ue.STAR],"")),Vh=(t,e)=>(le("replaceGTE0",t,e),t.trim().replace(Qe[e.includePrerelease?Ue.GTE0PRE:Ue.GTE0],"")),Xh=t=>(e,n,r,i,s,c,f,d,v,R,w,T)=>(Ke(r)?n="":Ke(i)?n=`>=${r}.0.0${t?"-0":""}`:Ke(s)?n=`>=${r}.${i}.0${t?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Ke(v)?d="":Ke(R)?d=`<${+v+1}.0.0-0`:Ke(w)?d=`<${v}.${+R+1}.0-0`:T?d=`<=${v}.${R}.${w}-${T}`:t?d=`<${v}.${R}.${+w+1}-0`:d=`<=${d}`,`${n} ${d}`.trim()),Jh=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(le(t[r].semver),t[r].semver!==Fi.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Kn=D((XR,nu)=>{var zn=Symbol("SemVer ANY"),Mi=class t{static get ANY(){return zn}constructor(e,n){if(n=Qc(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Li("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===zn?this.value="":this.value=this.operator+this.semver.version,Li("comp",this)}parse(e){let n=this.options.loose?Yc[Zc.COMPARATORLOOSE]:Yc[Zc.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new eu(r[2],this.options.loose):this.semver=zn}toString(){return this.value}test(e){if(Li("Comparator.test",e,this.options.loose),this.semver===zn||e===zn)return!0;if(typeof e=="string")try{e=new eu(e,this.options)}catch{return!1}return Ni(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new tu(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new tu(this.value,n).test(e.semver):(n=Qc(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Ni(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Ni(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};nu.exports=Mi;var Qc=Rr(),{safeRe:Yc,t:Zc}=Sn(),Ni=ki(),Li=Hn(),eu=je(),tu=dt()});var Gn=D((JR,ru)=>{var Qh=dt(),Yh=(t,e,n)=>{try{e=new Qh(e,n)}catch{return!1}return e.test(t)};ru.exports=Yh});var ou=D((QR,iu)=>{var Zh=dt(),eg=(t,e)=>new Zh(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));iu.exports=eg});var au=D((YR,su)=>{var tg=je(),ng=dt(),rg=(t,e,n)=>{let r=null,i=null,s=null;try{s=new ng(e,n)}catch{return null}return t.forEach(c=>{s.test(c)&&(!r||i.compare(c)===-1)&&(r=c,i=new tg(r,n))}),r};su.exports=rg});var uu=D((ZR,cu)=>{var ig=je(),og=dt(),sg=(t,e,n)=>{let r=null,i=null,s=null;try{s=new og(e,n)}catch{return null}return t.forEach(c=>{s.test(c)&&(!r||i.compare(c)===1)&&(r=c,i=new ig(r,n))}),r};cu.exports=sg});var fu=D((e_,du)=>{var Ai=je(),ag=dt(),lu=Un(),cg=(t,e)=>{t=new ag(t,e);let n=new Ai("0.0.0");if(t.test(n)||(n=new Ai("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null;i.forEach(c=>{let f=new Ai(c.semver.version);switch(c.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!s||lu(f,s))&&(s=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),s&&(!n||lu(n,s))&&(n=s)}return n&&t.test(n)?n:null};du.exports=cg});var gu=D((t_,hu)=>{var ug=dt(),lg=(t,e)=>{try{return new ug(t,e).range||"*"}catch{return null}};hu.exports=lg});var Or=D((n_,yu)=>{var dg=je(),vu=Kn(),{ANY:fg}=vu,hg=dt(),gg=Gn(),pu=Un(),mu=br(),pg=Dr(),mg=Pr(),vg=(t,e,n,r)=>{t=new dg(t,r),e=new hg(e,r);let i,s,c,f,d;switch(n){case">":i=pu,s=pg,c=mu,f=">",d=">=";break;case"<":i=mu,s=mg,c=pu,f="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(gg(t,e,r))return!1;for(let v=0;v<e.set.length;++v){let R=e.set[v],w=null,T=null;if(R.forEach(b=>{b.semver===fg&&(b=new vu(">=0.0.0")),w=w||b,T=T||b,i(b.semver,w.semver,r)?w=b:c(b.semver,T.semver,r)&&(T=b)}),w.operator===f||w.operator===d||(!T.operator||T.operator===f)&&s(t,T.semver))return!1;if(T.operator===d&&c(t,T.semver))return!1}return!0};yu.exports=vg});var Ru=D((r_,Cu)=>{var yg=Or(),Cg=(t,e,n)=>yg(t,e,">",n);Cu.exports=Cg});var wu=D((i_,_u)=>{var Rg=Or(),_g=(t,e,n)=>Rg(t,e,"<",n);_u.exports=_g});var bu=D((o_,Tu)=>{var Su=dt(),wg=(t,e,n)=>(t=new Su(t,n),e=new Su(e,n),t.intersects(e,n));Tu.exports=wg});var Du=D((s_,Pu)=>{var Sg=Gn(),Tg=lt();Pu.exports=(t,e,n)=>{let r=[],i=null,s=null,c=t.sort((R,w)=>Tg(R,w,n));for(let R of c)Sg(R,e,n)?(s=R,i||(i=R)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);let f=[];for(let[R,w]of r)R===w?f.push(R):!w&&R===c[0]?f.push("*"):w?R===c[0]?f.push(`<=${w}`):f.push(`${R} - ${w}`):f.push(`>=${R}`);let d=f.join(" || "),v=typeof e.raw=="string"?e.raw:String(e);return d.length<v.length?d:e}});var Iu=D((a_,xu)=>{var Eu=dt(),$i=Kn(),{ANY:ji}=$i,Bn=Gn(),Wi=lt(),bg=(t,e,n={})=>{if(t===e)return!0;t=new Eu(t,n),e=new Eu(e,n);let r=!1;e:for(let i of t.set){for(let s of e.set){let c=Dg(i,s,n);if(r=r||c!==null,c)continue e}if(r)return!1}return!0},Pg=[new $i(">=0.0.0-0")],qu=[new $i(">=0.0.0")],Dg=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===ji){if(e.length===1&&e[0].semver===ji)return!0;n.includePrerelease?t=Pg:t=qu}if(e.length===1&&e[0].semver===ji){if(n.includePrerelease)return!0;e=qu}let r=new Set,i,s;for(let b of t)b.operator===">"||b.operator===">="?i=Ou(i,b,n):b.operator==="<"||b.operator==="<="?s=ku(s,b,n):r.add(b.semver);if(r.size>1)return null;let c;if(i&&s){if(c=Wi(i.semver,s.semver,n),c>0)return null;if(c===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let b of r){if(i&&!Bn(b,String(i),n)||s&&!Bn(b,String(s),n))return null;for(let I of e)if(!Bn(b,String(I),n))return!1;return!0}let f,d,v,R,w=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,T=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;w&&w.prerelease.length===1&&s.operator==="<"&&w.prerelease[0]===0&&(w=!1);for(let b of e){if(R=R||b.operator===">"||b.operator===">=",v=v||b.operator==="<"||b.operator==="<=",i){if(T&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===T.major&&b.semver.minor===T.minor&&b.semver.patch===T.patch&&(T=!1),b.operator===">"||b.operator===">="){if(f=Ou(i,b,n),f===b&&f!==i)return!1}else if(i.operator===">="&&!Bn(i.semver,String(b),n))return!1}if(s){if(w&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===w.major&&b.semver.minor===w.minor&&b.semver.patch===w.patch&&(w=!1),b.operator==="<"||b.operator==="<="){if(d=ku(s,b,n),d===b&&d!==s)return!1}else if(s.operator==="<="&&!Bn(s.semver,String(b),n))return!1}if(!b.operator&&(s||i)&&c!==0)return!1}return!(i&&v&&!s&&c!==0||s&&R&&!i&&c!==0||T||w)},Ou=(t,e,n)=>{if(!t)return e;let r=Wi(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},ku=(t,e,n)=>{if(!t)return e;let r=Wi(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};xu.exports=bg});var Mu=D((c_,Lu)=>{var Hi=Sn(),Fu=Wn(),Eg=je(),Nu=Di(),qg=un(),Og=ac(),kg=uc(),xg=fc(),Ig=pc(),Fg=vc(),Ng=Cc(),Lg=_c(),Mg=Sc(),Ag=lt(),jg=Dc(),$g=qc(),Wg=Tr(),Hg=Ic(),Ug=Nc(),Kg=Un(),zg=br(),Gg=qi(),Bg=Oi(),Vg=Pr(),Xg=Dr(),Jg=ki(),Qg=Kc(),Yg=Kn(),Zg=dt(),ep=Gn(),tp=ou(),np=au(),rp=uu(),ip=fu(),op=gu(),sp=Or(),ap=Ru(),cp=wu(),up=bu(),lp=Du(),dp=Iu();Lu.exports={parse:qg,valid:Og,clean:kg,inc:xg,diff:Ig,major:Fg,minor:Ng,patch:Lg,prerelease:Mg,compare:Ag,rcompare:jg,compareLoose:$g,compareBuild:Wg,sort:Hg,rsort:Ug,gt:Kg,lt:zg,eq:Gg,neq:Bg,gte:Vg,lte:Xg,cmp:Jg,coerce:Qg,Comparator:Yg,Range:Zg,satisfies:ep,toComparators:tp,maxSatisfying:np,minSatisfying:rp,minVersion:ip,validRange:op,outside:sp,gtr:ap,ltr:cp,intersects:up,simplifyRange:lp,subset:dp,SemVer:Eg,re:Hi.re,src:Hi.src,tokens:Hi.t,SEMVER_SPEC_VERSION:Fu.SEMVER_SPEC_VERSION,RELEASE_TYPES:Fu.RELEASE_TYPES,compareIdentifiers:Nu.compareIdentifiers,rcompareIdentifiers:Nu.rcompareIdentifiers}});var Jt=D(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.asPromise=ye.thenable=ye.typedArray=ye.stringArray=ye.array=ye.func=ye.error=ye.number=ye.string=ye.boolean=void 0;function fp(t){return t===!0||t===!1}ye.boolean=fp;function Au(t){return typeof t=="string"||t instanceof String}ye.string=Au;function hp(t){return typeof t=="number"||t instanceof Number}ye.number=hp;function gp(t){return t instanceof Error}ye.error=gp;function ju(t){return typeof t=="function"}ye.func=ju;function $u(t){return Array.isArray(t)}ye.array=$u;function pp(t){return $u(t)&&t.every(e=>Au(e))}ye.stringArray=pp;function mp(t,e){return Array.isArray(t)&&t.every(e)}ye.typedArray=mp;function Wu(t){return t&&ju(t.then)}ye.thenable=Wu;function vp(t){return t instanceof Promise?t:Wu(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}ye.asPromise=vp});var Nt=D(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});var Ui;function Ki(){if(Ui===void 0)throw new Error("No runtime abstraction layer installed");return Ui}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Ui=n}t.install=e})(Ki||(Ki={}));zi.default=Ki});var Gi=D(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.Disposable=void 0;var yp;(function(t){function e(n){return{dispose:n}}t.create=e})(yp=Vn.Disposable||(Vn.Disposable={}))});var Hu=D(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.AbstractMessageBuffer=void 0;var Cp=13,Rp=10,_p=`\r
`,Bi=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let d=this._chunks[n];for(r=0;r<d.length;){switch(d[r]){case Cp:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case Rp:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=d.byteLength,n++}if(e!==4)return;let s=this._read(i+r),c=new Map,f=this.toString(s,"ascii").split(_p);if(f.length<2)return c;for(let d=0;d<f.length-2;d++){let v=f[d],R=v.indexOf(":");if(R===-1)throw new Error("Message header must separate key and value using :");let w=v.substr(0,R),T=v.substr(R+1).trim();c.set(w,T)}return c}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],c=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,c}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let c=s.slice(0,e);n.set(c,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};kr.AbstractMessageBuffer=Bi});var zu=D(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var wp=Nt(),Uu=require("util"),ln=Gi(),Sp=Hu(),xr=class t extends Sp.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Uu.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};xr.emptyBuffer=Buffer.allocUnsafe(0);var Vi=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ln.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ln.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ln.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ln.Disposable.create(()=>this.stream.off("data",e))}},Xi=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ln.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ln.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ln.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=c=>{c==null?r():i(c)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Ku=Object.freeze({messageBuffer:Object.freeze({create:t=>new xr(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Uu.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Vi(t),asWritableStream:t=>new Xi(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Ji(){return Ku}(function(t){function e(){wp.default.install(Ku)}t.install=e})(Ji||(Ji={}));Qi.default=Ji});var bn=D($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.stringArray=$e.array=$e.func=$e.error=$e.number=$e.string=$e.boolean=void 0;function Tp(t){return t===!0||t===!1}$e.boolean=Tp;function Gu(t){return typeof t=="string"||t instanceof String}$e.string=Gu;function bp(t){return typeof t=="number"||t instanceof Number}$e.number=bp;function Pp(t){return t instanceof Error}$e.error=Pp;function Dp(t){return typeof t=="function"}$e.func=Dp;function Bu(t){return Array.isArray(t)}$e.array=Bu;function Ep(t){return Bu(t)&&t.every(e=>Gu(e))}$e.stringArray=Ep});var wo=D(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.isResponseMessage=j.isNotificationMessage=j.isRequestMessage=j.NotificationType9=j.NotificationType8=j.NotificationType7=j.NotificationType6=j.NotificationType5=j.NotificationType4=j.NotificationType3=j.NotificationType2=j.NotificationType1=j.NotificationType0=j.NotificationType=j.RequestType9=j.RequestType8=j.RequestType7=j.RequestType6=j.RequestType5=j.RequestType4=j.RequestType3=j.RequestType2=j.RequestType1=j.RequestType=j.RequestType0=j.AbstractMessageSignature=j.ParameterStructures=j.ResponseError=j.ErrorCodes=void 0;var dn=bn(),Vu;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(Vu=j.ErrorCodes||(j.ErrorCodes={}));var Yi=class t extends Error{constructor(e,n,r){super(n),this.code=dn.number(e)?e:Vu.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};j.ResponseError=Yi;var Ye=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};j.ParameterStructures=Ye;Ye.auto=new Ye("auto");Ye.byPosition=new Ye("byPosition");Ye.byName=new Ye("byName");var de=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Ye.auto}};j.AbstractMessageSignature=de;var Zi=class extends de{constructor(e){super(e,0)}};j.RequestType0=Zi;var eo=class extends de{constructor(e,n=Ye.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.RequestType=eo;var to=class extends de{constructor(e,n=Ye.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.RequestType1=to;var no=class extends de{constructor(e){super(e,2)}};j.RequestType2=no;var ro=class extends de{constructor(e){super(e,3)}};j.RequestType3=ro;var io=class extends de{constructor(e){super(e,4)}};j.RequestType4=io;var oo=class extends de{constructor(e){super(e,5)}};j.RequestType5=oo;var so=class extends de{constructor(e){super(e,6)}};j.RequestType6=so;var ao=class extends de{constructor(e){super(e,7)}};j.RequestType7=ao;var co=class extends de{constructor(e){super(e,8)}};j.RequestType8=co;var uo=class extends de{constructor(e){super(e,9)}};j.RequestType9=uo;var lo=class extends de{constructor(e,n=Ye.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.NotificationType=lo;var fo=class extends de{constructor(e){super(e,0)}};j.NotificationType0=fo;var ho=class extends de{constructor(e,n=Ye.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.NotificationType1=ho;var go=class extends de{constructor(e){super(e,2)}};j.NotificationType2=go;var po=class extends de{constructor(e){super(e,3)}};j.NotificationType3=po;var mo=class extends de{constructor(e){super(e,4)}};j.NotificationType4=mo;var vo=class extends de{constructor(e){super(e,5)}};j.NotificationType5=vo;var yo=class extends de{constructor(e){super(e,6)}};j.NotificationType6=yo;var Co=class extends de{constructor(e){super(e,7)}};j.NotificationType7=Co;var Ro=class extends de{constructor(e){super(e,8)}};j.NotificationType8=Ro;var _o=class extends de{constructor(e){super(e,9)}};j.NotificationType9=_o;function qp(t){let e=t;return e&&dn.string(e.method)&&(dn.string(e.id)||dn.number(e.id))}j.isRequestMessage=qp;function Op(t){let e=t;return e&&dn.string(e.method)&&t.id===void 0}j.isNotificationMessage=Op;function kp(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(dn.string(e.id)||dn.number(e.id)||e.id===null)}j.isResponseMessage=kp});var Pn=D(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.Emitter=fn.Event=void 0;var xp=Nt(),Ip;(function(t){let e={dispose(){}};t.None=function(){return e}})(Ip=fn.Event||(fn.Event={}));var So=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,c=r.length;s<c;s++)try{n.push(r[s].apply(i[s],e))}catch(f){xp.default().console.error(f)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ir=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new So),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};fn.Emitter=Ir;Ir._noop=function(){}});var Do=D(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.CancellationTokenSource=hn.CancellationToken=void 0;var Xu=Nt(),Fp=bn(),To=Pn(),bo;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:To.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:To.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Fp.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(bo=hn.CancellationToken||(hn.CancellationToken={}));var Np=Object.freeze(function(t,e){let n=Xu.default().timer.setTimeout(t.bind(e),0);return{dispose(){Xu.default().timer.clearTimeout(n)}}}),Fr=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Np:(this._emitter||(this._emitter=new To.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Po=class{get token(){return this._token||(this._token=new Fr),this._token}cancel(){this._token?this._token.cancel():this._token=bo.Cancelled}dispose(){this._token?this._token instanceof Fr&&this._token.dispose():this._token=bo.None}};hn.CancellationTokenSource=Po});var Ju=D(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.ReadableStreamMessageReader=Lt.AbstractMessageReader=Lt.MessageReader=void 0;var Nr=Nt(),Dn=bn(),Eo=Pn(),Lp;(function(t){function e(n){let r=n;return r&&Dn.func(r.listen)&&Dn.func(r.dispose)&&Dn.func(r.onError)&&Dn.func(r.onClose)&&Dn.func(r.onPartialMessage)}t.is=e})(Lp=Lt.MessageReader||(Lt.MessageReader={}));var Lr=class{constructor(){this.errorEmitter=new Eo.Emitter,this.closeEmitter=new Eo.Emitter,this.partialMessageEmitter=new Eo.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Dn.string(e.message)?e.message:"unknown"}`)}};Lt.AbstractMessageReader=Lr;var qo;(function(t){function e(n){var r;let i,s,c,f=new Map,d,v=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(c=n.contentDecoder,f.set(c.name,c)),n.contentDecoders!==void 0)for(let R of n.contentDecoders)f.set(R.name,R);if(n.contentTypeDecoder!==void 0&&(d=n.contentTypeDecoder,v.set(d.name,d)),n.contentTypeDecoders!==void 0)for(let R of n.contentTypeDecoders)v.set(R.name,R)}return d===void 0&&(d=Nr.default().applicationJson.decoder,v.set(d.name,d)),{charset:i,contentDecoder:c,contentDecoders:f,contentTypeDecoder:d,contentTypeDecoders:v}}t.fromOptions=e})(qo||(qo={}));var Oo=class extends Lr{constructor(e,n){super(),this.readable=e,this.options=qo.fromOptions(n),this.buffer=Nr.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let c=parseInt(s);if(isNaN(c))throw new Error("Content-Length value must be a number.");this.nextMessageLength=c}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Nr.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Nr.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Lt.ReadableStreamMessageReader=Oo});var Qu=D(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.Semaphore=void 0;var Mp=Nt(),ko=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Mp.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Mr.Semaphore=ko});var tl=D(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.WriteableStreamMessageWriter=Mt.AbstractMessageWriter=Mt.MessageWriter=void 0;var Yu=Nt(),Xn=bn(),Ap=Qu(),Zu=Pn(),jp="Content-Length: ",el=`\r
`,$p;(function(t){function e(n){let r=n;return r&&Xn.func(r.dispose)&&Xn.func(r.onClose)&&Xn.func(r.onError)&&Xn.func(r.write)}t.is=e})($p=Mt.MessageWriter||(Mt.MessageWriter={}));var Ar=class{constructor(){this.errorEmitter=new Zu.Emitter,this.closeEmitter=new Zu.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Xn.string(e.message)?e.message:"unknown"}`)}};Mt.AbstractMessageWriter=Ar;var xo;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:Yu.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:Yu.default().applicationJson.encoder}}t.fromOptions=e})(xo||(xo={}));var Io=class extends Ar{constructor(e,n){super(),this.writable=e,this.options=xo.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Ap.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(jp,r.byteLength.toString(),el),i.push(el),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Mt.WriteableStreamMessageWriter=Io});var nl=D(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.LRUCache=At.LinkedMap=At.Touch=void 0;var ze;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(ze=At.Touch||(At.Touch={}));var jr=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=ze.None){let r=this._map.get(e);if(r)return n!==ze.None&&this.touch(r,n),r.value}set(e,n,r=ze.None){let i=this._map.get(e);if(i)i.value=n,r!==ze.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case ze.None:this.addItemLast(i);break;case ze.First:this.addItemFirst(i);break;case ze.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==ze.First&&n!==ze.Last)){if(n===ze.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===ze.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};At.LinkedMap=jr;var Fo=class extends jr{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=ze.AsNew){return super.get(e,n)}peek(e){return super.get(e,ze.None)}set(e,n){return super.set(e,n,ze.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};At.LRUCache=Fo});var al=D(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.createMessageConnection=V.ConnectionOptions=V.CancellationStrategy=V.CancellationSenderStrategy=V.CancellationReceiverStrategy=V.ConnectionStrategy=V.ConnectionError=V.ConnectionErrors=V.LogTraceNotification=V.SetTraceNotification=V.TraceFormat=V.Trace=V.NullLogger=V.ProgressType=void 0;var rl=Nt(),Ie=bn(),B=wo(),il=nl(),Jn=Pn(),No=Do(),Qn;(function(t){t.type=new B.NotificationType("$/cancelRequest")})(Qn||(Qn={}));var Wr;(function(t){t.type=new B.NotificationType("$/progress")})(Wr||(Wr={}));var Lo=class{constructor(){}};V.ProgressType=Lo;var Mo;(function(t){function e(n){return Ie.func(n)}t.is=e})(Mo||(Mo={}));V.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Te;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Te=V.Trace||(V.Trace={}));(function(t){function e(r){if(!Ie.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Te=V.Trace||(V.Trace={}));var vt;(function(t){t.Text="text",t.JSON="json"})(vt=V.TraceFormat||(V.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(vt=V.TraceFormat||(V.TraceFormat={}));var ol;(function(t){t.type=new B.NotificationType("$/setTrace")})(ol=V.SetTraceNotification||(V.SetTraceNotification={}));var Ao;(function(t){t.type=new B.NotificationType("$/logTrace")})(Ao=V.LogTraceNotification||(V.LogTraceNotification={}));var $r;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})($r=V.ConnectionErrors||(V.ConnectionErrors={}));var En=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};V.ConnectionError=En;var sl;(function(t){function e(n){let r=n;return r&&Ie.func(r.cancelUndispatched)}t.is=e})(sl=V.ConnectionStrategy||(V.ConnectionStrategy={}));var jo;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new No.CancellationTokenSource}});function e(n){let r=n;return r&&Ie.func(r.createCancellationTokenSource)}t.is=e})(jo=V.CancellationReceiverStrategy||(V.CancellationReceiverStrategy={}));var $o;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(Qn.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&Ie.func(r.sendCancellation)&&Ie.func(r.cleanup)}t.is=e})($o=V.CancellationSenderStrategy||(V.CancellationSenderStrategy={}));var Wo;(function(t){t.Message=Object.freeze({receiver:jo.Message,sender:$o.Message});function e(n){let r=n;return r&&jo.is(r.receiver)&&$o.is(r.sender)}t.is=e})(Wo=V.CancellationStrategy||(V.CancellationStrategy={}));var Wp;(function(t){function e(n){let r=n;return r&&(Wo.is(r.cancellationStrategy)||sl.is(r.connectionStrategy))}t.is=e})(Wp=V.ConnectionOptions||(V.ConnectionOptions={}));var yt;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(yt||(yt={}));function Hp(t,e,n,r){let i=n!==void 0?n:V.NullLogger,s=0,c=0,f=0,d="2.0",v,R=Object.create(null),w,T=Object.create(null),b=new Map,I,M=new il.LinkedMap,z=Object.create(null),F=Object.create(null),O=Te.Off,x=vt.Text,q,G=yt.New,Se=new Jn.Emitter,Ee=new Jn.Emitter,qe=new Jn.Emitter,ve=new Jn.Emitter,ke=new Jn.Emitter,xe=r&&r.cancellationStrategy?r.cancellationStrategy:Wo.Message;function Ve(C){if(C===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+C.toString()}function We(C){return C===null?"res-unknown-"+(++f).toString():"res-"+C.toString()}function Xe(){return"not-"+(++c).toString()}function He(C,g){B.isRequestMessage(g)?C.set(Ve(g.id),g):B.isResponseMessage(g)?C.set(We(g.id),g):C.set(Xe(),g)}function gt(C){}function ue(){return G===yt.Listening}function pt(){return G===yt.Closed}function Oe(){return G===yt.Disposed}function tt(){(G===yt.New||G===yt.Listening)&&(G=yt.Closed,Ee.fire(void 0))}function it(C){Se.fire([C,void 0,void 0])}function mt(C){Se.fire(C)}t.onClose(tt),t.onError(it),e.onClose(tt),e.onError(mt);function Ut(){I||M.size===0||(I=rl.default().timer.setImmediate(()=>{I=void 0,Kt()}))}function Kt(){if(M.size===0)return;let C=M.shift();try{B.isRequestMessage(C)?kt(C):B.isNotificationMessage(C)?bt(C):B.isResponseMessage(C)?Tt(C):xt(C)}finally{Ut()}}let Ot=C=>{try{if(B.isNotificationMessage(C)&&C.method===Qn.type.method){let g=Ve(C.params.id),l=M.get(g);if(B.isRequestMessage(l)){let p=r?.connectionStrategy,_=p&&p.cancelUndispatched?p.cancelUndispatched(l,gt):void 0;if(_&&(_.error!==void 0||_.result!==void 0)){M.delete(g),_.id=l.id,ot(_,C.method,Date.now()),e.write(_);return}}}He(M,C)}finally{Ut()}};function kt(C){if(Oe())return;function g(S,k,W){let J={jsonrpc:d,id:C.id};S instanceof B.ResponseError?J.error=S.toJson():J.result=S===void 0?null:S,ot(J,k,W),e.write(J)}function l(S,k,W){let J={jsonrpc:d,id:C.id,error:S.toJson()};ot(J,k,W),e.write(J)}function p(S,k,W){S===void 0&&(S=null);let J={jsonrpc:d,id:C.id,result:S};ot(J,k,W),e.write(J)}Gt(C);let _=R[C.method],o,a;_&&(o=_.type,a=_.handler);let y=Date.now();if(a||v){let S=String(C.id),k=xe.receiver.createCancellationTokenSource(S);F[S]=k;try{let W;if(a)if(C.params===void 0){if(o!==void 0&&o.numberOfParams!==0){l(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${C.method} defines ${o.numberOfParams} params but recevied none.`),C.method,y);return}W=a(k.token)}else if(Array.isArray(C.params)){if(o!==void 0&&o.parameterStructures===B.ParameterStructures.byName){l(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${C.method} defines parameters by name but received parameters by position`),C.method,y);return}W=a(...C.params,k.token)}else{if(o!==void 0&&o.parameterStructures===B.ParameterStructures.byPosition){l(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${C.method} defines parameters by position but received parameters by name`),C.method,y);return}W=a(C.params,k.token)}else v&&(W=v(C.method,C.params,k.token));let J=W;W?J.then?J.then(ie=>{delete F[S],g(ie,C.method,y)},ie=>{delete F[S],ie instanceof B.ResponseError?l(ie,C.method,y):ie&&Ie.string(ie.message)?l(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${C.method} failed with message: ${ie.message}`),C.method,y):l(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${C.method} failed unexpectedly without providing any details.`),C.method,y)}):(delete F[S],g(W,C.method,y)):(delete F[S],p(W,C.method,y))}catch(W){delete F[S],W instanceof B.ResponseError?g(W,C.method,y):W&&Ie.string(W.message)?l(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${C.method} failed with message: ${W.message}`),C.method,y):l(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${C.method} failed unexpectedly without providing any details.`),C.method,y)}}else l(new B.ResponseError(B.ErrorCodes.MethodNotFound,`Unhandled method ${C.method}`),C.method,y)}function Tt(C){if(!Oe())if(C.id===null)C.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(C.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let g=String(C.id),l=z[g];if(on(C,l),l){delete z[g];try{if(C.error){let p=C.error;l.reject(new B.ResponseError(p.code,p.message,p.data))}else if(C.result!==void 0)l.resolve(C.result);else throw new Error("Should never happen.")}catch(p){p.message?i.error(`Response handler '${l.method}' failed with message: ${p.message}`):i.error(`Response handler '${l.method}' failed unexpectedly.`)}}}}function bt(C){if(Oe())return;let g,l;if(C.method===Qn.type.method)l=p=>{let _=p.id,o=F[String(_)];o&&o.cancel()};else{let p=T[C.method];p&&(l=p.handler,g=p.type)}if(l||w)try{st(C),l?C.params===void 0?(g!==void 0&&g.numberOfParams!==0&&g.parameterStructures!==B.ParameterStructures.byName&&i.error(`Notification ${C.method} defines ${g.numberOfParams} params but recevied none.`),l()):Array.isArray(C.params)?(g!==void 0&&(g.parameterStructures===B.ParameterStructures.byName&&i.error(`Notification ${C.method} defines parameters by name but received parameters by position`),g.numberOfParams!==C.params.length&&i.error(`Notification ${C.method} defines ${g.numberOfParams} params but received ${C.params.length} argumennts`)),l(...C.params)):(g!==void 0&&g.parameterStructures===B.ParameterStructures.byPosition&&i.error(`Notification ${C.method} defines parameters by position but received parameters by name`),l(C.params)):w&&w(C.method,C.params)}catch(p){p.message?i.error(`Notification handler '${C.method}' failed with message: ${p.message}`):i.error(`Notification handler '${C.method}' failed unexpectedly.`)}else qe.fire(C)}function xt(C){if(!C){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(C,null,4)}`);let g=C;if(Ie.string(g.id)||Ie.number(g.id)){let l=String(g.id),p=z[l];p&&p.reject(new Error("The received response has neither a result nor an error property."))}}function zt(C){if(!(O===Te.Off||!q))if(x===vt.Text){let g;O===Te.Verbose&&C.params&&(g=`Params: ${JSON.stringify(C.params,null,4)}

`),q.log(`Sending request '${C.method} - (${C.id})'.`,g)}else Ce("send-request",C)}function rn(C){if(!(O===Te.Off||!q))if(x===vt.Text){let g;O===Te.Verbose&&(C.params?g=`Params: ${JSON.stringify(C.params,null,4)}

`:g=`No parameters provided.

`),q.log(`Sending notification '${C.method}'.`,g)}else Ce("send-notification",C)}function ot(C,g,l){if(!(O===Te.Off||!q))if(x===vt.Text){let p;O===Te.Verbose&&(C.error&&C.error.data?p=`Error data: ${JSON.stringify(C.error.data,null,4)}

`:C.result?p=`Result: ${JSON.stringify(C.result,null,4)}

`:C.error===void 0&&(p=`No result returned.

`)),q.log(`Sending response '${g} - (${C.id})'. Processing request took ${Date.now()-l}ms`,p)}else Ce("send-response",C)}function Gt(C){if(!(O===Te.Off||!q))if(x===vt.Text){let g;O===Te.Verbose&&C.params&&(g=`Params: ${JSON.stringify(C.params,null,4)}

`),q.log(`Received request '${C.method} - (${C.id})'.`,g)}else Ce("receive-request",C)}function st(C){if(!(O===Te.Off||!q||C.method===Ao.type.method))if(x===vt.Text){let g;O===Te.Verbose&&(C.params?g=`Params: ${JSON.stringify(C.params,null,4)}

`:g=`No parameters provided.

`),q.log(`Received notification '${C.method}'.`,g)}else Ce("receive-notification",C)}function on(C,g){if(!(O===Te.Off||!q))if(x===vt.Text){let l;if(O===Te.Verbose&&(C.error&&C.error.data?l=`Error data: ${JSON.stringify(C.error.data,null,4)}

`:C.result?l=`Result: ${JSON.stringify(C.result,null,4)}

`:C.error===void 0&&(l=`No result returned.

`)),g){let p=C.error?` Request failed: ${C.error.message} (${C.error.code}).`:"";q.log(`Received response '${g.method} - (${C.id})' in ${Date.now()-g.timerStart}ms.${p}`,l)}else q.log(`Received response ${C.id} without active response promise.`,l)}else Ce("receive-response",C)}function Ce(C,g){if(!q||O===Te.Off)return;let l={isLSPMessage:!0,type:C,message:g,timestamp:Date.now()};q.log(l)}function Je(){if(pt())throw new En($r.Closed,"Connection is closed.");if(Oe())throw new En($r.Disposed,"Connection is disposed.")}function Bt(){if(ue())throw new En($r.AlreadyListening,"Connection is already listening")}function sn(){if(!ue())throw new Error("Call listen() first.")}function at(C){return C===void 0?null:C}function Vt(C){if(C!==null)return C}function It(C){return C!=null&&!Array.isArray(C)&&typeof C=="object"}function ct(C,g){switch(C){case B.ParameterStructures.auto:return It(g)?Vt(g):[at(g)];case B.ParameterStructures.byName:if(!It(g))throw new Error("Recevied parameters by name but param is not an object literal.");return Vt(g);case B.ParameterStructures.byPosition:return[at(g)];default:throw new Error(`Unknown parameter structure ${C.toString()}`)}}function Ft(C,g){let l,p=C.numberOfParams;switch(p){case 0:l=void 0;break;case 1:l=ct(C.parameterStructures,g[0]);break;default:l=[];for(let _=0;_<g.length&&_<p;_++)l.push(at(g[_]));if(g.length<p)for(let _=g.length;_<p;_++)l.push(null);break}return l}let ut={sendNotification:(C,...g)=>{Je();let l,p;if(Ie.string(C)){l=C;let o=g[0],a=0,y=B.ParameterStructures.auto;B.ParameterStructures.is(o)&&(a=1,y=o);let S=g.length,k=S-a;switch(k){case 0:p=void 0;break;case 1:p=ct(y,g[a]);break;default:if(y===B.ParameterStructures.byName)throw new Error(`Recevied ${k} parameters for 'by Name' notification parameter structure.`);p=g.slice(a,S).map(W=>at(W));break}}else{let o=g;l=C.method,p=Ft(C,o)}let _={jsonrpc:d,method:l,params:p};rn(_),e.write(_)},onNotification:(C,g)=>{Je();let l;return Ie.func(C)?w=C:g&&(Ie.string(C)?(l=C,T[C]={type:void 0,handler:g}):(l=C.method,T[C.method]={type:C,handler:g})),{dispose:()=>{l!==void 0?delete T[l]:w=void 0}}},onProgress:(C,g,l)=>{if(b.has(g))throw new Error(`Progress handler for token ${g} already registered`);return b.set(g,l),{dispose:()=>{b.delete(g)}}},sendProgress:(C,g,l)=>{ut.sendNotification(Wr.type,{token:g,value:l})},onUnhandledProgress:ve.event,sendRequest:(C,...g)=>{Je(),sn();let l,p,_;if(Ie.string(C)){l=C;let S=g[0],k=g[g.length-1],W=0,J=B.ParameterStructures.auto;B.ParameterStructures.is(S)&&(W=1,J=S);let ie=g.length;No.CancellationToken.is(k)&&(ie=ie-1,_=k);let Re=ie-W;switch(Re){case 0:p=void 0;break;case 1:p=ct(J,g[W]);break;default:if(J===B.ParameterStructures.byName)throw new Error(`Recevied ${Re} parameters for 'by Name' request parameter structure.`);p=g.slice(W,ie).map(_e=>at(_e));break}}else{let S=g;l=C.method,p=Ft(C,S);let k=C.numberOfParams;_=No.CancellationToken.is(S[k])?S[k]:void 0}let o=s++,a;return _&&(a=_.onCancellationRequested(()=>{xe.sender.sendCancellation(ut,o)})),new Promise((S,k)=>{let W={jsonrpc:d,id:o,method:l,params:p},J=_e=>{S(_e),xe.sender.cleanup(o),a?.dispose()},ie=_e=>{k(_e),xe.sender.cleanup(o),a?.dispose()},Re={method:l,timerStart:Date.now(),resolve:J,reject:ie};zt(W);try{e.write(W)}catch(_e){Re.reject(new B.ResponseError(B.ErrorCodes.MessageWriteError,_e.message?_e.message:"Unknown reason")),Re=null}Re&&(z[String(o)]=Re)})},onRequest:(C,g)=>{Je();let l=null;return Mo.is(C)?(l=void 0,v=C):Ie.string(C)?(l=null,g!==void 0&&(l=C,R[C]={handler:g,type:void 0})):g!==void 0&&(l=C.method,R[C.method]={type:C,handler:g}),{dispose:()=>{l!==null&&(l!==void 0?delete R[l]:v=void 0)}}},trace:(C,g,l)=>{let p=!1,_=vt.Text;l!==void 0&&(Ie.boolean(l)?p=l:(p=l.sendNotification||!1,_=l.traceFormat||vt.Text)),O=C,x=_,O===Te.Off?q=void 0:q=g,p&&!pt()&&!Oe()&&ut.sendNotification(ol.type,{value:Te.toString(C)})},onError:Se.event,onClose:Ee.event,onUnhandledNotification:qe.event,onDispose:ke.event,end:()=>{e.end()},dispose:()=>{if(Oe())return;G=yt.Disposed,ke.fire(void 0);let C=new Error("Connection got disposed.");Object.keys(z).forEach(g=>{z[g].reject(C)}),z=Object.create(null),F=Object.create(null),M=new il.LinkedMap,Ie.func(e.dispose)&&e.dispose(),Ie.func(t.dispose)&&t.dispose()},listen:()=>{Je(),Bt(),G=yt.Listening,t.listen(Ot)},inspect:()=>{rl.default().console.log("inspect")}};return ut.onNotification(Ao.type,C=>{O===Te.Off||!q||q.log(C.message,O===Te.Verbose?C.verbose:void 0)}),ut.onNotification(Wr.type,C=>{let g=b.get(C.token);g?g(C.value):ve.fire(C)}),ut}V.createMessageConnection=Hp});var Ko=D(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.CancellationSenderStrategy=E.CancellationReceiverStrategy=E.ConnectionError=E.ConnectionErrors=E.LogTraceNotification=E.SetTraceNotification=E.TraceFormat=E.Trace=E.ProgressType=E.createMessageConnection=E.NullLogger=E.ConnectionOptions=E.ConnectionStrategy=E.WriteableStreamMessageWriter=E.AbstractMessageWriter=E.MessageWriter=E.ReadableStreamMessageReader=E.AbstractMessageReader=E.MessageReader=E.CancellationToken=E.CancellationTokenSource=E.Emitter=E.Event=E.Disposable=E.ParameterStructures=E.NotificationType9=E.NotificationType8=E.NotificationType7=E.NotificationType6=E.NotificationType5=E.NotificationType4=E.NotificationType3=E.NotificationType2=E.NotificationType1=E.NotificationType0=E.NotificationType=E.ErrorCodes=E.ResponseError=E.RequestType9=E.RequestType8=E.RequestType7=E.RequestType6=E.RequestType5=E.RequestType4=E.RequestType3=E.RequestType2=E.RequestType1=E.RequestType0=E.RequestType=E.RAL=void 0;E.CancellationStrategy=void 0;var fe=wo();Object.defineProperty(E,"RequestType",{enumerable:!0,get:function(){return fe.RequestType}});Object.defineProperty(E,"RequestType0",{enumerable:!0,get:function(){return fe.RequestType0}});Object.defineProperty(E,"RequestType1",{enumerable:!0,get:function(){return fe.RequestType1}});Object.defineProperty(E,"RequestType2",{enumerable:!0,get:function(){return fe.RequestType2}});Object.defineProperty(E,"RequestType3",{enumerable:!0,get:function(){return fe.RequestType3}});Object.defineProperty(E,"RequestType4",{enumerable:!0,get:function(){return fe.RequestType4}});Object.defineProperty(E,"RequestType5",{enumerable:!0,get:function(){return fe.RequestType5}});Object.defineProperty(E,"RequestType6",{enumerable:!0,get:function(){return fe.RequestType6}});Object.defineProperty(E,"RequestType7",{enumerable:!0,get:function(){return fe.RequestType7}});Object.defineProperty(E,"RequestType8",{enumerable:!0,get:function(){return fe.RequestType8}});Object.defineProperty(E,"RequestType9",{enumerable:!0,get:function(){return fe.RequestType9}});Object.defineProperty(E,"ResponseError",{enumerable:!0,get:function(){return fe.ResponseError}});Object.defineProperty(E,"ErrorCodes",{enumerable:!0,get:function(){return fe.ErrorCodes}});Object.defineProperty(E,"NotificationType",{enumerable:!0,get:function(){return fe.NotificationType}});Object.defineProperty(E,"NotificationType0",{enumerable:!0,get:function(){return fe.NotificationType0}});Object.defineProperty(E,"NotificationType1",{enumerable:!0,get:function(){return fe.NotificationType1}});Object.defineProperty(E,"NotificationType2",{enumerable:!0,get:function(){return fe.NotificationType2}});Object.defineProperty(E,"NotificationType3",{enumerable:!0,get:function(){return fe.NotificationType3}});Object.defineProperty(E,"NotificationType4",{enumerable:!0,get:function(){return fe.NotificationType4}});Object.defineProperty(E,"NotificationType5",{enumerable:!0,get:function(){return fe.NotificationType5}});Object.defineProperty(E,"NotificationType6",{enumerable:!0,get:function(){return fe.NotificationType6}});Object.defineProperty(E,"NotificationType7",{enumerable:!0,get:function(){return fe.NotificationType7}});Object.defineProperty(E,"NotificationType8",{enumerable:!0,get:function(){return fe.NotificationType8}});Object.defineProperty(E,"NotificationType9",{enumerable:!0,get:function(){return fe.NotificationType9}});Object.defineProperty(E,"ParameterStructures",{enumerable:!0,get:function(){return fe.ParameterStructures}});var Up=Gi();Object.defineProperty(E,"Disposable",{enumerable:!0,get:function(){return Up.Disposable}});var cl=Pn();Object.defineProperty(E,"Event",{enumerable:!0,get:function(){return cl.Event}});Object.defineProperty(E,"Emitter",{enumerable:!0,get:function(){return cl.Emitter}});var ul=Do();Object.defineProperty(E,"CancellationTokenSource",{enumerable:!0,get:function(){return ul.CancellationTokenSource}});Object.defineProperty(E,"CancellationToken",{enumerable:!0,get:function(){return ul.CancellationToken}});var Ho=Ju();Object.defineProperty(E,"MessageReader",{enumerable:!0,get:function(){return Ho.MessageReader}});Object.defineProperty(E,"AbstractMessageReader",{enumerable:!0,get:function(){return Ho.AbstractMessageReader}});Object.defineProperty(E,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Ho.ReadableStreamMessageReader}});var Uo=tl();Object.defineProperty(E,"MessageWriter",{enumerable:!0,get:function(){return Uo.MessageWriter}});Object.defineProperty(E,"AbstractMessageWriter",{enumerable:!0,get:function(){return Uo.AbstractMessageWriter}});Object.defineProperty(E,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Uo.WriteableStreamMessageWriter}});var Ze=al();Object.defineProperty(E,"ConnectionStrategy",{enumerable:!0,get:function(){return Ze.ConnectionStrategy}});Object.defineProperty(E,"ConnectionOptions",{enumerable:!0,get:function(){return Ze.ConnectionOptions}});Object.defineProperty(E,"NullLogger",{enumerable:!0,get:function(){return Ze.NullLogger}});Object.defineProperty(E,"createMessageConnection",{enumerable:!0,get:function(){return Ze.createMessageConnection}});Object.defineProperty(E,"ProgressType",{enumerable:!0,get:function(){return Ze.ProgressType}});Object.defineProperty(E,"Trace",{enumerable:!0,get:function(){return Ze.Trace}});Object.defineProperty(E,"TraceFormat",{enumerable:!0,get:function(){return Ze.TraceFormat}});Object.defineProperty(E,"SetTraceNotification",{enumerable:!0,get:function(){return Ze.SetTraceNotification}});Object.defineProperty(E,"LogTraceNotification",{enumerable:!0,get:function(){return Ze.LogTraceNotification}});Object.defineProperty(E,"ConnectionErrors",{enumerable:!0,get:function(){return Ze.ConnectionErrors}});Object.defineProperty(E,"ConnectionError",{enumerable:!0,get:function(){return Ze.ConnectionError}});Object.defineProperty(E,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Ze.CancellationReceiverStrategy}});Object.defineProperty(E,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Ze.CancellationSenderStrategy}});Object.defineProperty(E,"CancellationStrategy",{enumerable:!0,get:function(){return Ze.CancellationStrategy}});var Kp=Nt();E.RAL=Kp.default});var On=D(ne=>{"use strict";var zp=ne&&ne.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Gp=ne&&ne.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&zp(e,t,n)};Object.defineProperty(ne,"__esModule",{value:!0});ne.createMessageConnection=ne.createServerSocketTransport=ne.createClientSocketTransport=ne.createServerPipeTransport=ne.createClientPipeTransport=ne.generateRandomPipeName=ne.StreamMessageWriter=ne.StreamMessageReader=ne.SocketMessageWriter=ne.SocketMessageReader=ne.IPCMessageWriter=ne.IPCMessageReader=void 0;var qn=zu();qn.default.install();var Dt=Ko(),ll=require("path"),Bp=require("os"),Vp=require("crypto"),Kr=require("net");Gp(Ko(),ne);var zo=class extends Dt.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Dt.Disposable.create(()=>this.process.off("message",e))}};ne.IPCMessageReader=zo;var Go=class extends Dt.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};ne.IPCMessageWriter=Go;var gn=class extends Dt.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(qn.default().stream.asReadableStream(e),n)}};ne.SocketMessageReader=gn;var pn=class extends Dt.WriteableStreamMessageWriter{constructor(e,n){super(qn.default().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ne.SocketMessageWriter=pn;var Hr=class extends Dt.ReadableStreamMessageReader{constructor(e,n){super(qn.default().stream.asReadableStream(e),n)}};ne.StreamMessageReader=Hr;var Ur=class extends Dt.WriteableStreamMessageWriter{constructor(e,n){super(qn.default().stream.asWritableStream(e),n)}};ne.StreamMessageWriter=Ur;var dl=process.env.XDG_RUNTIME_DIR,Xp=new Map([["linux",107],["darwin",103]]);function Jp(){let t=Vp.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;dl?e=ll.join(dl,`vscode-ipc-${t}.sock`):e=ll.join(Bp.tmpdir(),`vscode-${t}.sock`);let n=Xp.get(process.platform);return n!==void 0&&e.length>=n&&qn.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}ne.generateRandomPipeName=Jp;function Qp(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let c=Kr.createServer(f=>{c.close(),n([new gn(f,e),new pn(f,e)])});c.on("error",s),c.listen(t,()=>{c.removeListener("error",s),i({onConnected:()=>r})})})}ne.createClientPipeTransport=Qp;function Yp(t,e="utf-8"){let n=Kr.createConnection(t);return[new gn(n,e),new pn(n,e)]}ne.createServerPipeTransport=Yp;function Zp(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let c=Kr.createServer(f=>{c.close(),n([new gn(f,e),new pn(f,e)])});c.on("error",s),c.listen(t,"127.0.0.1",()=>{c.removeListener("error",s),i({onConnected:()=>r})})})}ne.createClientSocketTransport=Zp;function em(t,e="utf-8"){let n=Kr.createConnection(t,"127.0.0.1");return[new gn(n,e),new pn(n,e)]}ne.createServerSocketTransport=em;function tm(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function nm(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function rm(t,e,n,r){n||(n=Dt.NullLogger);let i=tm(t)?new Hr(t):t,s=nm(e)?new Ur(e):e;return Dt.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Dt.createMessageConnection(i,s,n,r)}ne.createMessageConnection=rm});var Bo=D((b_,fl)=>{"use strict";fl.exports=On()});var gl=D((hl,zr)=>{(function(t){if(typeof zr=="object"&&typeof zr.exports=="object"){var e=t(require,hl);e!==void 0&&(zr.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(l){l.MIN_VALUE=-2147483648,l.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(l){l.MIN_VALUE=0,l.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(l){function p(o,a){return o===Number.MAX_VALUE&&(o=r.MAX_VALUE),a===Number.MAX_VALUE&&(a=r.MAX_VALUE),{line:o,character:a}}l.create=p;function _(o){var a=o;return g.objectLiteral(a)&&g.uinteger(a.line)&&g.uinteger(a.character)}l.is=_})(i=e.Position||(e.Position={}));var s;(function(l){function p(o,a,y,S){if(g.uinteger(o)&&g.uinteger(a)&&g.uinteger(y)&&g.uinteger(S))return{start:i.create(o,a),end:i.create(y,S)};if(i.is(o)&&i.is(a))return{start:o,end:a};throw new Error("Range#create called with invalid arguments["+o+", "+a+", "+y+", "+S+"]")}l.create=p;function _(o){var a=o;return g.objectLiteral(a)&&i.is(a.start)&&i.is(a.end)}l.is=_})(s=e.Range||(e.Range={}));var c;(function(l){function p(o,a){return{uri:o,range:a}}l.create=p;function _(o){var a=o;return g.defined(a)&&s.is(a.range)&&(g.string(a.uri)||g.undefined(a.uri))}l.is=_})(c=e.Location||(e.Location={}));var f;(function(l){function p(o,a,y,S){return{targetUri:o,targetRange:a,targetSelectionRange:y,originSelectionRange:S}}l.create=p;function _(o){var a=o;return g.defined(a)&&s.is(a.targetRange)&&g.string(a.targetUri)&&(s.is(a.targetSelectionRange)||g.undefined(a.targetSelectionRange))&&(s.is(a.originSelectionRange)||g.undefined(a.originSelectionRange))}l.is=_})(f=e.LocationLink||(e.LocationLink={}));var d;(function(l){function p(o,a,y,S){return{red:o,green:a,blue:y,alpha:S}}l.create=p;function _(o){var a=o;return g.numberRange(a.red,0,1)&&g.numberRange(a.green,0,1)&&g.numberRange(a.blue,0,1)&&g.numberRange(a.alpha,0,1)}l.is=_})(d=e.Color||(e.Color={}));var v;(function(l){function p(o,a){return{range:o,color:a}}l.create=p;function _(o){var a=o;return s.is(a.range)&&d.is(a.color)}l.is=_})(v=e.ColorInformation||(e.ColorInformation={}));var R;(function(l){function p(o,a,y){return{label:o,textEdit:a,additionalTextEdits:y}}l.create=p;function _(o){var a=o;return g.string(a.label)&&(g.undefined(a.textEdit)||x.is(a))&&(g.undefined(a.additionalTextEdits)||g.typedArray(a.additionalTextEdits,x.is))}l.is=_})(R=e.ColorPresentation||(e.ColorPresentation={}));var w;(function(l){l.Comment="comment",l.Imports="imports",l.Region="region"})(w=e.FoldingRangeKind||(e.FoldingRangeKind={}));var T;(function(l){function p(o,a,y,S,k){var W={startLine:o,endLine:a};return g.defined(y)&&(W.startCharacter=y),g.defined(S)&&(W.endCharacter=S),g.defined(k)&&(W.kind=k),W}l.create=p;function _(o){var a=o;return g.uinteger(a.startLine)&&g.uinteger(a.startLine)&&(g.undefined(a.startCharacter)||g.uinteger(a.startCharacter))&&(g.undefined(a.endCharacter)||g.uinteger(a.endCharacter))&&(g.undefined(a.kind)||g.string(a.kind))}l.is=_})(T=e.FoldingRange||(e.FoldingRange={}));var b;(function(l){function p(o,a){return{location:o,message:a}}l.create=p;function _(o){var a=o;return g.defined(a)&&c.is(a.location)&&g.string(a.message)}l.is=_})(b=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var I;(function(l){l.Error=1,l.Warning=2,l.Information=3,l.Hint=4})(I=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var M;(function(l){l.Unnecessary=1,l.Deprecated=2})(M=e.DiagnosticTag||(e.DiagnosticTag={}));var z;(function(l){function p(_){var o=_;return o!=null&&g.string(o.href)}l.is=p})(z=e.CodeDescription||(e.CodeDescription={}));var F;(function(l){function p(o,a,y,S,k,W){var J={range:o,message:a};return g.defined(y)&&(J.severity=y),g.defined(S)&&(J.code=S),g.defined(k)&&(J.source=k),g.defined(W)&&(J.relatedInformation=W),J}l.create=p;function _(o){var a,y=o;return g.defined(y)&&s.is(y.range)&&g.string(y.message)&&(g.number(y.severity)||g.undefined(y.severity))&&(g.integer(y.code)||g.string(y.code)||g.undefined(y.code))&&(g.undefined(y.codeDescription)||g.string((a=y.codeDescription)===null||a===void 0?void 0:a.href))&&(g.string(y.source)||g.undefined(y.source))&&(g.undefined(y.relatedInformation)||g.typedArray(y.relatedInformation,b.is))}l.is=_})(F=e.Diagnostic||(e.Diagnostic={}));var O;(function(l){function p(o,a){for(var y=[],S=2;S<arguments.length;S++)y[S-2]=arguments[S];var k={title:o,command:a};return g.defined(y)&&y.length>0&&(k.arguments=y),k}l.create=p;function _(o){var a=o;return g.defined(a)&&g.string(a.title)&&g.string(a.command)}l.is=_})(O=e.Command||(e.Command={}));var x;(function(l){function p(y,S){return{range:y,newText:S}}l.replace=p;function _(y,S){return{range:{start:y,end:y},newText:S}}l.insert=_;function o(y){return{range:y,newText:""}}l.del=o;function a(y){var S=y;return g.objectLiteral(S)&&g.string(S.newText)&&s.is(S.range)}l.is=a})(x=e.TextEdit||(e.TextEdit={}));var q;(function(l){function p(o,a,y){var S={label:o};return a!==void 0&&(S.needsConfirmation=a),y!==void 0&&(S.description=y),S}l.create=p;function _(o){var a=o;return a!==void 0&&g.objectLiteral(a)&&g.string(a.label)&&(g.boolean(a.needsConfirmation)||a.needsConfirmation===void 0)&&(g.string(a.description)||a.description===void 0)}l.is=_})(q=e.ChangeAnnotation||(e.ChangeAnnotation={}));var G;(function(l){function p(_){var o=_;return typeof o=="string"}l.is=p})(G=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var Se;(function(l){function p(y,S,k){return{range:y,newText:S,annotationId:k}}l.replace=p;function _(y,S,k){return{range:{start:y,end:y},newText:S,annotationId:k}}l.insert=_;function o(y,S){return{range:y,newText:"",annotationId:S}}l.del=o;function a(y){var S=y;return x.is(S)&&(q.is(S.annotationId)||G.is(S.annotationId))}l.is=a})(Se=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var Ee;(function(l){function p(o,a){return{textDocument:o,edits:a}}l.create=p;function _(o){var a=o;return g.defined(a)&&ue.is(a.textDocument)&&Array.isArray(a.edits)}l.is=_})(Ee=e.TextDocumentEdit||(e.TextDocumentEdit={}));var qe;(function(l){function p(o,a,y){var S={kind:"create",uri:o};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(S.options=a),y!==void 0&&(S.annotationId=y),S}l.create=p;function _(o){var a=o;return a&&a.kind==="create"&&g.string(a.uri)&&(a.options===void 0||(a.options.overwrite===void 0||g.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||g.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||G.is(a.annotationId))}l.is=_})(qe=e.CreateFile||(e.CreateFile={}));var ve;(function(l){function p(o,a,y,S){var k={kind:"rename",oldUri:o,newUri:a};return y!==void 0&&(y.overwrite!==void 0||y.ignoreIfExists!==void 0)&&(k.options=y),S!==void 0&&(k.annotationId=S),k}l.create=p;function _(o){var a=o;return a&&a.kind==="rename"&&g.string(a.oldUri)&&g.string(a.newUri)&&(a.options===void 0||(a.options.overwrite===void 0||g.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||g.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||G.is(a.annotationId))}l.is=_})(ve=e.RenameFile||(e.RenameFile={}));var ke;(function(l){function p(o,a,y){var S={kind:"delete",uri:o};return a!==void 0&&(a.recursive!==void 0||a.ignoreIfNotExists!==void 0)&&(S.options=a),y!==void 0&&(S.annotationId=y),S}l.create=p;function _(o){var a=o;return a&&a.kind==="delete"&&g.string(a.uri)&&(a.options===void 0||(a.options.recursive===void 0||g.boolean(a.options.recursive))&&(a.options.ignoreIfNotExists===void 0||g.boolean(a.options.ignoreIfNotExists)))&&(a.annotationId===void 0||G.is(a.annotationId))}l.is=_})(ke=e.DeleteFile||(e.DeleteFile={}));var xe;(function(l){function p(_){var o=_;return o&&(o.changes!==void 0||o.documentChanges!==void 0)&&(o.documentChanges===void 0||o.documentChanges.every(function(a){return g.string(a.kind)?qe.is(a)||ve.is(a)||ke.is(a):Ee.is(a)}))}l.is=p})(xe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Ve=function(){function l(p,_){this.edits=p,this.changeAnnotations=_}return l.prototype.insert=function(p,_,o){var a,y;if(o===void 0?a=x.insert(p,_):G.is(o)?(y=o,a=Se.insert(p,_,o)):(this.assertChangeAnnotations(this.changeAnnotations),y=this.changeAnnotations.manage(o),a=Se.insert(p,_,y)),this.edits.push(a),y!==void 0)return y},l.prototype.replace=function(p,_,o){var a,y;if(o===void 0?a=x.replace(p,_):G.is(o)?(y=o,a=Se.replace(p,_,o)):(this.assertChangeAnnotations(this.changeAnnotations),y=this.changeAnnotations.manage(o),a=Se.replace(p,_,y)),this.edits.push(a),y!==void 0)return y},l.prototype.delete=function(p,_){var o,a;if(_===void 0?o=x.del(p):G.is(_)?(a=_,o=Se.del(p,_)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(_),o=Se.del(p,a)),this.edits.push(o),a!==void 0)return a},l.prototype.add=function(p){this.edits.push(p)},l.prototype.all=function(){return this.edits},l.prototype.clear=function(){this.edits.splice(0,this.edits.length)},l.prototype.assertChangeAnnotations=function(p){if(p===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},l}(),We=function(){function l(p){this._annotations=p===void 0?Object.create(null):p,this._counter=0,this._size=0}return l.prototype.all=function(){return this._annotations},Object.defineProperty(l.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),l.prototype.manage=function(p,_){var o;if(G.is(p)?o=p:(o=this.nextId(),_=p),this._annotations[o]!==void 0)throw new Error("Id "+o+" is already in use.");if(_===void 0)throw new Error("No annotation provided for id "+o);return this._annotations[o]=_,this._size++,o},l.prototype.nextId=function(){return this._counter++,this._counter.toString()},l}(),Xe=function(){function l(p){var _=this;this._textEditChanges=Object.create(null),p!==void 0?(this._workspaceEdit=p,p.documentChanges?(this._changeAnnotations=new We(p.changeAnnotations),p.changeAnnotations=this._changeAnnotations.all(),p.documentChanges.forEach(function(o){if(Ee.is(o)){var a=new Ve(o.edits,_._changeAnnotations);_._textEditChanges[o.textDocument.uri]=a}})):p.changes&&Object.keys(p.changes).forEach(function(o){var a=new Ve(p.changes[o]);_._textEditChanges[o]=a})):this._workspaceEdit={}}return Object.defineProperty(l.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),l.prototype.getTextEditChange=function(p){if(ue.is(p)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var _={uri:p.uri,version:p.version},o=this._textEditChanges[_.uri];if(!o){var a=[],y={textDocument:_,edits:a};this._workspaceEdit.documentChanges.push(y),o=new Ve(a,this._changeAnnotations),this._textEditChanges[_.uri]=o}return o}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var o=this._textEditChanges[p];if(!o){var a=[];this._workspaceEdit.changes[p]=a,o=new Ve(a),this._textEditChanges[p]=o}return o}},l.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new We,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},l.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},l.prototype.createFile=function(p,_,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;q.is(_)||G.is(_)?a=_:o=_;var y,S;if(a===void 0?y=qe.create(p,o):(S=G.is(a)?a:this._changeAnnotations.manage(a),y=qe.create(p,o,S)),this._workspaceEdit.documentChanges.push(y),S!==void 0)return S},l.prototype.renameFile=function(p,_,o,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var y;q.is(o)||G.is(o)?y=o:a=o;var S,k;if(y===void 0?S=ve.create(p,_,a):(k=G.is(y)?y:this._changeAnnotations.manage(y),S=ve.create(p,_,a,k)),this._workspaceEdit.documentChanges.push(S),k!==void 0)return k},l.prototype.deleteFile=function(p,_,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;q.is(_)||G.is(_)?a=_:o=_;var y,S;if(a===void 0?y=ke.create(p,o):(S=G.is(a)?a:this._changeAnnotations.manage(a),y=ke.create(p,o,S)),this._workspaceEdit.documentChanges.push(y),S!==void 0)return S},l}();e.WorkspaceChange=Xe;var He;(function(l){function p(o){return{uri:o}}l.create=p;function _(o){var a=o;return g.defined(a)&&g.string(a.uri)}l.is=_})(He=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var gt;(function(l){function p(o,a){return{uri:o,version:a}}l.create=p;function _(o){var a=o;return g.defined(a)&&g.string(a.uri)&&g.integer(a.version)}l.is=_})(gt=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ue;(function(l){function p(o,a){return{uri:o,version:a}}l.create=p;function _(o){var a=o;return g.defined(a)&&g.string(a.uri)&&(a.version===null||g.integer(a.version))}l.is=_})(ue=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var pt;(function(l){function p(o,a,y,S){return{uri:o,languageId:a,version:y,text:S}}l.create=p;function _(o){var a=o;return g.defined(a)&&g.string(a.uri)&&g.string(a.languageId)&&g.integer(a.version)&&g.string(a.text)}l.is=_})(pt=e.TextDocumentItem||(e.TextDocumentItem={}));var Oe;(function(l){l.PlainText="plaintext",l.Markdown="markdown"})(Oe=e.MarkupKind||(e.MarkupKind={})),function(l){function p(_){var o=_;return o===l.PlainText||o===l.Markdown}l.is=p}(Oe=e.MarkupKind||(e.MarkupKind={}));var tt;(function(l){function p(_){var o=_;return g.objectLiteral(_)&&Oe.is(o.kind)&&g.string(o.value)}l.is=p})(tt=e.MarkupContent||(e.MarkupContent={}));var it;(function(l){l.Text=1,l.Method=2,l.Function=3,l.Constructor=4,l.Field=5,l.Variable=6,l.Class=7,l.Interface=8,l.Module=9,l.Property=10,l.Unit=11,l.Value=12,l.Enum=13,l.Keyword=14,l.Snippet=15,l.Color=16,l.File=17,l.Reference=18,l.Folder=19,l.EnumMember=20,l.Constant=21,l.Struct=22,l.Event=23,l.Operator=24,l.TypeParameter=25})(it=e.CompletionItemKind||(e.CompletionItemKind={}));var mt;(function(l){l.PlainText=1,l.Snippet=2})(mt=e.InsertTextFormat||(e.InsertTextFormat={}));var Ut;(function(l){l.Deprecated=1})(Ut=e.CompletionItemTag||(e.CompletionItemTag={}));var Kt;(function(l){function p(o,a,y){return{newText:o,insert:a,replace:y}}l.create=p;function _(o){var a=o;return a&&g.string(a.newText)&&s.is(a.insert)&&s.is(a.replace)}l.is=_})(Kt=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Ot;(function(l){l.asIs=1,l.adjustIndentation=2})(Ot=e.InsertTextMode||(e.InsertTextMode={}));var kt;(function(l){function p(_){return{label:_}}l.create=p})(kt=e.CompletionItem||(e.CompletionItem={}));var Tt;(function(l){function p(_,o){return{items:_||[],isIncomplete:!!o}}l.create=p})(Tt=e.CompletionList||(e.CompletionList={}));var bt;(function(l){function p(o){return o.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}l.fromPlainText=p;function _(o){var a=o;return g.string(a)||g.objectLiteral(a)&&g.string(a.language)&&g.string(a.value)}l.is=_})(bt=e.MarkedString||(e.MarkedString={}));var xt;(function(l){function p(_){var o=_;return!!o&&g.objectLiteral(o)&&(tt.is(o.contents)||bt.is(o.contents)||g.typedArray(o.contents,bt.is))&&(_.range===void 0||s.is(_.range))}l.is=p})(xt=e.Hover||(e.Hover={}));var zt;(function(l){function p(_,o){return o?{label:_,documentation:o}:{label:_}}l.create=p})(zt=e.ParameterInformation||(e.ParameterInformation={}));var rn;(function(l){function p(_,o){for(var a=[],y=2;y<arguments.length;y++)a[y-2]=arguments[y];var S={label:_};return g.defined(o)&&(S.documentation=o),g.defined(a)?S.parameters=a:S.parameters=[],S}l.create=p})(rn=e.SignatureInformation||(e.SignatureInformation={}));var ot;(function(l){l.Text=1,l.Read=2,l.Write=3})(ot=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Gt;(function(l){function p(_,o){var a={range:_};return g.number(o)&&(a.kind=o),a}l.create=p})(Gt=e.DocumentHighlight||(e.DocumentHighlight={}));var st;(function(l){l.File=1,l.Module=2,l.Namespace=3,l.Package=4,l.Class=5,l.Method=6,l.Property=7,l.Field=8,l.Constructor=9,l.Enum=10,l.Interface=11,l.Function=12,l.Variable=13,l.Constant=14,l.String=15,l.Number=16,l.Boolean=17,l.Array=18,l.Object=19,l.Key=20,l.Null=21,l.EnumMember=22,l.Struct=23,l.Event=24,l.Operator=25,l.TypeParameter=26})(st=e.SymbolKind||(e.SymbolKind={}));var on;(function(l){l.Deprecated=1})(on=e.SymbolTag||(e.SymbolTag={}));var Ce;(function(l){function p(_,o,a,y,S){var k={name:_,kind:o,location:{uri:y,range:a}};return S&&(k.containerName=S),k}l.create=p})(Ce=e.SymbolInformation||(e.SymbolInformation={}));var Je;(function(l){function p(o,a,y,S,k,W){var J={name:o,detail:a,kind:y,range:S,selectionRange:k};return W!==void 0&&(J.children=W),J}l.create=p;function _(o){var a=o;return a&&g.string(a.name)&&g.number(a.kind)&&s.is(a.range)&&s.is(a.selectionRange)&&(a.detail===void 0||g.string(a.detail))&&(a.deprecated===void 0||g.boolean(a.deprecated))&&(a.children===void 0||Array.isArray(a.children))&&(a.tags===void 0||Array.isArray(a.tags))}l.is=_})(Je=e.DocumentSymbol||(e.DocumentSymbol={}));var Bt;(function(l){l.Empty="",l.QuickFix="quickfix",l.Refactor="refactor",l.RefactorExtract="refactor.extract",l.RefactorInline="refactor.inline",l.RefactorRewrite="refactor.rewrite",l.Source="source",l.SourceOrganizeImports="source.organizeImports",l.SourceFixAll="source.fixAll"})(Bt=e.CodeActionKind||(e.CodeActionKind={}));var sn;(function(l){function p(o,a){var y={diagnostics:o};return a!=null&&(y.only=a),y}l.create=p;function _(o){var a=o;return g.defined(a)&&g.typedArray(a.diagnostics,F.is)&&(a.only===void 0||g.typedArray(a.only,g.string))}l.is=_})(sn=e.CodeActionContext||(e.CodeActionContext={}));var at;(function(l){function p(o,a,y){var S={title:o},k=!0;return typeof a=="string"?(k=!1,S.kind=a):O.is(a)?S.command=a:S.edit=a,k&&y!==void 0&&(S.kind=y),S}l.create=p;function _(o){var a=o;return a&&g.string(a.title)&&(a.diagnostics===void 0||g.typedArray(a.diagnostics,F.is))&&(a.kind===void 0||g.string(a.kind))&&(a.edit!==void 0||a.command!==void 0)&&(a.command===void 0||O.is(a.command))&&(a.isPreferred===void 0||g.boolean(a.isPreferred))&&(a.edit===void 0||xe.is(a.edit))}l.is=_})(at=e.CodeAction||(e.CodeAction={}));var Vt;(function(l){function p(o,a){var y={range:o};return g.defined(a)&&(y.data=a),y}l.create=p;function _(o){var a=o;return g.defined(a)&&s.is(a.range)&&(g.undefined(a.command)||O.is(a.command))}l.is=_})(Vt=e.CodeLens||(e.CodeLens={}));var It;(function(l){function p(o,a){return{tabSize:o,insertSpaces:a}}l.create=p;function _(o){var a=o;return g.defined(a)&&g.uinteger(a.tabSize)&&g.boolean(a.insertSpaces)}l.is=_})(It=e.FormattingOptions||(e.FormattingOptions={}));var ct;(function(l){function p(o,a,y){return{range:o,target:a,data:y}}l.create=p;function _(o){var a=o;return g.defined(a)&&s.is(a.range)&&(g.undefined(a.target)||g.string(a.target))}l.is=_})(ct=e.DocumentLink||(e.DocumentLink={}));var Ft;(function(l){function p(o,a){return{range:o,parent:a}}l.create=p;function _(o){var a=o;return a!==void 0&&s.is(a.range)&&(a.parent===void 0||l.is(a.parent))}l.is=_})(Ft=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var ut;(function(l){function p(y,S,k,W){return new C(y,S,k,W)}l.create=p;function _(y){var S=y;return!!(g.defined(S)&&g.string(S.uri)&&(g.undefined(S.languageId)||g.string(S.languageId))&&g.uinteger(S.lineCount)&&g.func(S.getText)&&g.func(S.positionAt)&&g.func(S.offsetAt))}l.is=_;function o(y,S){for(var k=y.getText(),W=a(S,function(Xt,an){var yr=Xt.range.start.line-an.range.start.line;return yr===0?Xt.range.start.character-an.range.start.character:yr}),J=k.length,ie=W.length-1;ie>=0;ie--){var Re=W[ie],_e=y.offsetAt(Re.range.start),ee=y.offsetAt(Re.range.end);if(ee<=J)k=k.substring(0,_e)+Re.newText+k.substring(ee,k.length);else throw new Error("Overlapping edit");J=_e}return k}l.applyEdits=o;function a(y,S){if(y.length<=1)return y;var k=y.length/2|0,W=y.slice(0,k),J=y.slice(k);a(W,S),a(J,S);for(var ie=0,Re=0,_e=0;ie<W.length&&Re<J.length;){var ee=S(W[ie],J[Re]);ee<=0?y[_e++]=W[ie++]:y[_e++]=J[Re++]}for(;ie<W.length;)y[_e++]=W[ie++];for(;Re<J.length;)y[_e++]=J[Re++];return y}})(ut=e.TextDocument||(e.TextDocument={}));var C=function(){function l(p,_,o,a){this._uri=p,this._languageId=_,this._version=o,this._content=a,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),l.prototype.getText=function(p){if(p){var _=this.offsetAt(p.start),o=this.offsetAt(p.end);return this._content.substring(_,o)}return this._content},l.prototype.update=function(p,_){this._content=p.text,this._version=_,this._lineOffsets=void 0},l.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var p=[],_=this._content,o=!0,a=0;a<_.length;a++){o&&(p.push(a),o=!1);var y=_.charAt(a);o=y==="\r"||y===`
`,y==="\r"&&a+1<_.length&&_.charAt(a+1)===`
`&&a++}o&&_.length>0&&p.push(_.length),this._lineOffsets=p}return this._lineOffsets},l.prototype.positionAt=function(p){p=Math.max(Math.min(p,this._content.length),0);var _=this.getLineOffsets(),o=0,a=_.length;if(a===0)return i.create(0,p);for(;o<a;){var y=Math.floor((o+a)/2);_[y]>p?a=y:o=y+1}var S=o-1;return i.create(S,p-_[S])},l.prototype.offsetAt=function(p){var _=this.getLineOffsets();if(p.line>=_.length)return this._content.length;if(p.line<0)return 0;var o=_[p.line],a=p.line+1<_.length?_[p.line+1]:this._content.length;return Math.max(Math.min(o+p.character,a),o)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),l}(),g;(function(l){var p=Object.prototype.toString;function _(ee){return typeof ee<"u"}l.defined=_;function o(ee){return typeof ee>"u"}l.undefined=o;function a(ee){return ee===!0||ee===!1}l.boolean=a;function y(ee){return p.call(ee)==="[object String]"}l.string=y;function S(ee){return p.call(ee)==="[object Number]"}l.number=S;function k(ee,Xt,an){return p.call(ee)==="[object Number]"&&Xt<=ee&&ee<=an}l.numberRange=k;function W(ee){return p.call(ee)==="[object Number]"&&-2147483648<=ee&&ee<=2147483647}l.integer=W;function J(ee){return p.call(ee)==="[object Number]"&&0<=ee&&ee<=2147483647}l.uinteger=J;function ie(ee){return p.call(ee)==="[object Function]"}l.func=ie;function Re(ee){return ee!==null&&typeof ee=="object"}l.objectLiteral=Re;function _e(ee,Xt){return Array.isArray(ee)&&ee.every(Xt)}l.typedArray=_e})(g||(g={}))})});var Fe=D(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.ProtocolNotificationType=ft.ProtocolNotificationType0=ft.ProtocolRequestType=ft.ProtocolRequestType0=ft.RegistrationType=void 0;var kn=On(),Vo=class{constructor(e){this.method=e}};ft.RegistrationType=Vo;var Xo=class extends kn.RequestType0{constructor(e){super(e)}};ft.ProtocolRequestType0=Xo;var Jo=class extends kn.RequestType{constructor(e){super(e,kn.ParameterStructures.byName)}};ft.ProtocolRequestType=Jo;var Qo=class extends kn.NotificationType0{constructor(e){super(e)}};ft.ProtocolNotificationType0=Qo;var Yo=class extends kn.NotificationType{constructor(e){super(e,kn.ParameterStructures.byName)}};ft.ProtocolNotificationType=Yo});var vl=D(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.objectLiteral=be.typedArray=be.stringArray=be.array=be.func=be.error=be.number=be.string=be.boolean=void 0;function im(t){return t===!0||t===!1}be.boolean=im;function pl(t){return typeof t=="string"||t instanceof String}be.string=pl;function om(t){return typeof t=="number"||t instanceof Number}be.number=om;function sm(t){return t instanceof Error}be.error=sm;function am(t){return typeof t=="function"}be.func=am;function ml(t){return Array.isArray(t)}be.array=ml;function cm(t){return ml(t)&&t.every(e=>pl(e))}be.stringArray=cm;function um(t,e){return Array.isArray(t)&&t.every(e)}be.typedArray=um;function lm(t){return t!==null&&typeof t=="object"}be.objectLiteral=lm});var yl=D(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.ImplementationRequest=void 0;var dm=Fe(),fm;(function(t){t.method="textDocument/implementation",t.type=new dm.ProtocolRequestType(t.method)})(fm=Yn.ImplementationRequest||(Yn.ImplementationRequest={}))});var Cl=D(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.TypeDefinitionRequest=void 0;var hm=Fe(),gm;(function(t){t.method="textDocument/typeDefinition",t.type=new hm.ProtocolRequestType(t.method)})(gm=Zn.TypeDefinitionRequest||(Zn.TypeDefinitionRequest={}))});var _l=D(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.DidChangeWorkspaceFoldersNotification=Qt.WorkspaceFoldersRequest=void 0;var Rl=Fe(),pm;(function(t){t.type=new Rl.ProtocolRequestType0("workspace/workspaceFolders")})(pm=Qt.WorkspaceFoldersRequest||(Qt.WorkspaceFoldersRequest={}));var mm;(function(t){t.type=new Rl.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(mm=Qt.DidChangeWorkspaceFoldersNotification||(Qt.DidChangeWorkspaceFoldersNotification={}))});var wl=D(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.ConfigurationRequest=void 0;var vm=Fe(),ym;(function(t){t.type=new vm.ProtocolRequestType("workspace/configuration")})(ym=er.ConfigurationRequest||(er.ConfigurationRequest={}))});var Tl=D(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ColorPresentationRequest=Yt.DocumentColorRequest=void 0;var Sl=Fe(),Cm;(function(t){t.method="textDocument/documentColor",t.type=new Sl.ProtocolRequestType(t.method)})(Cm=Yt.DocumentColorRequest||(Yt.DocumentColorRequest={}));var Rm;(function(t){t.type=new Sl.ProtocolRequestType("textDocument/colorPresentation")})(Rm=Yt.ColorPresentationRequest||(Yt.ColorPresentationRequest={}))});var bl=D(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.FoldingRangeRequest=Zt.FoldingRangeKind=void 0;var _m=Fe(),wm;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(wm=Zt.FoldingRangeKind||(Zt.FoldingRangeKind={}));var Sm;(function(t){t.method="textDocument/foldingRange",t.type=new _m.ProtocolRequestType(t.method)})(Sm=Zt.FoldingRangeRequest||(Zt.FoldingRangeRequest={}))});var Pl=D(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.DeclarationRequest=void 0;var Tm=Fe(),bm;(function(t){t.method="textDocument/declaration",t.type=new Tm.ProtocolRequestType(t.method)})(bm=tr.DeclarationRequest||(tr.DeclarationRequest={}))});var Dl=D(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.SelectionRangeRequest=void 0;var Pm=Fe(),Dm;(function(t){t.method="textDocument/selectionRange",t.type=new Pm.ProtocolRequestType(t.method)})(Dm=nr.SelectionRangeRequest||(nr.SelectionRangeRequest={}))});var ql=D(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.WorkDoneProgressCancelNotification=Ct.WorkDoneProgressCreateRequest=Ct.WorkDoneProgress=void 0;var Em=On(),El=Fe(),qm;(function(t){t.type=new Em.ProgressType;function e(n){return n===t.type}t.is=e})(qm=Ct.WorkDoneProgress||(Ct.WorkDoneProgress={}));var Om;(function(t){t.type=new El.ProtocolRequestType("window/workDoneProgress/create")})(Om=Ct.WorkDoneProgressCreateRequest||(Ct.WorkDoneProgressCreateRequest={}));var km;(function(t){t.type=new El.ProtocolNotificationType("window/workDoneProgress/cancel")})(km=Ct.WorkDoneProgressCancelNotification||(Ct.WorkDoneProgressCancelNotification={}))});var Ol=D(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.CallHierarchyOutgoingCallsRequest=Rt.CallHierarchyIncomingCallsRequest=Rt.CallHierarchyPrepareRequest=void 0;var Zo=Fe(),xm;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Zo.ProtocolRequestType(t.method)})(xm=Rt.CallHierarchyPrepareRequest||(Rt.CallHierarchyPrepareRequest={}));var Im;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Zo.ProtocolRequestType(t.method)})(Im=Rt.CallHierarchyIncomingCallsRequest||(Rt.CallHierarchyIncomingCallsRequest={}));var Fm;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Zo.ProtocolRequestType(t.method)})(Fm=Rt.CallHierarchyOutgoingCallsRequest||(Rt.CallHierarchyOutgoingCallsRequest={}))});var kl=D(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.SemanticTokensRefreshRequest=oe.SemanticTokensRangeRequest=oe.SemanticTokensDeltaRequest=oe.SemanticTokensRequest=oe.SemanticTokensRegistrationType=oe.TokenFormat=oe.SemanticTokens=oe.SemanticTokenModifiers=oe.SemanticTokenTypes=void 0;var rr=Fe(),Nm;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(Nm=oe.SemanticTokenTypes||(oe.SemanticTokenTypes={}));var Lm;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Lm=oe.SemanticTokenModifiers||(oe.SemanticTokenModifiers={}));var Mm;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Mm=oe.SemanticTokens||(oe.SemanticTokens={}));var Am;(function(t){t.Relative="relative"})(Am=oe.TokenFormat||(oe.TokenFormat={}));var jm;(function(t){t.method="textDocument/semanticTokens",t.type=new rr.RegistrationType(t.method)})(jm=oe.SemanticTokensRegistrationType||(oe.SemanticTokensRegistrationType={}));var $m;(function(t){t.method="textDocument/semanticTokens/full",t.type=new rr.ProtocolRequestType(t.method)})($m=oe.SemanticTokensRequest||(oe.SemanticTokensRequest={}));var Wm;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new rr.ProtocolRequestType(t.method)})(Wm=oe.SemanticTokensDeltaRequest||(oe.SemanticTokensDeltaRequest={}));var Hm;(function(t){t.method="textDocument/semanticTokens/range",t.type=new rr.ProtocolRequestType(t.method)})(Hm=oe.SemanticTokensRangeRequest||(oe.SemanticTokensRangeRequest={}));var Um;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new rr.ProtocolRequestType0(t.method)})(Um=oe.SemanticTokensRefreshRequest||(oe.SemanticTokensRefreshRequest={}))});var xl=D(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.ShowDocumentRequest=void 0;var Km=Fe(),zm;(function(t){t.method="window/showDocument",t.type=new Km.ProtocolRequestType(t.method)})(zm=ir.ShowDocumentRequest||(ir.ShowDocumentRequest={}))});var Il=D(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.LinkedEditingRangeRequest=void 0;var Gm=Fe(),Bm;(function(t){t.method="textDocument/linkedEditingRange",t.type=new Gm.ProtocolRequestType(t.method)})(Bm=or.LinkedEditingRangeRequest||(or.LinkedEditingRangeRequest={}))});var Fl=D(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.WillDeleteFilesRequest=pe.DidDeleteFilesNotification=pe.DidRenameFilesNotification=pe.WillRenameFilesRequest=pe.DidCreateFilesNotification=pe.WillCreateFilesRequest=pe.FileOperationPatternKind=void 0;var xn=Fe(),Vm;(function(t){t.file="file",t.folder="folder"})(Vm=pe.FileOperationPatternKind||(pe.FileOperationPatternKind={}));var Xm;(function(t){t.method="workspace/willCreateFiles",t.type=new xn.ProtocolRequestType(t.method)})(Xm=pe.WillCreateFilesRequest||(pe.WillCreateFilesRequest={}));var Jm;(function(t){t.method="workspace/didCreateFiles",t.type=new xn.ProtocolNotificationType(t.method)})(Jm=pe.DidCreateFilesNotification||(pe.DidCreateFilesNotification={}));var Qm;(function(t){t.method="workspace/willRenameFiles",t.type=new xn.ProtocolRequestType(t.method)})(Qm=pe.WillRenameFilesRequest||(pe.WillRenameFilesRequest={}));var Ym;(function(t){t.method="workspace/didRenameFiles",t.type=new xn.ProtocolNotificationType(t.method)})(Ym=pe.DidRenameFilesNotification||(pe.DidRenameFilesNotification={}));var Zm;(function(t){t.method="workspace/didDeleteFiles",t.type=new xn.ProtocolNotificationType(t.method)})(Zm=pe.DidDeleteFilesNotification||(pe.DidDeleteFilesNotification={}));var ev;(function(t){t.method="workspace/willDeleteFiles",t.type=new xn.ProtocolRequestType(t.method)})(ev=pe.WillDeleteFilesRequest||(pe.WillDeleteFilesRequest={}))});var Nl=D(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.MonikerRequest=_t.MonikerKind=_t.UniquenessLevel=void 0;var tv=Fe(),nv;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(nv=_t.UniquenessLevel||(_t.UniquenessLevel={}));var rv;(function(t){t.import="import",t.export="export",t.local="local"})(rv=_t.MonikerKind||(_t.MonikerKind={}));var iv;(function(t){t.method="textDocument/moniker",t.type=new tv.ProtocolRequestType(t.method)})(iv=_t.MonikerRequest||(_t.MonikerRequest={}))});var $l=D(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeError=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.DocumentFilter=void 0;h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.SemanticTokens=h.SemanticTokenModifiers=h.SemanticTokenTypes=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=void 0;var en=vl(),Q=Fe(),ov=yl();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:function(){return ov.ImplementationRequest}});var sv=Cl();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:function(){return sv.TypeDefinitionRequest}});var Ll=_l();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Ll.WorkspaceFoldersRequest}});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Ll.DidChangeWorkspaceFoldersNotification}});var av=wl();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:function(){return av.ConfigurationRequest}});var Ml=Tl();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:function(){return Ml.DocumentColorRequest}});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:function(){return Ml.ColorPresentationRequest}});var cv=bl();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:function(){return cv.FoldingRangeRequest}});var uv=Pl();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:function(){return uv.DeclarationRequest}});var lv=Dl();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:function(){return lv.SelectionRangeRequest}});var es=ql();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:function(){return es.WorkDoneProgress}});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return es.WorkDoneProgressCreateRequest}});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return es.WorkDoneProgressCancelNotification}});var ts=Ol();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ts.CallHierarchyIncomingCallsRequest}});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ts.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ts.CallHierarchyPrepareRequest}});var jt=kl();Object.defineProperty(h,"SemanticTokenTypes",{enumerable:!0,get:function(){return jt.SemanticTokenTypes}});Object.defineProperty(h,"SemanticTokenModifiers",{enumerable:!0,get:function(){return jt.SemanticTokenModifiers}});Object.defineProperty(h,"SemanticTokens",{enumerable:!0,get:function(){return jt.SemanticTokens}});Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:function(){return jt.TokenFormat}});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:function(){return jt.SemanticTokensRequest}});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return jt.SemanticTokensDeltaRequest}});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return jt.SemanticTokensRangeRequest}});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return jt.SemanticTokensRefreshRequest}});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return jt.SemanticTokensRegistrationType}});var dv=xl();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:function(){return dv.ShowDocumentRequest}});var fv=Il();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return fv.LinkedEditingRangeRequest}});var mn=Fl();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:function(){return mn.FileOperationPatternKind}});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:function(){return mn.DidCreateFilesNotification}});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:function(){return mn.WillCreateFilesRequest}});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:function(){return mn.DidRenameFilesNotification}});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:function(){return mn.WillRenameFilesRequest}});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return mn.DidDeleteFilesNotification}});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return mn.WillDeleteFilesRequest}});var ns=Nl();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:function(){return ns.UniquenessLevel}});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:function(){return ns.MonikerKind}});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:function(){return ns.MonikerRequest}});var Al;(function(t){function e(n){let r=n;return en.string(r.language)||en.string(r.scheme)||en.string(r.pattern)}t.is=e})(Al=h.DocumentFilter||(h.DocumentFilter={}));var jl;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!en.string(r)&&!Al.is(r))return!1;return!0}t.is=e})(jl=h.DocumentSelector||(h.DocumentSelector={}));var hv;(function(t){t.type=new Q.ProtocolRequestType("client/registerCapability")})(hv=h.RegistrationRequest||(h.RegistrationRequest={}));var gv;(function(t){t.type=new Q.ProtocolRequestType("client/unregisterCapability")})(gv=h.UnregistrationRequest||(h.UnregistrationRequest={}));var pv;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(pv=h.ResourceOperationKind||(h.ResourceOperationKind={}));var mv;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(mv=h.FailureHandlingKind||(h.FailureHandlingKind={}));var vv;(function(t){function e(n){let r=n;return r&&en.string(r.id)&&r.id.length>0}t.hasId=e})(vv=h.StaticRegistrationOptions||(h.StaticRegistrationOptions={}));var yv;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||jl.is(r.documentSelector))}t.is=e})(yv=h.TextDocumentRegistrationOptions||(h.TextDocumentRegistrationOptions={}));var Cv;(function(t){function e(r){let i=r;return en.objectLiteral(i)&&(i.workDoneProgress===void 0||en.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&en.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(Cv=h.WorkDoneProgressOptions||(h.WorkDoneProgressOptions={}));var Rv;(function(t){t.type=new Q.ProtocolRequestType("initialize")})(Rv=h.InitializeRequest||(h.InitializeRequest={}));var _v;(function(t){t.unknownProtocolVersion=1})(_v=h.InitializeError||(h.InitializeError={}));var wv;(function(t){t.type=new Q.ProtocolNotificationType("initialized")})(wv=h.InitializedNotification||(h.InitializedNotification={}));var Sv;(function(t){t.type=new Q.ProtocolRequestType0("shutdown")})(Sv=h.ShutdownRequest||(h.ShutdownRequest={}));var Tv;(function(t){t.type=new Q.ProtocolNotificationType0("exit")})(Tv=h.ExitNotification||(h.ExitNotification={}));var bv;(function(t){t.type=new Q.ProtocolNotificationType("workspace/didChangeConfiguration")})(bv=h.DidChangeConfigurationNotification||(h.DidChangeConfigurationNotification={}));var Pv;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(Pv=h.MessageType||(h.MessageType={}));var Dv;(function(t){t.type=new Q.ProtocolNotificationType("window/showMessage")})(Dv=h.ShowMessageNotification||(h.ShowMessageNotification={}));var Ev;(function(t){t.type=new Q.ProtocolRequestType("window/showMessageRequest")})(Ev=h.ShowMessageRequest||(h.ShowMessageRequest={}));var qv;(function(t){t.type=new Q.ProtocolNotificationType("window/logMessage")})(qv=h.LogMessageNotification||(h.LogMessageNotification={}));var Ov;(function(t){t.type=new Q.ProtocolNotificationType("telemetry/event")})(Ov=h.TelemetryEventNotification||(h.TelemetryEventNotification={}));var kv;(function(t){t.None=0,t.Full=1,t.Incremental=2})(kv=h.TextDocumentSyncKind||(h.TextDocumentSyncKind={}));var xv;(function(t){t.method="textDocument/didOpen",t.type=new Q.ProtocolNotificationType(t.method)})(xv=h.DidOpenTextDocumentNotification||(h.DidOpenTextDocumentNotification={}));var Iv;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(Iv=h.TextDocumentContentChangeEvent||(h.TextDocumentContentChangeEvent={}));var Fv;(function(t){t.method="textDocument/didChange",t.type=new Q.ProtocolNotificationType(t.method)})(Fv=h.DidChangeTextDocumentNotification||(h.DidChangeTextDocumentNotification={}));var Nv;(function(t){t.method="textDocument/didClose",t.type=new Q.ProtocolNotificationType(t.method)})(Nv=h.DidCloseTextDocumentNotification||(h.DidCloseTextDocumentNotification={}));var Lv;(function(t){t.method="textDocument/didSave",t.type=new Q.ProtocolNotificationType(t.method)})(Lv=h.DidSaveTextDocumentNotification||(h.DidSaveTextDocumentNotification={}));var Mv;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Mv=h.TextDocumentSaveReason||(h.TextDocumentSaveReason={}));var Av;(function(t){t.method="textDocument/willSave",t.type=new Q.ProtocolNotificationType(t.method)})(Av=h.WillSaveTextDocumentNotification||(h.WillSaveTextDocumentNotification={}));var jv;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Q.ProtocolRequestType(t.method)})(jv=h.WillSaveTextDocumentWaitUntilRequest||(h.WillSaveTextDocumentWaitUntilRequest={}));var $v;(function(t){t.type=new Q.ProtocolNotificationType("workspace/didChangeWatchedFiles")})($v=h.DidChangeWatchedFilesNotification||(h.DidChangeWatchedFilesNotification={}));var Wv;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Wv=h.FileChangeType||(h.FileChangeType={}));var Hv;(function(t){t.Create=1,t.Change=2,t.Delete=4})(Hv=h.WatchKind||(h.WatchKind={}));var Uv;(function(t){t.type=new Q.ProtocolNotificationType("textDocument/publishDiagnostics")})(Uv=h.PublishDiagnosticsNotification||(h.PublishDiagnosticsNotification={}));var Kv;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Kv=h.CompletionTriggerKind||(h.CompletionTriggerKind={}));var zv;(function(t){t.method="textDocument/completion",t.type=new Q.ProtocolRequestType(t.method)})(zv=h.CompletionRequest||(h.CompletionRequest={}));var Gv;(function(t){t.method="completionItem/resolve",t.type=new Q.ProtocolRequestType(t.method)})(Gv=h.CompletionResolveRequest||(h.CompletionResolveRequest={}));var Bv;(function(t){t.method="textDocument/hover",t.type=new Q.ProtocolRequestType(t.method)})(Bv=h.HoverRequest||(h.HoverRequest={}));var Vv;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Vv=h.SignatureHelpTriggerKind||(h.SignatureHelpTriggerKind={}));var Xv;(function(t){t.method="textDocument/signatureHelp",t.type=new Q.ProtocolRequestType(t.method)})(Xv=h.SignatureHelpRequest||(h.SignatureHelpRequest={}));var Jv;(function(t){t.method="textDocument/definition",t.type=new Q.ProtocolRequestType(t.method)})(Jv=h.DefinitionRequest||(h.DefinitionRequest={}));var Qv;(function(t){t.method="textDocument/references",t.type=new Q.ProtocolRequestType(t.method)})(Qv=h.ReferencesRequest||(h.ReferencesRequest={}));var Yv;(function(t){t.method="textDocument/documentHighlight",t.type=new Q.ProtocolRequestType(t.method)})(Yv=h.DocumentHighlightRequest||(h.DocumentHighlightRequest={}));var Zv;(function(t){t.method="textDocument/documentSymbol",t.type=new Q.ProtocolRequestType(t.method)})(Zv=h.DocumentSymbolRequest||(h.DocumentSymbolRequest={}));var ey;(function(t){t.method="textDocument/codeAction",t.type=new Q.ProtocolRequestType(t.method)})(ey=h.CodeActionRequest||(h.CodeActionRequest={}));var ty;(function(t){t.method="codeAction/resolve",t.type=new Q.ProtocolRequestType(t.method)})(ty=h.CodeActionResolveRequest||(h.CodeActionResolveRequest={}));var ny;(function(t){t.method="workspace/symbol",t.type=new Q.ProtocolRequestType(t.method)})(ny=h.WorkspaceSymbolRequest||(h.WorkspaceSymbolRequest={}));var ry;(function(t){t.method="textDocument/codeLens",t.type=new Q.ProtocolRequestType(t.method)})(ry=h.CodeLensRequest||(h.CodeLensRequest={}));var iy;(function(t){t.method="codeLens/resolve",t.type=new Q.ProtocolRequestType(t.method)})(iy=h.CodeLensResolveRequest||(h.CodeLensResolveRequest={}));var oy;(function(t){t.method="workspace/codeLens/refresh",t.type=new Q.ProtocolRequestType0(t.method)})(oy=h.CodeLensRefreshRequest||(h.CodeLensRefreshRequest={}));var sy;(function(t){t.method="textDocument/documentLink",t.type=new Q.ProtocolRequestType(t.method)})(sy=h.DocumentLinkRequest||(h.DocumentLinkRequest={}));var ay;(function(t){t.method="documentLink/resolve",t.type=new Q.ProtocolRequestType(t.method)})(ay=h.DocumentLinkResolveRequest||(h.DocumentLinkResolveRequest={}));var cy;(function(t){t.method="textDocument/formatting",t.type=new Q.ProtocolRequestType(t.method)})(cy=h.DocumentFormattingRequest||(h.DocumentFormattingRequest={}));var uy;(function(t){t.method="textDocument/rangeFormatting",t.type=new Q.ProtocolRequestType(t.method)})(uy=h.DocumentRangeFormattingRequest||(h.DocumentRangeFormattingRequest={}));var ly;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Q.ProtocolRequestType(t.method)})(ly=h.DocumentOnTypeFormattingRequest||(h.DocumentOnTypeFormattingRequest={}));var dy;(function(t){t.Identifier=1})(dy=h.PrepareSupportDefaultBehavior||(h.PrepareSupportDefaultBehavior={}));var fy;(function(t){t.method="textDocument/rename",t.type=new Q.ProtocolRequestType(t.method)})(fy=h.RenameRequest||(h.RenameRequest={}));var hy;(function(t){t.method="textDocument/prepareRename",t.type=new Q.ProtocolRequestType(t.method)})(hy=h.PrepareRenameRequest||(h.PrepareRenameRequest={}));var gy;(function(t){t.type=new Q.ProtocolRequestType("workspace/executeCommand")})(gy=h.ExecuteCommandRequest||(h.ExecuteCommandRequest={}));var py;(function(t){t.type=new Q.ProtocolRequestType("workspace/applyEdit")})(py=h.ApplyWorkspaceEditRequest||(h.ApplyWorkspaceEditRequest={}))});var Hl=D(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.createProtocolConnection=void 0;var Wl=On();function my(t,e,n,r){return Wl.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Wl.createMessageConnection(t,e,n,r)}Gr.createProtocolConnection=my});var Ul=D(Ge=>{"use strict";var vy=Ge&&Ge.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Br=Ge&&Ge.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&vy(e,t,n)};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.LSPErrorCodes=Ge.createProtocolConnection=void 0;Br(On(),Ge);Br(gl(),Ge);Br(Fe(),Ge);Br($l(),Ge);var yy=Hl();Object.defineProperty(Ge,"createProtocolConnection",{enumerable:!0,get:function(){return yy.createProtocolConnection}});var Cy;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Cy=Ge.LSPErrorCodes||(Ge.LSPErrorCodes={}))});var me=D(Et=>{"use strict";var Ry=Et&&Et.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Kl=Et&&Et.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ry(e,t,n)};Object.defineProperty(Et,"__esModule",{value:!0});Et.createProtocolConnection=void 0;var _y=Bo();Kl(Bo(),Et);Kl(Ul(),Et);function wy(t,e,n,r){return _y.createMessageConnection(t,e,n,r)}Et.createProtocolConnection=wy});var os=D(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.toJSONObject=Fn.ConfigurationFeature=void 0;var rs=require("vscode"),Sy=me(),is=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Sy.ConfigurationRequest.type,(n,r)=>{let i=c=>{let f=[];for(let d of c.items){let v=d.scopeUri!==void 0&&d.scopeUri!==null?this._client.protocol2CodeConverter.asUri(d.scopeUri):void 0;f.push(this.getConfiguration(v,d.section!==null?d.section:void 0))}return f},s=e.clientOptions.middleware.workspace;return s&&s.configuration?s.configuration(n,r,i):i(n,r)})}getConfiguration(e,n){let r=null;if(n){let i=n.lastIndexOf(".");if(i===-1)r=In(rs.workspace.getConfiguration(void 0,e).get(n));else{let s=rs.workspace.getConfiguration(n.substr(0,i),e);s&&(r=In(s.get(n.substr(i+1))))}}else{let i=rs.workspace.getConfiguration(void 0,e);r={};for(let s of Object.keys(i))i.has(s)&&(r[s]=In(i.get(s)))}return r===void 0&&(r=null),r}dispose(){}};Fn.ConfigurationFeature=is;function In(t){if(t){if(Array.isArray(t))return t.map(In);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=In(t[n]));return e}}return t}Fn.toJSONObject=In});var cs=D(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});var Ty=require("vscode"),ss=class extends Ty.CompletionItem{constructor(e){super(e)}};as.default=ss});var ds=D(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});var by=require("vscode"),us=class extends by.CodeLens{constructor(e){super(e)}};ls.default=us});var gs=D(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var Py=require("vscode"),fs=class extends Py.DocumentLink{constructor(e,n){super(e,n)}};hs.default=fs});var vs=D(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var Dy=require("vscode"),ps=class extends Dy.CodeAction{constructor(e,n){super(e),this.data=n}};ms.default=ps});var Rs=D(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.ProtocolDiagnostic=vn.DiagnosticCode=void 0;var Ey=require("vscode"),ys=Jt(),qy;(function(t){function e(n){let r=n;return r!=null&&(ys.number(r.value)||ys.string(r.value))&&ys.string(r.target)}t.is=e})(qy=vn.DiagnosticCode||(vn.DiagnosticCode={}));var Cs=class extends Ey.Diagnostic{constructor(e,n,r,i){super(e,n,r),this.data=i,this.hasDiagnosticCode=!1}};vn.ProtocolDiagnostic=Cs});var Ss=D(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});var Oy=require("vscode"),_s=class extends Oy.CallHierarchyItem{constructor(e,n,r,i,s,c,f){super(e,n,r,i,s,c),f!==void 0&&(this.data=f)}};ws.default=_s});var Gl=D(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.createConverter=void 0;var Ne=require("vscode"),re=me(),sr=Jt(),ky=cs(),xy=ds(),Iy=gs(),Fy=vs(),zl=Rs(),Ny=Ss(),Ly=me(),Ts;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(Ts||(Ts={}));function My(t){let n=t||(o=>o.toString());function r(o){return n(o)}function i(o){return{uri:n(o.uri)}}function s(o){return{uri:n(o.uri),version:o.version}}function c(o){return{textDocument:{uri:n(o.uri),languageId:o.languageId,version:o.version,text:o.getText()}}}function f(o){let a=o;return!!a.document&&!!a.contentChanges}function d(o){let a=o;return!!a.uri&&!!a.version}function v(o){if(d(o))return{textDocument:{uri:n(o.uri),version:o.version},contentChanges:[{text:o.getText()}]};if(f(o)){let a=o.document;return{textDocument:{uri:n(a.uri),version:a.version},contentChanges:o.contentChanges.map(S=>{let k=S.range;return{range:{start:{line:k.start.line,character:k.start.character},end:{line:k.end.line,character:k.end.character}},rangeLength:S.rangeLength,text:S.text}})}}else throw Error("Unsupported text document change parameter")}function R(o){return{textDocument:i(o)}}function w(o,a=!1){let y={textDocument:i(o)};return a&&(y.text=o.getText()),y}function T(o){switch(o){case Ne.TextDocumentSaveReason.Manual:return re.TextDocumentSaveReason.Manual;case Ne.TextDocumentSaveReason.AfterDelay:return re.TextDocumentSaveReason.AfterDelay;case Ne.TextDocumentSaveReason.FocusOut:return re.TextDocumentSaveReason.FocusOut}return re.TextDocumentSaveReason.Manual}function b(o){return{textDocument:i(o.document),reason:T(o.reason)}}function I(o){return{files:o.files.map(a=>({uri:n(a)}))}}function M(o){return{files:o.files.map(a=>({oldUri:n(a.oldUri),newUri:n(a.newUri)}))}}function z(o){return{files:o.files.map(a=>({uri:n(a)}))}}function F(o){return{files:o.files.map(a=>({uri:n(a)}))}}function O(o){return{files:o.files.map(a=>({oldUri:n(a.oldUri),newUri:n(a.newUri)}))}}function x(o){return{files:o.files.map(a=>({uri:n(a)}))}}function q(o,a){return{textDocument:i(o),position:Xe(a)}}function G(o){switch(o){case Ne.CompletionTriggerKind.TriggerCharacter:return re.CompletionTriggerKind.TriggerCharacter;case Ne.CompletionTriggerKind.TriggerForIncompleteCompletions:return re.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return re.CompletionTriggerKind.Invoked}}function Se(o,a,y){return{textDocument:i(o),position:Xe(a),context:{triggerKind:G(y.triggerKind),triggerCharacter:y.triggerCharacter}}}function Ee(o){switch(o){case Ne.SignatureHelpTriggerKind.Invoke:return re.SignatureHelpTriggerKind.Invoked;case Ne.SignatureHelpTriggerKind.TriggerCharacter:return re.SignatureHelpTriggerKind.TriggerCharacter;case Ne.SignatureHelpTriggerKind.ContentChange:return re.SignatureHelpTriggerKind.ContentChange}}function qe(o){return{label:o.label}}function ve(o){return o.map(qe)}function ke(o){return{label:o.label,parameters:ve(o.parameters)}}function xe(o){return o.map(ke)}function Ve(o){return o===void 0?o:{signatures:xe(o.signatures),activeSignature:o.activeSignature,activeParameter:o.activeParameter}}function We(o,a,y){return{textDocument:i(o),position:Xe(a),context:{isRetrigger:y.isRetrigger,triggerCharacter:y.triggerCharacter,triggerKind:Ee(y.triggerKind),activeSignatureHelp:Ve(y.activeSignatureHelp)}}}function Xe(o){return{line:o.line,character:o.character}}function He(o){return o==null?o:{line:o.line,character:o.character}}function gt(o){let a=[];for(let y of o)a.push(He(y));return a}function ue(o){return o==null?o:{start:He(o.start),end:He(o.end)}}function pt(o){return o==null?o:re.Location.create(r(o.uri),ue(o.range))}function Oe(o){switch(o){case Ne.DiagnosticSeverity.Error:return re.DiagnosticSeverity.Error;case Ne.DiagnosticSeverity.Warning:return re.DiagnosticSeverity.Warning;case Ne.DiagnosticSeverity.Information:return re.DiagnosticSeverity.Information;case Ne.DiagnosticSeverity.Hint:return re.DiagnosticSeverity.Hint}}function tt(o){if(!o)return;let a=[];for(let y of o){let S=it(y);S!==void 0&&a.push(S)}return a.length>0?a:void 0}function it(o){switch(o){case Ne.DiagnosticTag.Unnecessary:return re.DiagnosticTag.Unnecessary;case Ne.DiagnosticTag.Deprecated:return re.DiagnosticTag.Deprecated;default:return}}function mt(o){return{message:o.message,location:pt(o.location)}}function Ut(o){return o.map(mt)}function Kt(o){if(o!=null)return sr.number(o)||sr.string(o)?o:{value:o.value,target:r(o.target)}}function Ot(o){let a=re.Diagnostic.create(ue(o.range),o.message),y=o instanceof zl.ProtocolDiagnostic?o:void 0;y!==void 0&&y.data!==void 0&&(a.data=y.data);let S=Kt(o.code);return zl.DiagnosticCode.is(S)?y!==void 0&&y.hasDiagnosticCode?a.code=S:(a.code=S.value,a.codeDescription={href:S.target}):a.code=S,sr.number(o.severity)&&(a.severity=Oe(o.severity)),Array.isArray(o.tags)&&(a.tags=tt(o.tags)),o.relatedInformation&&(a.relatedInformation=Ut(o.relatedInformation)),o.source&&(a.source=o.source),a}function kt(o){return o==null?o:o.map(Ot)}function Tt(o,a){switch(o){case"$string":return a;case re.MarkupKind.PlainText:return{kind:o,value:a};case re.MarkupKind.Markdown:return{kind:o,value:a.value};default:return`Unsupported Markup content received. Kind is: ${o}`}}function bt(o){switch(o){case Ne.CompletionItemTag.Deprecated:return re.CompletionItemTag.Deprecated}}function xt(o){if(o===void 0)return o;let a=[];for(let y of o){let S=bt(y);S!==void 0&&a.push(S)}return a}function zt(o,a){return a!==void 0?a:o+1}function rn(o){let a={label:o.label},y=o instanceof ky.default?o:void 0;o.detail&&(a.detail=o.detail),o.documentation&&(!y||y.documentationFormat==="$string"?a.documentation=o.documentation:a.documentation=Tt(y.documentationFormat,o.documentation)),o.filterText&&(a.filterText=o.filterText),ot(a,o),sr.number(o.kind)&&(a.kind=zt(o.kind,y&&y.originalItemKind)),o.sortText&&(a.sortText=o.sortText),o.additionalTextEdits&&(a.additionalTextEdits=on(o.additionalTextEdits)),o.commitCharacters&&(a.commitCharacters=o.commitCharacters.slice()),o.command&&(a.command=ct(o.command)),(o.preselect===!0||o.preselect===!1)&&(a.preselect=o.preselect);let S=xt(o.tags);if(y){if(y.data!==void 0&&(a.data=y.data),y.deprecated===!0||y.deprecated===!1){if(y.deprecated===!0&&S!==void 0&&S.length>0){let k=S.indexOf(Ne.CompletionItemTag.Deprecated);k!==-1&&S.splice(k,1)}a.deprecated=y.deprecated}y.insertTextMode!==void 0&&(a.insertTextMode=y.insertTextMode)}return S!==void 0&&S.length>0&&(a.tags=S),a.insertTextMode===void 0&&o.keepWhitespace===!0&&(a.insertTextMode=Ly.InsertTextMode.adjustIndentation),a}function ot(o,a){let y=re.InsertTextFormat.PlainText,S,k;a.textEdit?(S=a.textEdit.newText,k=a.textEdit.range):a.insertText instanceof Ne.SnippetString?(y=re.InsertTextFormat.Snippet,S=a.insertText.value):S=a.insertText,a.range&&(k=a.range),o.insertTextFormat=y,a.fromEdit&&S!==void 0&&k!==void 0?o.textEdit=Gt(S,k):o.insertText=S}function Gt(o,a){return Ts.is(a)?re.InsertReplaceEdit.create(o,ue(a.inserting),ue(a.replacing)):{newText:o,range:ue(a)}}function st(o){return{range:ue(o.range),newText:o.newText}}function on(o){return o==null?o:o.map(st)}function Ce(o){return o<=Ne.SymbolKind.TypeParameter?o+1:re.SymbolKind.Property}function Je(o){return o}function Bt(o){return o.map(Je)}function sn(o,a,y){return{textDocument:i(o),position:Xe(a),context:{includeDeclaration:y.includeDeclaration}}}function at(o){let a=re.CodeAction.create(o.title);if(o instanceof Fy.default&&o.data!==void 0&&(a.data=o.data),o.kind!==void 0&&(a.kind=It(o.kind)),o.diagnostics!==void 0&&(a.diagnostics=kt(o.diagnostics)),o.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return o.command!==void 0&&(a.command=ct(o.command)),o.isPreferred!==void 0&&(a.isPreferred=o.isPreferred),o.disabled!==void 0&&(a.disabled={reason:o.disabled.reason}),a}function Vt(o){if(o==null)return o;let a;return o.only&&sr.string(o.only.value)&&(a=[o.only.value]),re.CodeActionContext.create(kt(o.diagnostics),a)}function It(o){if(o!=null)return o.value}function ct(o){let a=re.Command.create(o.title,o.command);return o.arguments&&(a.arguments=o.arguments),a}function Ft(o){let a=re.CodeLens.create(ue(o.range));return o.command&&(a.command=ct(o.command)),o instanceof xy.default&&o.data&&(a.data=o.data),a}function ut(o,a){let y={tabSize:o.tabSize,insertSpaces:o.insertSpaces};return a.trimTrailingWhitespace&&(y.trimTrailingWhitespace=!0),a.trimFinalNewlines&&(y.trimFinalNewlines=!0),a.insertFinalNewline&&(y.insertFinalNewline=!0),y}function C(o){return{textDocument:i(o)}}function g(o){return{textDocument:i(o)}}function l(o){let a=re.DocumentLink.create(ue(o.range));o.target&&(a.target=r(o.target)),o.tooltip!==void 0&&(a.tooltip=o.tooltip);let y=o instanceof Iy.default?o:void 0;return y&&y.data&&(a.data=y.data),a}function p(o){return{textDocument:i(o)}}function _(o){let a={name:o.name,kind:Ce(o.kind),uri:r(o.uri),range:ue(o.range),selectionRange:ue(o.selectionRange)};return o.detail!==void 0&&o.detail.length>0&&(a.detail=o.detail),o.tags!==void 0&&(a.tags=Bt(o.tags)),o instanceof Ny.default&&o.data!==void 0&&(a.data=o.data),a}return{asUri:r,asTextDocumentIdentifier:i,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:c,asChangeTextDocumentParams:v,asCloseTextDocumentParams:R,asSaveTextDocumentParams:w,asWillSaveTextDocumentParams:b,asDidCreateFilesParams:I,asDidRenameFilesParams:M,asDidDeleteFilesParams:z,asWillCreateFilesParams:F,asWillRenameFilesParams:O,asWillDeleteFilesParams:x,asTextDocumentPositionParams:q,asCompletionParams:Se,asSignatureHelpParams:We,asWorkerPosition:Xe,asRange:ue,asPosition:He,asPositions:gt,asLocation:pt,asDiagnosticSeverity:Oe,asDiagnosticTag:it,asDiagnostic:Ot,asDiagnostics:kt,asCompletionItem:rn,asTextEdit:st,asSymbolKind:Ce,asSymbolTag:Je,asSymbolTags:Bt,asReferenceParams:sn,asCodeAction:at,asCodeActionContext:Vt,asCommand:ct,asCodeLens:Ft,asFormattingOptions:ut,asDocumentSymbolParams:C,asCodeLensParams:g,asDocumentLink:l,asDocumentLinkParams:p,asCallHierarchyItem:_}}Vr.createConverter=My});var Xl=D(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.createConverter=void 0;var $=require("vscode"),Z=me(),wt=Jt(),Ay=cs(),jy=ds(),$y=gs(),Wy=vs(),Bl=Rs(),Hy=Ss(),Vl=me(),Xr;(function(t){function e(n){let r=n;return r&&wt.string(r.language)&&wt.string(r.value)}t.is=e})(Xr||(Xr={}));function Uy(t,e){let r=t||(u=>$.Uri.parse(u));function i(u){return r(u)}function s(u){return u.map(c)}function c(u){let P=new Bl.ProtocolDiagnostic(T(u.range),u.message,I(u.severity),u.data);return u.code!==void 0&&(Z.CodeDescription.is(u.codeDescription)?P.code={value:u.code,target:i(u.codeDescription.href)}:Bl.DiagnosticCode.is(u.code)?(P.hasDiagnosticCode=!0,P.code={value:u.code.value,target:i(u.code.target)}):P.code=u.code),u.source&&(P.source=u.source),u.relatedInformation&&(P.relatedInformation=f(u.relatedInformation)),Array.isArray(u.tags)&&(P.tags=v(u.tags)),P}function f(u){return u.map(d)}function d(u){return new $.DiagnosticRelatedInformation(ue(u.location),u.message)}function v(u){if(!u)return;let P=[];for(let U of u){let te=R(U);te!==void 0&&P.push(te)}return P.length>0?P:void 0}function R(u){switch(u){case Z.DiagnosticTag.Unnecessary:return $.DiagnosticTag.Unnecessary;case Z.DiagnosticTag.Deprecated:return $.DiagnosticTag.Deprecated;default:return}}function w(u){if(u)return new $.Position(u.line,u.character)}function T(u){if(u)return new $.Range(w(u.start),w(u.end))}function b(u){return u.map(P=>T(P))}function I(u){if(u==null)return $.DiagnosticSeverity.Error;switch(u){case Z.DiagnosticSeverity.Error:return $.DiagnosticSeverity.Error;case Z.DiagnosticSeverity.Warning:return $.DiagnosticSeverity.Warning;case Z.DiagnosticSeverity.Information:return $.DiagnosticSeverity.Information;case Z.DiagnosticSeverity.Hint:return $.DiagnosticSeverity.Hint}return $.DiagnosticSeverity.Error}function M(u){if(wt.string(u))return F(u);if(Xr.is(u))return F().appendCodeblock(u.value,u.language);if(Array.isArray(u)){let P=[];for(let U of u){let te=F();Xr.is(U)?te.appendCodeblock(U.value,U.language):te.appendMarkdown(U),P.push(te)}return P}else{let P;switch(u.kind){case Z.MarkupKind.Markdown:return F(u.value);case Z.MarkupKind.PlainText:return P=F(),P.appendText(u.value),P;default:return P=F(),P.appendText(`Unsupported Markup content received. Kind is: ${u.kind}`),P}}}function z(u){if(wt.string(u))return u;switch(u.kind){case Z.MarkupKind.Markdown:return F(u.value);case Z.MarkupKind.PlainText:return u.value;default:return`Unsupported Markup content received. Kind is: ${u.kind}`}}function F(u){let P=new $.MarkdownString(u);return e===!0&&(P.isTrusted=e),P}function O(u){if(u)return new $.Hover(M(u.contents),T(u.range))}function x(u){if(!u)return;if(Array.isArray(u))return u.map(Ee);let P=u;return new $.CompletionList(P.items.map(Ee),P.isIncomplete)}function q(u){return Z.CompletionItemKind.Text<=u&&u<=Z.CompletionItemKind.TypeParameter?[u-1,void 0]:[$.CompletionItemKind.Text,u]}function G(u){switch(u){case Z.CompletionItemTag.Deprecated:return $.CompletionItemTag.Deprecated}}function Se(u){if(u==null)return[];let P=[];for(let U of u){let te=G(U);te!==void 0&&P.push(te)}return P}function Ee(u){let P=Se(u.tags),U=new Ay.default(u.label);u.detail&&(U.detail=u.detail),u.documentation&&(U.documentation=z(u.documentation),U.documentationFormat=wt.string(u.documentation)?"$string":u.documentation.kind),u.filterText&&(U.filterText=u.filterText);let te=qe(u);if(te&&(U.insertText=te.text,U.range=te.range,U.fromEdit=te.fromEdit),wt.number(u.kind)){let[se,cn]=q(u.kind);U.kind=se,cn&&(U.originalItemKind=cn)}return u.sortText&&(U.sortText=u.sortText),u.additionalTextEdits&&(U.additionalTextEdits=xe(u.additionalTextEdits)),wt.stringArray(u.commitCharacters)&&(U.commitCharacters=u.commitCharacters.slice()),u.command&&(U.command=st(u.command)),(u.deprecated===!0||u.deprecated===!1)&&(U.deprecated=u.deprecated,u.deprecated===!0&&P.push($.CompletionItemTag.Deprecated)),(u.preselect===!0||u.preselect===!1)&&(U.preselect=u.preselect),u.data!==void 0&&(U.data=u.data),P.length>0&&(U.tags=P),u.insertTextMode!==void 0&&(U.insertTextMode=u.insertTextMode,u.insertTextMode===Vl.InsertTextMode.asIs&&(U.keepWhitespace=!0)),U}function qe(u){return u.textEdit?u.insertTextFormat===Z.InsertTextFormat.Snippet?{text:new $.SnippetString(u.textEdit.newText),range:ve(u.textEdit),fromEdit:!0}:{text:u.textEdit.newText,range:ve(u.textEdit),fromEdit:!0}:u.insertText?u.insertTextFormat===Z.InsertTextFormat.Snippet?{text:new $.SnippetString(u.insertText),fromEdit:!1}:{text:u.insertText,fromEdit:!1}:void 0}function ve(u){return Z.InsertReplaceEdit.is(u)?{inserting:T(u.insert),replacing:T(u.replace)}:T(u.range)}function ke(u){if(u)return new $.TextEdit(T(u.range),u.newText)}function xe(u){if(u)return u.map(ke)}function Ve(u){if(!u)return;let P=new $.SignatureHelp;return wt.number(u.activeSignature)?P.activeSignature=u.activeSignature:P.activeSignature=0,wt.number(u.activeParameter)?P.activeParameter=u.activeParameter:P.activeParameter=0,u.signatures&&(P.signatures=We(u.signatures)),P}function We(u){return u.map(Xe)}function Xe(u){let P=new $.SignatureInformation(u.label);return u.documentation!==void 0&&(P.documentation=z(u.documentation)),u.parameters!==void 0&&(P.parameters=He(u.parameters)),u.activeParameter!==void 0&&(P.activeParameter=u.activeParameter),P}function He(u){return u.map(gt)}function gt(u){let P=new $.ParameterInformation(u.label);return u.documentation&&(P.documentation=z(u.documentation)),P}function ue(u){if(u)return new $.Location(r(u.uri),T(u.range))}function pt(u){if(u)return it(u)}function Oe(u){if(u)return it(u)}function tt(u){if(!u)return;let P={targetUri:r(u.targetUri),targetRange:T(u.targetRange),originSelectionRange:T(u.originSelectionRange),targetSelectionRange:T(u.targetSelectionRange)};if(!P.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return P}function it(u){if(u)return wt.array(u)?u.length===0?[]:Z.LocationLink.is(u[0])?u.map(U=>tt(U)):u.map(U=>ue(U)):Z.LocationLink.is(u)?[tt(u)]:ue(u)}function mt(u){if(u)return u.map(P=>ue(P))}function Ut(u){if(u)return u.map(Kt)}function Kt(u){let P=new $.DocumentHighlight(T(u.range));return wt.number(u.kind)&&(P.kind=Ot(u.kind)),P}function Ot(u){switch(u){case Z.DocumentHighlightKind.Text:return $.DocumentHighlightKind.Text;case Z.DocumentHighlightKind.Read:return $.DocumentHighlightKind.Read;case Z.DocumentHighlightKind.Write:return $.DocumentHighlightKind.Write}return $.DocumentHighlightKind.Text}function kt(u,P){if(u)return u.map(U=>zt(U,P))}function Tt(u){return u<=Z.SymbolKind.TypeParameter?u-1:$.SymbolKind.Property}function bt(u){switch(u){case Z.SymbolTag.Deprecated:return $.SymbolTag.Deprecated;default:return}}function xt(u){if(u==null)return;let P=[];for(let U of u){let te=bt(U);te!==void 0&&P.push(te)}return P.length===0?void 0:P}function zt(u,P){let U=new $.SymbolInformation(u.name,Tt(u.kind),T(u.location.range),u.location.uri?r(u.location.uri):P);return Gt(U,u),u.containerName&&(U.containerName=u.containerName),U}function rn(u){if(u!=null)return u.map(ot)}function ot(u){let P=new $.DocumentSymbol(u.name,u.detail||"",Tt(u.kind),T(u.range),T(u.selectionRange));if(Gt(P,u),u.children!==void 0&&u.children.length>0){let U=[];for(let te of u.children)U.push(ot(te));P.children=U}return P}function Gt(u,P){u.tags=xt(P.tags),P.deprecated&&(u.tags?u.tags.includes($.SymbolTag.Deprecated)||(u.tags=u.tags.concat($.SymbolTag.Deprecated)):u.tags=[$.SymbolTag.Deprecated])}function st(u){let P={title:u.title,command:u.command};return u.arguments&&(P.arguments=u.arguments),P}function on(u){if(u)return u.map(st)}let Ce=new Map;Ce.set(Z.CodeActionKind.Empty,$.CodeActionKind.Empty),Ce.set(Z.CodeActionKind.QuickFix,$.CodeActionKind.QuickFix),Ce.set(Z.CodeActionKind.Refactor,$.CodeActionKind.Refactor),Ce.set(Z.CodeActionKind.RefactorExtract,$.CodeActionKind.RefactorExtract),Ce.set(Z.CodeActionKind.RefactorInline,$.CodeActionKind.RefactorInline),Ce.set(Z.CodeActionKind.RefactorRewrite,$.CodeActionKind.RefactorRewrite),Ce.set(Z.CodeActionKind.Source,$.CodeActionKind.Source),Ce.set(Z.CodeActionKind.SourceOrganizeImports,$.CodeActionKind.SourceOrganizeImports);function Je(u){if(u==null)return;let P=Ce.get(u);if(P)return P;let U=u.split(".");P=$.CodeActionKind.Empty;for(let te of U)P=P.append(te);return P}function Bt(u){if(u!=null)return u.map(P=>Je(P))}function sn(u){if(u==null)return;let P=new Wy.default(u.title,u.data);return u.kind!==void 0&&(P.kind=Je(u.kind)),u.diagnostics!==void 0&&(P.diagnostics=s(u.diagnostics)),u.edit!==void 0&&(P.edit=It(u.edit)),u.command!==void 0&&(P.command=st(u.command)),u.isPreferred!==void 0&&(P.isPreferred=u.isPreferred),u.disabled!==void 0&&(P.disabled={reason:u.disabled.reason}),P}function at(u){if(!u)return;let P=new jy.default(T(u.range));return u.command&&(P.command=st(u.command)),u.data!==void 0&&u.data!==null&&(P.data=u.data),P}function Vt(u){if(u)return u.map(P=>at(P))}function It(u){if(!u)return;let P=new Map;if(u.changeAnnotations!==void 0)for(let se of Object.keys(u.changeAnnotations)){let cn=ct(u.changeAnnotations[se]);P.set(se,cn)}let U=se=>{if(se!==void 0)return P.get(se)},te=new $.WorkspaceEdit;if(u.documentChanges)for(let se of u.documentChanges)if(Z.CreateFile.is(se))te.createFile(r(se.uri),se.options,U(se.annotationId));else if(Z.RenameFile.is(se))te.renameFile(r(se.oldUri),r(se.newUri),se.options,U(se.annotationId));else if(Z.DeleteFile.is(se))te.deleteFile(r(se.uri),se.options,U(se.annotationId));else if(Z.TextDocumentEdit.is(se)){let cn=r(se.textDocument.uri);for(let wn of se.edits)Vl.AnnotatedTextEdit.is(wn)?te.replace(cn,T(wn.range),wn.newText,U(wn.annotationId)):te.replace(cn,T(wn.range),wn.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(se,void 0,4)}`);else u.changes&&Object.keys(u.changes).forEach(se=>{te.set(r(se),xe(u.changes[se]))});return te}function ct(u){if(u!==void 0)return{label:u.label,needsConfirmation:!!u.needsConfirmation,description:u.description}}function Ft(u){let P=T(u.range),U=u.target?i(u.target):void 0,te=new $y.default(P,U);return u.tooltip!==void 0&&(te.tooltip=u.tooltip),u.data!==void 0&&u.data!==null&&(te.data=u.data),te}function ut(u){if(u)return u.map(Ft)}function C(u){return new $.Color(u.red,u.green,u.blue,u.alpha)}function g(u){return new $.ColorInformation(T(u.range),C(u.color))}function l(u){if(Array.isArray(u))return u.map(g)}function p(u){let P=new $.ColorPresentation(u.label);return P.additionalTextEdits=xe(u.additionalTextEdits),u.textEdit&&(P.textEdit=ke(u.textEdit)),P}function _(u){if(Array.isArray(u))return u.map(p)}function o(u){if(u)switch(u){case Z.FoldingRangeKind.Comment:return $.FoldingRangeKind.Comment;case Z.FoldingRangeKind.Imports:return $.FoldingRangeKind.Imports;case Z.FoldingRangeKind.Region:return $.FoldingRangeKind.Region}}function a(u){return new $.FoldingRange(u.startLine,u.endLine,o(u.kind))}function y(u){if(Array.isArray(u))return u.map(a)}function S(u){return new $.SelectionRange(T(u.range),u.parent?S(u.parent):void 0)}function k(u){if(!Array.isArray(u))return[];let P=[];for(let U of u)P.push(S(U));return P}function W(u){if(u===null)return;let P=new Hy.default(Tt(u.kind),u.name,u.detail||"",i(u.uri),T(u.range),T(u.selectionRange),u.data);return u.tags!==void 0&&(P.tags=xt(u.tags)),P}function J(u){if(u!==null)return u.map(P=>W(P))}function ie(u){return new $.CallHierarchyIncomingCall(W(u.from),b(u.fromRanges))}function Re(u){if(u!==null)return u.map(P=>ie(P))}function _e(u){return new $.CallHierarchyOutgoingCall(W(u.to),b(u.fromRanges))}function ee(u){if(u!==null)return u.map(P=>_e(P))}function Xt(u){if(u!=null)return new $.SemanticTokens(new Uint32Array(u.data),u.resultId)}function an(u){return new $.SemanticTokensEdit(u.start,u.deleteCount,u.data!==void 0?new Uint32Array(u.data):void 0)}function yr(u){if(u!=null)return new $.SemanticTokensEdits(u.edits.map(an),u.resultId)}function af(u){return u}function cf(u){if(u!=null)return new $.LinkedEditingRanges(b(u.ranges),uf(u.wordPattern))}function uf(u){if(u!=null)return new RegExp(u)}return{asUri:i,asDiagnostics:s,asDiagnostic:c,asRange:T,asRanges:b,asPosition:w,asDiagnosticSeverity:I,asDiagnosticTag:R,asHover:O,asCompletionResult:x,asCompletionItem:Ee,asTextEdit:ke,asTextEdits:xe,asSignatureHelp:Ve,asSignatureInformations:We,asSignatureInformation:Xe,asParameterInformations:He,asParameterInformation:gt,asDeclarationResult:pt,asDefinitionResult:Oe,asLocation:ue,asReferences:mt,asDocumentHighlights:Ut,asDocumentHighlight:Kt,asDocumentHighlightKind:Ot,asSymbolKind:Tt,asSymbolTag:bt,asSymbolTags:xt,asSymbolInformations:kt,asSymbolInformation:zt,asDocumentSymbols:rn,asDocumentSymbol:ot,asCommand:st,asCommands:on,asCodeAction:sn,asCodeActionKind:Je,asCodeActionKinds:Bt,asCodeLens:at,asCodeLenses:Vt,asWorkspaceEdit:It,asDocumentLink:Ft,asDocumentLinks:ut,asFoldingRangeKind:o,asFoldingRange:a,asFoldingRanges:y,asColor:C,asColorInformation:g,asColorInformations:l,asColorPresentation:p,asColorPresentations:_,asSelectionRange:S,asSelectionRanges:k,asSemanticTokensLegend:af,asSemanticTokens:Xt,asSemanticTokensEdit:an,asSemanticTokensEdits:yr,asCallHierarchyItem:W,asCallHierarchyItems:J,asCallHierarchyIncomingCall:ie,asCallHierarchyIncomingCalls:Re,asCallHierarchyOutgoingCall:_e,asCallHierarchyOutgoingCalls:ee,asLinkedEditingRanges:cf}}Jr.createConverter=Uy});var Ql=D(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.Delayer=void 0;var Jl=me(),bs=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=Jl.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(Jl.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};Qr.Delayer=bs});var Yr=D(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.generateUuid=ht.parse=ht.isUUID=ht.v4=ht.empty=void 0;var ar=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},cr=class t extends ar{constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}};cr._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];cr._timeHighBits=["8","9","a","b"];ht.empty=new ar("00000000-0000-0000-0000-000000000000");function Yl(){return new cr}ht.v4=Yl;var Ky=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Zl(t){return Ky.test(t)}ht.isUUID=Zl;function zy(t){if(!Zl(t))throw new Error("invalid uuid");return new ar(t)}ht.parse=zy;function Gy(){return Yl().asHex()}ht.generateUuid=Gy});var Ds=D(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.ProgressPart=void 0;var ed=require("vscode"),td=me(),nd=Jt(),Ps=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._disposable=this._client.onProgress(td.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){ed.window.withProgress({location:ed.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>(this._progress=n,this._infinite=e.percentage===void 0,this._cancellationToken=r,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(td.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})))}report(e){if(this._infinite&&nd.string(e.message))this._progress.report({message:e.message});else if(nd.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._progress.report({message:e.message,increment:r}),this._reported+=r}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};Zr.ProgressPart=Ps});var nt=D(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.BaseLanguageClient=we.MessageTransports=we.TextDocumentFeature=we.State=we.RevealOutputChannelOn=we.CloseAction=we.ErrorAction=void 0;var A=require("vscode"),m=me(),By=os(),Vy=Gl(),Xy=Xl(),ae=Jt(),rd=Ql(),ce=Yr(),Jy=Ds(),Es=class{error(e){m.RAL().console.error(e)}warn(e){m.RAL().console.warn(e)}info(e){m.RAL().console.info(e)}log(e){m.RAL().console.log(e)}};function Qy(t,e,n,r,i){let s=new Es,c=m.createProtocolConnection(t,e,s,i);return c.onError(d=>{n(d[0],d[1],d[2])}),c.onClose(r),{listen:()=>c.listen(),sendRequest:(d,...v)=>c.sendRequest(ae.string(d)?d:d.method,...v),onRequest:(d,v)=>c.onRequest(ae.string(d)?d:d.method,v),sendNotification:(d,v)=>c.sendNotification(ae.string(d)?d:d.method,v),onNotification:(d,v)=>c.onNotification(ae.string(d)?d:d.method,v),onProgress:c.onProgress,sendProgress:c.sendProgress,trace:(d,v,R)=>{let w={sendNotification:!1,traceFormat:m.TraceFormat.Text};R===void 0?c.trace(d,v,w):(ae.boolean(R),c.trace(d,v,R))},initialize:d=>c.sendRequest(m.InitializeRequest.type,d),shutdown:()=>c.sendRequest(m.ShutdownRequest.type,void 0),exit:()=>c.sendNotification(m.ExitNotification.type),onLogMessage:d=>c.onNotification(m.LogMessageNotification.type,d),onShowMessage:d=>c.onNotification(m.ShowMessageNotification.type,d),onTelemetry:d=>c.onNotification(m.TelemetryEventNotification.type,d),didChangeConfiguration:d=>c.sendNotification(m.DidChangeConfigurationNotification.type,d),didChangeWatchedFiles:d=>c.sendNotification(m.DidChangeWatchedFilesNotification.type,d),didOpenTextDocument:d=>c.sendNotification(m.DidOpenTextDocumentNotification.type,d),didChangeTextDocument:d=>c.sendNotification(m.DidChangeTextDocumentNotification.type,d),didCloseTextDocument:d=>c.sendNotification(m.DidCloseTextDocumentNotification.type,d),didSaveTextDocument:d=>c.sendNotification(m.DidSaveTextDocumentNotification.type,d),onDiagnostics:d=>c.onNotification(m.PublishDiagnosticsNotification.type,d),end:()=>c.end(),dispose:()=>c.dispose()}}var ti;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(ti=we.ErrorAction||(we.ErrorAction={}));var yn;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(yn=we.CloseAction||(we.CloseAction={}));var qs=class{constructor(e,n){this.name=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?ti.Continue:ti.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?yn.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(A.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),yn.DoNotRestart):(this.restarts.shift(),yn.Restart)}},ur;(function(t){t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(ur=we.RevealOutputChannelOn||(we.RevealOutputChannelOn={}));var ei;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(ei=we.State||(we.State={}));var he;(function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.StartFailed=2]="StartFailed",t[t.Running=3]="Running",t[t.Stopping=4]="Stopping",t[t.Stopped=5]="Stopped"})(he||(he={}));var id=[m.SymbolKind.File,m.SymbolKind.Module,m.SymbolKind.Namespace,m.SymbolKind.Package,m.SymbolKind.Class,m.SymbolKind.Method,m.SymbolKind.Property,m.SymbolKind.Field,m.SymbolKind.Constructor,m.SymbolKind.Enum,m.SymbolKind.Interface,m.SymbolKind.Function,m.SymbolKind.Variable,m.SymbolKind.Constant,m.SymbolKind.String,m.SymbolKind.Number,m.SymbolKind.Boolean,m.SymbolKind.Array,m.SymbolKind.Object,m.SymbolKind.Key,m.SymbolKind.Null,m.SymbolKind.EnumMember,m.SymbolKind.Struct,m.SymbolKind.Event,m.SymbolKind.Operator,m.SymbolKind.TypeParameter],Yy=[m.CompletionItemKind.Text,m.CompletionItemKind.Method,m.CompletionItemKind.Function,m.CompletionItemKind.Constructor,m.CompletionItemKind.Field,m.CompletionItemKind.Variable,m.CompletionItemKind.Class,m.CompletionItemKind.Interface,m.CompletionItemKind.Module,m.CompletionItemKind.Property,m.CompletionItemKind.Unit,m.CompletionItemKind.Value,m.CompletionItemKind.Enum,m.CompletionItemKind.Keyword,m.CompletionItemKind.Snippet,m.CompletionItemKind.Color,m.CompletionItemKind.File,m.CompletionItemKind.Reference,m.CompletionItemKind.Folder,m.CompletionItemKind.EnumMember,m.CompletionItemKind.Constant,m.CompletionItemKind.Struct,m.CompletionItemKind.Event,m.CompletionItemKind.Operator,m.CompletionItemKind.TypeParameter],od=[m.SymbolTag.Deprecated];function H(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var lr;(function(t){function e(n){let r=A.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(lr||(lr={}));var Os;(function(t){function e(n){let r=n;return r&&ae.func(r.register)&&ae.func(r.unregister)&&ae.func(r.dispose)&&r.registrationType!==void 0}t.is=e})(Os||(Os={}));var St=class{constructor(e,n,r,i,s,c){this._client=e,this._event=n,this._type=r,this._middleware=i,this._createParams=s,this._selectorFilter=c,this._selectors=new Map}static textDocumentFilter(e,n){for(let r of e)if(A.languages.match(r,n))return!0;return!1}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))&&(this._middleware?this._middleware(e,n=>this._client.sendNotification(this._type,this._createParams(n))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(A.languages.match(n,e))return{send:r=>{this.callback(r)}}}},ks=class extends St{constructor(e,n){super(e,A.workspace.onDidOpenTextDocument,m.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),St.textDocumentFilter),this._syncedDocuments=n}fillClientCapabilities(e){H(H(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:ce.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return m.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=e.registerOptions.documentSelector;A.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&A.languages.match(n,r)){let s=this._client.clientOptions.middleware,c=f=>{this._client.sendNotification(this._type,this._createParams(f))};s.didOpen?s.didOpen(r,c):c(r),this._syncedDocuments.set(i,r)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}},xs=class extends St{constructor(e,n){super(e,A.workspace.onDidCloseTextDocument,m.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),St.textDocumentFilter),this._syncedDocuments=n}get registrationType(){return m.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){H(H(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:ce.generateUuid(),registerOptions:{documentSelector:n}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(A.languages.match(n,i)&&!this._selectorFilter(r,i)){let s=this._client.clientOptions.middleware,c=f=>{this._client.sendNotification(this._type,this._createParams(f))};this._syncedDocuments.delete(i.uri.toString()),s.didClose?s.didClose(i,c):c(i)}})}},Is=class{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return m.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){H(H(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==m.TextDocumentSyncKind.None&&this.register({id:ce.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=A.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(e.contentChanges.length!==0){for(let n of this._changeData.values())if(A.languages.match(n.documentSelector,e.document)){let r=this._client.clientOptions.middleware;if(n.syncKind===m.TextDocumentSyncKind.Incremental){let i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);r.didChange?r.didChange(e,()=>this._client.sendNotification(m.DidChangeTextDocumentNotification.type,i)):this._client.sendNotification(m.DidChangeTextDocumentNotification.type,i)}else if(n.syncKind===m.TextDocumentSyncKind.Full){let i=s=>{this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(m.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))})):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new rd.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(m.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))},-1))};r.didChange?r.didChange(e,i):i(e)}}}}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let n of this._changeData.values())if(A.languages.match(n.documentSelector,e))return{send:r=>{this.callback(r)}}}},Fs=class extends St{constructor(e){super(e,A.workspace.onWillSaveTextDocument,m.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),(n,r)=>St.textDocumentFilter(n,r.document))}get registrationType(){return m.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:ce.generateUuid(),registerOptions:{documentSelector:n}})}},Ns=class{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return m.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:ce.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=A.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(St.textDocumentFilter(this._selectors.values(),e.document)){let n=this._client.clientOptions.middleware,r=i=>this._client.sendRequest(m.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(s=>{let c=this._client.protocol2CodeConverter.asTextEdits(s);return c===void 0?[]:c});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},Ls=class extends St{constructor(e){super(e,A.workspace.onDidSaveTextDocument,m.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),St.textDocumentFilter),this._includeText=!1}get registrationType(){return m.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){H(H(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:ce.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}},Ms=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}get registrationType(){return m.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){H(H(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){if(!ae.string(r.globPattern))continue;let i=!0,s=!0,c=!0;r.kind!==void 0&&r.kind!==null&&(i=(r.kind&m.WatchKind.Create)!==0,s=(r.kind&m.WatchKind.Change)!==0,c=(r.kind&m.WatchKind.Delete)!==0);let f=A.workspace.createFileSystemWatcher(r.globPattern,!i,!s,!c);this.hookListeners(f,i,s,c),n.push(f)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let i of n)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,i,s){n&&e.onDidCreate(c=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(c),type:m.FileChangeType.Created}),null,s),r&&e.onDidChange(c=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(c),type:m.FileChangeType.Changed}),null,s),i&&e.onDidDelete(c=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(c),type:m.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}dispose(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}},Le=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(m.TextDocumentRegistrationOptions.is(n)){let r=m.StaticRegistrationOptions.hasId(n)?n.id:ce.generateUuid(),i=n.documentSelector||e;if(i)return[r,Object.assign({},n,{documentSelector:i})]}else if(ae.boolean(n)&&n===!0||m.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=ae.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[ce.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return ae.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&A.languages.match(r,e))return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};we.TextDocumentFeature=Le;var As=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}},js=class extends Le{constructor(e){super(e,m.CompletionRequest.type)}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[m.MarkupKind.Markdown,m.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[m.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[m.InsertTextMode.asIs,m.InsertTextMode.adjustIndentation]}},n.completionItemKind={valueSet:Yy}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.triggerCharacters||[],r={provideCompletionItems:(i,s,c,f)=>{let d=this._client,v=this._client.clientOptions.middleware,R=(w,T,b,I)=>d.sendRequest(m.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(w,T,b),I).then(d.protocol2CodeConverter.asCompletionResult,M=>d.handleFailedRequest(m.CompletionRequest.type,M,null));return v.provideCompletionItem?v.provideCompletionItem(i,s,f,c,R):R(i,s,f,c)},resolveCompletionItem:e.resolveProvider?(i,s)=>{let c=this._client,f=this._client.clientOptions.middleware,d=(v,R)=>c.sendRequest(m.CompletionResolveRequest.type,c.code2ProtocolConverter.asCompletionItem(v),R).then(c.protocol2CodeConverter.asCompletionItem,w=>c.handleFailedRequest(m.CompletionResolveRequest.type,w,v));return f.resolveCompletionItem?f.resolveCompletionItem(i,s,d):d(i,s)}:void 0};return[A.languages.registerCompletionItemProvider(e.documentSelector,r,...n),r]}},$s=class extends Le{constructor(e){super(e,m.HoverRequest.type)}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[m.MarkupKind.Markdown,m.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideHover:(r,i,s)=>{let c=this._client,f=(v,R,w)=>c.sendRequest(m.HoverRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(v,R),w).then(c.protocol2CodeConverter.asHover,T=>c.handleFailedRequest(m.HoverRequest.type,T,null)),d=c.clientOptions.middleware;return d.provideHover?d.provideHover(r,i,s,f):f(r,i,s)}};return[A.languages.registerHoverProvider(e.documentSelector,n),n]}},Ws=class extends Le{constructor(e){super(e,m.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[m.MarkupKind.Markdown,m.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,s,c,f)=>{let d=this._client,v=(w,T,b,I)=>d.sendRequest(m.SignatureHelpRequest.type,d.code2ProtocolConverter.asSignatureHelpParams(w,T,b),I).then(d.protocol2CodeConverter.asSignatureHelp,M=>d.handleFailedRequest(m.SignatureHelpRequest.type,M,null)),R=d.clientOptions.middleware;return R.provideSignatureHelp?R.provideSignatureHelp(i,s,f,c,v):v(i,s,f,c)}},r;if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];r=A.languages.registerSignatureHelpProvider(e.documentSelector,n,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};r=A.languages.registerSignatureHelpProvider(e.documentSelector,n,i)}return[r,n]}},Hs=class extends Le{constructor(e){super(e,m.DefinitionRequest.type)}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDefinition:(r,i,s)=>{let c=this._client,f=(v,R,w)=>c.sendRequest(m.DefinitionRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(v,R),w).then(c.protocol2CodeConverter.asDefinitionResult,T=>c.handleFailedRequest(m.DefinitionRequest.type,T,null)),d=c.clientOptions.middleware;return d.provideDefinition?d.provideDefinition(r,i,s,f):f(r,i,s)}};return[A.languages.registerDefinitionProvider(e.documentSelector,n),n]}},Us=class extends Le{constructor(e){super(e,m.ReferencesRequest.type)}fillClientCapabilities(e){H(H(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideReferences:(r,i,s,c)=>{let f=this._client,d=(R,w,T,b)=>f.sendRequest(m.ReferencesRequest.type,f.code2ProtocolConverter.asReferenceParams(R,w,T),b).then(f.protocol2CodeConverter.asReferences,I=>f.handleFailedRequest(m.ReferencesRequest.type,I,null)),v=f.clientOptions.middleware;return v.provideReferences?v.provideReferences(r,i,s,c,d):d(r,i,s,c)}};return[A.languages.registerReferenceProvider(e.documentSelector,n),n]}},Ks=class extends Le{constructor(e){super(e,m.DocumentHighlightRequest.type)}fillClientCapabilities(e){H(H(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentHighlights:(r,i,s)=>{let c=this._client,f=(v,R,w)=>c.sendRequest(m.DocumentHighlightRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(v,R),w).then(c.protocol2CodeConverter.asDocumentHighlights,T=>c.handleFailedRequest(m.DocumentHighlightRequest.type,T,null)),d=c.clientOptions.middleware;return d.provideDocumentHighlights?d.provideDocumentHighlights(r,i,s,f):f(r,i,s)}};return[A.languages.registerDocumentHighlightProvider(e.documentSelector,n),n]}},zs=class extends Le{constructor(e){super(e,m.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:id},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:od},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentSymbols:(i,s)=>{let c=this._client,f=(v,R)=>c.sendRequest(m.DocumentSymbolRequest.type,c.code2ProtocolConverter.asDocumentSymbolParams(v),R).then(w=>{if(w!==null){if(w.length===0)return[];{let T=w[0];return m.DocumentSymbol.is(T)?c.protocol2CodeConverter.asDocumentSymbols(w):c.protocol2CodeConverter.asSymbolInformations(w)}}},w=>c.handleFailedRequest(m.DocumentSymbolRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideDocumentSymbols?d.provideDocumentSymbols(i,s,f):f(i,s)}},r=e.label!==void 0?{label:e.label}:void 0;return[A.languages.registerDocumentSymbolProvider(e.documentSelector,n,r),n]}},Gs=class extends As{constructor(e){super(e,m.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=H(H(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:id},n.tagSupport={valueSet:od}}initialize(e){e.workspaceSymbolProvider&&this.register({id:ce.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,i)=>{let s=this._client,c=(d,v)=>s.sendRequest(m.WorkspaceSymbolRequest.type,{query:d},v).then(s.protocol2CodeConverter.asSymbolInformations,R=>s.handleFailedRequest(m.WorkspaceSymbolRequest.type,R,null)),f=s.clientOptions.middleware;return f.provideWorkspaceSymbols?f.provideWorkspaceSymbols(r,i,c):c(r,i)}};return[A.languages.registerWorkspaceSymbolProvider(n),n]}},Bs=class extends Le{constructor(e){super(e,m.CodeActionRequest.type)}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[m.CodeActionKind.Empty,m.CodeActionKind.QuickFix,m.CodeActionKind.Refactor,m.CodeActionKind.RefactorExtract,m.CodeActionKind.RefactorInline,m.CodeActionKind.RefactorRewrite,m.CodeActionKind.Source,m.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!1}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideCodeActions:(r,i,s,c)=>{let f=this._client,d=(R,w,T,b)=>{let I={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(R),range:f.code2ProtocolConverter.asRange(w),context:f.code2ProtocolConverter.asCodeActionContext(T)};return f.sendRequest(m.CodeActionRequest.type,I,b).then(M=>{if(M===null)return;let z=[];for(let F of M)m.Command.is(F)?z.push(f.protocol2CodeConverter.asCommand(F)):z.push(f.protocol2CodeConverter.asCodeAction(F));return z},M=>f.handleFailedRequest(m.CodeActionRequest.type,M,null))},v=f.clientOptions.middleware;return v.provideCodeActions?v.provideCodeActions(r,i,s,c,d):d(r,i,s,c)},resolveCodeAction:e.resolveProvider?(r,i)=>{let s=this._client,c=this._client.clientOptions.middleware,f=(d,v)=>s.sendRequest(m.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeAction(d),v).then(s.protocol2CodeConverter.asCodeAction,R=>s.handleFailedRequest(m.CodeActionResolveRequest.type,R,d));return c.resolveCodeAction?c.resolveCodeAction(r,i,f):f(r,i)}:void 0};return[A.languages.registerCodeActionsProvider(e.documentSelector,n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}},Vs=class extends Le{constructor(e){super(e,m.CodeLensRequest.type)}fillClientCapabilities(e){H(H(e,"textDocument"),"codeLens").dynamicRegistration=!0,H(H(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(m.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(n,e.codeLensProvider);i&&this.register({id:ce.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=new A.EventEmitter,r={onDidChangeCodeLenses:n.event,provideCodeLenses:(i,s)=>{let c=this._client,f=(v,R)=>c.sendRequest(m.CodeLensRequest.type,c.code2ProtocolConverter.asCodeLensParams(v),R).then(c.protocol2CodeConverter.asCodeLenses,w=>c.handleFailedRequest(m.CodeLensRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideCodeLenses?d.provideCodeLenses(i,s,f):f(i,s)},resolveCodeLens:e.resolveProvider?(i,s)=>{let c=this._client,f=(v,R)=>c.sendRequest(m.CodeLensResolveRequest.type,c.code2ProtocolConverter.asCodeLens(v),R).then(c.protocol2CodeConverter.asCodeLens,w=>c.handleFailedRequest(m.CodeLensResolveRequest.type,w,v)),d=c.clientOptions.middleware;return d.resolveCodeLens?d.resolveCodeLens(i,s,f):f(i,s)}:void 0};return[A.languages.registerCodeLensProvider(e.documentSelector,r),{provider:r,onDidChangeCodeLensEmitter:n}]}},Xs=class extends Le{constructor(e){super(e,m.DocumentFormattingRequest.type)}fillClientCapabilities(e){H(H(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentFormattingEdits:(r,i,s)=>{let c=this._client,f=(v,R,w)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(v),options:c.code2ProtocolConverter.asFormattingOptions(R,lr.fromConfiguration(v))};return c.sendRequest(m.DocumentFormattingRequest.type,T,w).then(c.protocol2CodeConverter.asTextEdits,b=>c.handleFailedRequest(m.DocumentFormattingRequest.type,b,null))},d=c.clientOptions.middleware;return d.provideDocumentFormattingEdits?d.provideDocumentFormattingEdits(r,i,s,f):f(r,i,s)}};return[A.languages.registerDocumentFormattingEditProvider(e.documentSelector,n),n]}},Js=class extends Le{constructor(e){super(e,m.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){H(H(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentRangeFormattingEdits:(r,i,s,c)=>{let f=this._client,d=(R,w,T,b)=>{let I={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(R),range:f.code2ProtocolConverter.asRange(w),options:f.code2ProtocolConverter.asFormattingOptions(T,lr.fromConfiguration(R))};return f.sendRequest(m.DocumentRangeFormattingRequest.type,I,b).then(f.protocol2CodeConverter.asTextEdits,M=>f.handleFailedRequest(m.DocumentRangeFormattingRequest.type,M,null))},v=f.clientOptions.middleware;return v.provideDocumentRangeFormattingEdits?v.provideDocumentRangeFormattingEdits(r,i,s,c,d):d(r,i,s,c)}};return[A.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,n),n]}},Qs=class extends Le{constructor(e){super(e,m.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){H(H(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideOnTypeFormattingEdits:(i,s,c,f,d)=>{let v=this._client,R=(T,b,I,M,z)=>{let F={textDocument:v.code2ProtocolConverter.asTextDocumentIdentifier(T),position:v.code2ProtocolConverter.asPosition(b),ch:I,options:v.code2ProtocolConverter.asFormattingOptions(M,lr.fromConfiguration(T))};return v.sendRequest(m.DocumentOnTypeFormattingRequest.type,F,z).then(v.protocol2CodeConverter.asTextEdits,O=>v.handleFailedRequest(m.DocumentOnTypeFormattingRequest.type,O,null))},w=v.clientOptions.middleware;return w.provideOnTypeFormattingEdits?w.provideOnTypeFormattingEdits(i,s,c,f,d,R):R(i,s,c,f,d)}},r=e.moreTriggerCharacter||[];return[A.languages.registerOnTypeFormattingEditProvider(e.documentSelector,n,e.firstTriggerCharacter,...r),n]}},Ys=class extends Le{constructor(e){super(e,m.RenameRequest.type)}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=m.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);r&&(ae.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:ce.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n={provideRenameEdits:(r,i,s,c)=>{let f=this._client,d=(R,w,T,b)=>{let I={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(R),position:f.code2ProtocolConverter.asPosition(w),newName:T};return f.sendRequest(m.RenameRequest.type,I,b).then(f.protocol2CodeConverter.asWorkspaceEdit,M=>f.handleFailedRequest(m.RenameRequest.type,M,null))},v=f.clientOptions.middleware;return v.provideRenameEdits?v.provideRenameEdits(r,i,s,c,d):d(r,i,s,c)},prepareRename:e.prepareProvider?(r,i,s)=>{let c=this._client,f=(v,R,w)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(v),position:c.code2ProtocolConverter.asPosition(R)};return c.sendRequest(m.PrepareRenameRequest.type,T,w).then(b=>m.Range.is(b)?c.protocol2CodeConverter.asRange(b):this.isDefaultBehavior(b)?b.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):b&&m.Range.is(b.range)?{range:c.protocol2CodeConverter.asRange(b.range),placeholder:b.placeholder}:Promise.reject(new Error("The element can't be renamed.")),b=>c.handleFailedRequest(m.PrepareRenameRequest.type,b,void 0))},d=c.clientOptions.middleware;return d.prepareRename?d.prepareRename(r,i,s,f):f(r,i,s)}:void 0};return[A.languages.registerRenameProvider(e.documentSelector,n),n]}isDefaultBehavior(e){let n=e;return n&&ae.boolean(n.defaultBehavior)}},Zs=class extends Le{constructor(e){super(e,m.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=H(H(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);r&&this.register({id:ce.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentLinks:(r,i)=>{let s=this._client,c=(d,v)=>s.sendRequest(m.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(d),v).then(s.protocol2CodeConverter.asDocumentLinks,R=>s.handleFailedRequest(m.DocumentLinkRequest.type,R,null)),f=s.clientOptions.middleware;return f.provideDocumentLinks?f.provideDocumentLinks(r,i,c):c(r,i)},resolveDocumentLink:e.resolveProvider?(r,i)=>{let s=this._client,c=(d,v)=>s.sendRequest(m.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(d),v).then(s.protocol2CodeConverter.asDocumentLink,R=>s.handleFailedRequest(m.DocumentLinkResolveRequest.type,R,d)),f=s.clientOptions.middleware;return f.resolveDocumentLink?f.resolveDocumentLink(r,i,c):c(r,i)}:void 0};return[A.languages.registerDocumentLinkProvider(e.documentSelector,n),n]}},ea=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return m.DidChangeConfigurationNotification.type}fillClientCapabilities(e){H(H(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;e!==void 0&&this.register({id:ce.generateUuid(),registerOptions:{section:e}})}register(e){let n=A.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,n){let r;if(ae.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(f=>n.affectsConfiguration(f)))return;let i=c=>{if(c===void 0){this._client.sendNotification(m.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(m.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(c)})},s=this.getMiddleware();s?s(r,i):i(r)}extractSettingsInformation(e){function n(s,c){let f=s;for(let d=0;d<c.length-1;d++){let v=f[c[d]];v||(v=Object.create(null),f[c[d]]=v),f=v}return f}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let c=e[s],f=c.indexOf("."),d=null;if(f>=0?d=A.workspace.getConfiguration(c.substr(0,f),r).get(c.substr(f+1)):d=A.workspace.getConfiguration(void 0,r).get(c),d){let v=e[s].split(".");n(i,v)[v[v.length-1]]=By.toJSONObject(d)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;if(e.workspace&&e.workspace.didChangeConfiguration)return e.workspace.didChangeConfiguration}},ta=class{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return m.ExecuteCommandRequest.type}fillClientCapabilities(e){H(H(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:ce.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.clientOptions.middleware,i=(s,c)=>{let f={command:s,arguments:c};return n.sendRequest(m.ExecuteCommandRequest.type,f).then(void 0,d=>n.handleFailedRequest(m.ExecuteCommandRequest.type,d,void 0))};if(e.registerOptions.commands){let s=[];for(let c of e.registerOptions.commands)s.push(A.commands.registerCommand(c,(...f)=>r.executeCommand?r.executeCommand(c,f,i):i(c,f)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}},Zy;(function(t){function e(n){return n&&m.MessageReader.is(n.reader)&&m.MessageWriter.is(n.writer)}t.is=e})(Zy=we.MessageTransports||(we.MessageTransports={}));var ni=class{constructor(e,n){this._resolve=e,this._reject=n,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}},ri=class t{constructor(e,n,r){var i;this._traceFormat=m.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=n,r=r||{};let s={isTrusted:!1};r.markdown!==void 0&&r.markdown.isTrusted===!0&&(s.isTrusted=!0),this._clientOptions={documentSelector:r.documentSelector||[],synchronize:r.synchronize||{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName||this._name,revealOutputChannelOn:r.revealOutputChannelOn||ur.Error,stdioEncoding:r.stdioEncoding||"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler||this.createDefaultErrorHandler((i=r.connectionOptions)===null||i===void 0?void 0:i.maxRestartCount),middleware:r.middleware||{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:s},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=he.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new rd.Delayer(250),this._onReady=new Promise((c,f)=>{this._onReadyCallbacks=new ni(c,f)}),this._onStop=void 0,this._telemetryEmitter=new m.Emitter,this._stateChangeEmitter=new m.Emitter,this._trace=m.Trace.Off,this._tracer={log:(c,f)=>{ae.string(c)?this.logTrace(c,f):this.logObjectTrace(c)}},this._c2p=Vy.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=Xy.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){return this.state===he.Running?ei.Running:this.state===he.Starting?ei.Starting:ei.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...n)}catch(r){throw this.error(`Sending request ${ae.string(e)?e:e.method} failed.`,r),r}}onRequest(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,n)}catch(r){throw this.error(`Registering request handler ${ae.string(e)?e:e.method} failed.`,r),r}}sendNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,n)}catch(r){throw this.error(`Sending notification ${ae.string(e)?e:e.method} failed.`,r),r}}onNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,n)}catch(r){throw this.error(`Registering notification handler ${ae.string(e)?e:e.method} failed.`,r),r}}onProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(m.WorkDoneProgress.is(e)){let i=this._clientOptions.middleware.handleWorkDoneProgress;if(i!==void 0)return this._resolvedConnection.onProgress(e,n,s=>{i(n,s,()=>r(s))})}return this._resolvedConnection.onProgress(e,n,r)}catch(i){throw this.error(`Registering progress handler for token ${n} failed.`,i),i}}sendProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,n,r)}catch(i){throw this.error(`Sending progress for token ${n} failed.`,i),i}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=A.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new qs(this._name,e??4)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(n=>{n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof m.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?ae.string(e.stack)?e.stack:e.message:ae.string(e)?e:e.toString()}info(e,n,r=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=ur.Info&&this.showNotificationMessage()}warn(e,n,r=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=ur.Warn&&this.showNotificationMessage()}error(e,n,r=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=ur.Error&&this.showNotificationMessage()}showNotificationMessage(){A.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===he.Initial||this.state===he.Stopping||this.state===he.Stopped}needsStop(){return this.state===he.Starting||this.state===he.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===he.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,n)=>{this._onReadyCallbacks=new ni(e,n)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?A.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):A.languages.createDiagnosticCollection()),this.state=he.Starting,this.resolveConnection().then(e=>(e.onLogMessage(n=>{switch(n.type){case m.MessageType.Error:this.error(n.message,void 0,!1);break;case m.MessageType.Warning:this.warn(n.message,void 0,!1);break;case m.MessageType.Info:this.info(n.message,void 0,!1);break;default:this.outputChannel.appendLine(n.message)}}),e.onShowMessage(n=>{switch(n.type){case m.MessageType.Error:A.window.showErrorMessage(n.message);break;case m.MessageType.Warning:A.window.showWarningMessage(n.message);break;case m.MessageType.Info:A.window.showInformationMessage(n.message);break;default:A.window.showInformationMessage(n.message)}}),e.onRequest(m.ShowMessageRequest.type,n=>{let r;switch(n.type){case m.MessageType.Error:r=A.window.showErrorMessage;break;case m.MessageType.Warning:r=A.window.showWarningMessage;break;case m.MessageType.Info:r=A.window.showInformationMessage;break;default:r=A.window.showInformationMessage}let i=n.actions||[];return r(n.message,...i)}),e.onTelemetry(n=>{this._telemetryEmitter.fire(n)}),e.onRequest(m.ShowDocumentRequest.type,async n=>{var r;let i=async c=>{let f=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await A.env.openExternal(f)};{let d={};return c.selection!==void 0&&(d.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?d.preserveFocus=!0:c.takeFocus===!0&&(d.preserveFocus=!1),await A.window.showTextDocument(f,d),{success:!0}}}catch{return{success:!0}}},s=(r=this._clientOptions.middleware.window)===null||r===void 0?void 0:r.showDocument;return s!==void 0?s(n,i):i(n)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=he.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),A.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new A.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,r=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:A.env.appName,version:A.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(A.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:ae.func(n)?n():n,trace:m.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){let s=ce.generateUuid(),c=new Jy.ProgressPart(e,s);return i.workDoneToken=s,this.doInitialize(e,i).then(f=>(c.done(),f),f=>{throw c.cancel(),f})}else return this.doInitialize(e,i)}doInitialize(e,n){return e.initialize(n).then(r=>{this._resolvedConnection=e,this._initializeResult=r,this.state=he.Running;let i;return ae.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===m.TextDocumentSyncKind.None?i={openClose:!1,change:m.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onDiagnostics(s=>this.handleDiagnostics(s)),e.onRequest(m.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(m.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(m.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s)),e.sendNotification(m.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),r}).then(void 0,r=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r)):r instanceof m.ResponseError&&r.data&&r.data.retry?A.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r))}):(r&&r.message&&A.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop(),this._onReadyCallbacks.reject(r)),r})}_clientGetRootPath(){let e=A.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===he.Stopping&&this._onStop?this._onStop:(this.state=he.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.end(),e.dispose(),this.state=he.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=he.Stopped,Promise.resolve())}cleanUp(e=!0,n=!0){this._listeners&&(this._listeners.forEach(r=>r.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(r=>r.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let r of this._features.values())r.dispose();e&&this.cleanUpChannel(),n&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var n;let r=this;function i(c){r._fileEvents.push(c),r._fileEventDelayer.trigger(()=>{r.onReady().then(()=>{r.resolveConnection().then(f=>{r.isConnectionActive()&&(r.forceDocumentSync(),f.didChangeWatchedFiles({changes:r._fileEvents})),r._fileEvents=[]})},f=>{r.error("Notify file events failed.",f)})})}let s=(n=this.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;s?.didChangeWatchedFile?s.didChangeWatchedFile(e,i):i(e)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(m.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let n=this._p2c.asUri(e.uri),r=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(n,r,(s,c)=>this.setDiagnostics(s,c)):this.setDiagnostics(n,r)}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}createConnection(){let e=(r,i,s)=>{this.handleConnectionError(r,i,s)},n=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(r=>Qy(r.reader,r.writer,e,n,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===he.Stopping||this.state===he.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let e=yn.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===yn.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===he.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=he.StartFailed):this.state=he.Stopped,this.cleanUp(!1,!0)):e===yn.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=he.Initial,this.start())}handleConnectionError(e,n,r){this._clientOptions.errorHandler.error(e,n,r)===ti.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){A.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,n=!1){let r=A.workspace.getConfiguration(this._id),i=m.Trace.Off,s=m.TraceFormat.Text;if(r){let c=r.get("trace.server","off");typeof c=="string"?i=m.Trace.fromString(c):(i=m.Trace.fromString(r.get("trace.server.verbosity","off")),s=m.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;ae.array(n)?r=n:r=[n],r&&this._dynamicFeatures.get(m.DidChangeWatchedFilesNotification.type.method).registerRaw(ce.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),Os.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new ea(this)),this.registerFeature(new ks(this,this._syncedDocuments)),this.registerFeature(new Is(this)),this.registerFeature(new Fs(this)),this.registerFeature(new Ns(this)),this.registerFeature(new Ls(this)),this.registerFeature(new xs(this,this._syncedDocuments)),this.registerFeature(new Ms(this,e=>this.notifyFileEvent(e))),this.registerFeature(new js(this)),this.registerFeature(new $s(this)),this.registerFeature(new Ws(this)),this.registerFeature(new Hs(this)),this.registerFeature(new Us(this)),this.registerFeature(new Ks(this)),this.registerFeature(new zs(this)),this.registerFeature(new Gs(this)),this.registerFeature(new Bs(this)),this.registerFeature(new Vs(this)),this.registerFeature(new Xs(this)),this.registerFeature(new Js(this)),this.registerFeature(new Qs(this)),this.registerFeature(new Ys(this)),this.registerFeature(new Zs(this)),this.registerFeature(new ta(this))}fillInitializeParams(e){for(let n of this._features)ae.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};H(e,"workspace").applyEdit=!0;let n=H(H(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[m.ResourceOperationKind.Create,m.ResourceOperationKind.Rename,m.ResourceOperationKind.Delete],n.failureHandling=m.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=H(H(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[m.DiagnosticTag.Unnecessary,m.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=H(e,"window"),s=H(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let c=H(i,"showDocument");c.support=!0;let f=H(e,"general");f.regularExpressions={engine:"ECMAScript",version:"ES2020"},f.markdown={parser:"marked",version:"1.1.0"};for(let d of this._features)d.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)r.initialize(this._capabilities,n)}handleRegistrationRequest(e){return new Promise((n,r)=>{for(let i of e.registrations){let s=this._dynamicFeatures.get(i.method);if(s===void 0){r(new Error(`No feature implementation for ${i.method} found. Registration failed.`));return}let c=i.registerOptions||{};c.documentSelector=c.documentSelector||this._clientOptions.documentSelector;let f={id:i.id,registerOptions:c};try{s.register(f)}catch(d){r(d);return}}n()})}handleUnregistrationRequest(e){return new Promise((n,r)=>{for(let i of e.unregisterations){let s=this._dynamicFeatures.get(i.method);if(!s){r(new Error(`No feature implementation for ${i.method} found. Unregistration failed.`));return}s.unregister(i.id)}n()})}handleApplyWorkspaceEdit(e){let n=e.edit,r=new Map;A.workspace.textDocuments.forEach(s=>r.set(s.uri.toString(),s));let i=!1;if(n.documentChanges){for(let s of n.documentChanges)if(m.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let c=r.get(s.textDocument.uri);if(c&&c.version!==s.textDocument.version){i=!0;break}}}return i?Promise.resolve({applied:!1}):ae.asPromise(A.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(s=>({applied:s})))}handleFailedRequest(e,n,r){if(n instanceof m.ResponseError){if(n.code===m.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(n.code===m.LSPErrorCodes.ContentModified)return r}throw this.error(`Request ${e.method} failed.`,n),n}makeCancelError(){let e=new Error(t.Canceled);return e.name=t.Canceled,e}};we.BaseLanguageClient=ri;ri.Canceled="Canceled"});var ad=D(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.ColorProviderFeature=void 0;var ii=require("vscode"),dr=me(),eC=nt();function sd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var na=class extends eC.TextDocumentFeature{constructor(e){super(e,dr.DocumentColorRequest.type)}fillClientCapabilities(e){sd(sd(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideColorPresentations:(r,i,s)=>{let c=this._client,f=(v,R,w)=>{let T={color:v,textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(R.document),range:c.code2ProtocolConverter.asRange(R.range)};return c.sendRequest(dr.ColorPresentationRequest.type,T,w).then(this.asColorPresentations.bind(this),b=>c.handleFailedRequest(dr.ColorPresentationRequest.type,b,null))},d=c.clientOptions.middleware;return d.provideColorPresentations?d.provideColorPresentations(r,i,s,f):f(r,i,s)},provideDocumentColors:(r,i)=>{let s=this._client,c=(d,v)=>{let R={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(d)};return s.sendRequest(dr.DocumentColorRequest.type,R,v).then(this.asColorInformations.bind(this),w=>s.handleFailedRequest(dr.ColorPresentationRequest.type,w,null))},f=s.clientOptions.middleware;return f.provideDocumentColors?f.provideDocumentColors(r,i,c):c(r,i)}};return[ii.languages.registerColorProvider(e.documentSelector,n),n]}asColor(e){return new ii.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(n=>new ii.ColorInformation(this._client.protocol2CodeConverter.asRange(n.range),this.asColor(n.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(n=>{let r=new ii.ColorPresentation(n.label);return r.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(n.additionalTextEdits),r.textEdit=this._client.protocol2CodeConverter.asTextEdit(n.textEdit),r}):[]}};oi.ColorProviderFeature=na});var ud=D(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.ImplementationFeature=void 0;var tC=require("vscode"),ra=me(),nC=nt();function cd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var ia=class extends nC.TextDocumentFeature{constructor(e){super(e,ra.ImplementationRequest.type)}fillClientCapabilities(e){let n=cd(cd(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideImplementation:(r,i,s)=>{let c=this._client,f=(v,R,w)=>c.sendRequest(ra.ImplementationRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(v,R),w).then(c.protocol2CodeConverter.asDefinitionResult,T=>c.handleFailedRequest(ra.ImplementationRequest.type,T,null)),d=c.clientOptions.middleware;return d.provideImplementation?d.provideImplementation(r,i,s,f):f(r,i,s)}};return[tC.languages.registerImplementationProvider(e.documentSelector,n),n]}};si.ImplementationFeature=ia});var ld=D(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.TypeDefinitionFeature=void 0;var rC=require("vscode"),oa=me(),iC=nt();function ai(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var sa=class extends iC.TextDocumentFeature{constructor(e){super(e,oa.TypeDefinitionRequest.type)}fillClientCapabilities(e){ai(ai(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=ai(ai(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideTypeDefinition:(r,i,s)=>{let c=this._client,f=(v,R,w)=>c.sendRequest(oa.TypeDefinitionRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(v,R),w).then(c.protocol2CodeConverter.asDefinitionResult,T=>c.handleFailedRequest(oa.TypeDefinitionRequest.type,T,null)),d=c.clientOptions.middleware;return d.provideTypeDefinition?d.provideTypeDefinition(r,i,s,f):f(r,i,s)}};return[rC.languages.registerTypeDefinitionProvider(e.documentSelector,n),n]}};ci.TypeDefinitionFeature=sa});var dd=D(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.WorkspaceFoldersFeature=Nn.arrayDiff=void 0;var oC=Yr(),ui=require("vscode"),aa=me();function ca(t,e){if(t!==void 0)return t[e]}function ua(t,e){return t.filter(n=>e.indexOf(n)<0)}Nn.arrayDiff=ua;var la=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return aa.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=ui.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(aa.WorkspaceFoldersRequest.type,s=>{let c=()=>{let d=ui.workspace.workspaceFolders;return d===void 0?null:d.map(R=>this.asProtocol(R))},f=n.clientOptions.middleware.workspace;return f&&f.workspaceFolders?f.workspaceFolders(s,c):c(s)});let r=ca(ca(ca(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=oC.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){let n=ua(this._initialFolders,e),r=ua(e,this._initialFolders);(r.length>0||n.length>0)&&this.doSendEvent(r,n)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,n){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:n.map(i=>this.asProtocol(i))}};this._client.sendNotification(aa.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,i=ui.workspace.onDidChangeWorkspaceFolders(s=>{let c=d=>{this.doSendEvent(d.added,d.removed)},f=r.clientOptions.middleware.workspace;f&&f.didChangeWorkspaceFolders?f.didChangeWorkspaceFolders(s,c):c(s)});this._listeners.set(n,i),this.sendInitialEvent(ui.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Nn.WorkspaceFoldersFeature=la});var hd=D(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.FoldingRangeFeature=void 0;var fr=require("vscode"),Ln=me(),sC=nt();function fd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var da=class t extends sC.TextDocumentFeature{constructor(e){super(e,Ln.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=fd(fd(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideFoldingRanges:(r,i,s)=>{let c=this._client,f=(v,R,w)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(v)};return c.sendRequest(Ln.FoldingRangeRequest.type,T,w).then(t.asFoldingRanges,b=>c.handleFailedRequest(Ln.FoldingRangeRequest.type,b,null))},d=c.clientOptions.middleware;return d.provideFoldingRanges?d.provideFoldingRanges(r,i,s,f):f(r,i,s)}};return[fr.languages.registerFoldingRangeProvider(e.documentSelector,n),n]}static asFoldingRangeKind(e){if(e)switch(e){case Ln.FoldingRangeKind.Comment:return fr.FoldingRangeKind.Comment;case Ln.FoldingRangeKind.Imports:return fr.FoldingRangeKind.Imports;case Ln.FoldingRangeKind.Region:return fr.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(n=>new fr.FoldingRange(n.startLine,n.endLine,t.asFoldingRangeKind(n.kind))):[]}};li.FoldingRangeFeature=da});var pd=D(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.DeclarationFeature=void 0;var aC=require("vscode"),fa=me(),cC=nt();function gd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var ha=class extends cC.TextDocumentFeature{constructor(e){super(e,fa.DeclarationRequest.type)}fillClientCapabilities(e){let n=gd(gd(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideDeclaration:(r,i,s)=>{let c=this._client,f=(v,R,w)=>c.sendRequest(fa.DeclarationRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(v,R),w).then(c.protocol2CodeConverter.asDeclarationResult,T=>c.handleFailedRequest(fa.DeclarationRequest.type,T,null)),d=c.clientOptions.middleware;return d.provideDeclaration?d.provideDeclaration(r,i,s,f):f(r,i,s)}};return[aC.languages.registerDeclarationProvider(e.documentSelector,n),n]}};di.DeclarationFeature=ha});var vd=D(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.SelectionRangeFeature=void 0;var uC=require("vscode"),ga=me(),lC=nt();function md(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var pa=class extends lC.TextDocumentFeature{constructor(e){super(e,ga.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=md(md(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideSelectionRanges:(r,i,s)=>{let c=this._client,f=(v,R,w)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(v),positions:c.code2ProtocolConverter.asPositions(R)};return c.sendRequest(ga.SelectionRangeRequest.type,T,w).then(b=>c.protocol2CodeConverter.asSelectionRanges(b),b=>c.handleFailedRequest(ga.SelectionRangeRequest.type,b,null))},d=c.clientOptions.middleware;return d.provideSelectionRanges?d.provideSelectionRanges(r,i,s,f):f(r,i,s)}};return[uC.languages.registerSelectionRangeProvider(e.documentSelector,n),n]}};fi.SelectionRangeFeature=pa});var yd=D(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.ProgressFeature=void 0;var dC=me(),fC=Ds();function hC(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var ma=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){hC(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new fC.ProgressPart(this._client,i.token,n))};e.onRequest(dC.WorkDoneProgressCreateRequest.type,r)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};hi.ProgressFeature=ma});var Rd=D(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.CallHierarchyFeature=void 0;var gC=require("vscode"),Cn=me(),pC=nt();function Cd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var va=class{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,n,r){let i=this.client,s=this.middleware,c=(f,d,v)=>{let R=i.code2ProtocolConverter.asTextDocumentPositionParams(f,d);return i.sendRequest(Cn.CallHierarchyPrepareRequest.type,R,v).then(w=>i.protocol2CodeConverter.asCallHierarchyItems(w),w=>i.handleFailedRequest(Cn.CallHierarchyPrepareRequest.type,w,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,r,c):c(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,i=this.middleware,s=(c,f)=>{let d={item:r.code2ProtocolConverter.asCallHierarchyItem(c)};return r.sendRequest(Cn.CallHierarchyIncomingCallsRequest.type,d,f).then(v=>r.protocol2CodeConverter.asCallHierarchyIncomingCalls(v),v=>r.handleFailedRequest(Cn.CallHierarchyIncomingCallsRequest.type,v,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,i=this.middleware,s=(c,f)=>{let d={item:r.code2ProtocolConverter.asCallHierarchyItem(c)};return r.sendRequest(Cn.CallHierarchyOutgoingCallsRequest.type,d,f).then(v=>r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(v),v=>r.handleFailedRequest(Cn.CallHierarchyOutgoingCallsRequest.type,v,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},ya=class extends pC.TextDocumentFeature{constructor(e){super(e,Cn.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=Cd(Cd(e,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new va(n);return[gC.languages.registerCallHierarchyProvider(e.documentSelector,r),r]}};gi.CallHierarchyFeature=ya});var _d=D(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.SemanticTokensFeature=void 0;var pi=require("vscode"),mC=nt(),Y=me(),vC=Jt();function mi(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ca=class extends mC.TextDocumentFeature{constructor(e){super(e,Y.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=mi(mi(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[Y.SemanticTokenTypes.namespace,Y.SemanticTokenTypes.type,Y.SemanticTokenTypes.class,Y.SemanticTokenTypes.enum,Y.SemanticTokenTypes.interface,Y.SemanticTokenTypes.struct,Y.SemanticTokenTypes.typeParameter,Y.SemanticTokenTypes.parameter,Y.SemanticTokenTypes.variable,Y.SemanticTokenTypes.property,Y.SemanticTokenTypes.enumMember,Y.SemanticTokenTypes.event,Y.SemanticTokenTypes.function,Y.SemanticTokenTypes.method,Y.SemanticTokenTypes.macro,Y.SemanticTokenTypes.keyword,Y.SemanticTokenTypes.modifier,Y.SemanticTokenTypes.comment,Y.SemanticTokenTypes.string,Y.SemanticTokenTypes.number,Y.SemanticTokenTypes.regexp,Y.SemanticTokenTypes.operator],n.tokenModifiers=[Y.SemanticTokenModifiers.declaration,Y.SemanticTokenModifiers.definition,Y.SemanticTokenModifiers.readonly,Y.SemanticTokenModifiers.static,Y.SemanticTokenModifiers.deprecated,Y.SemanticTokenModifiers.abstract,Y.SemanticTokenModifiers.async,Y.SemanticTokenModifiers.modification,Y.SemanticTokenModifiers.documentation,Y.SemanticTokenModifiers.defaultLibrary],n.formats=[Y.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,mi(mi(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Y.SemanticTokensRefreshRequest.type,async()=>{for(let c of this.getAllProviders())c.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(n,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let n=vC.boolean(e.full)?e.full:e.full!==void 0,r=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,i=new pi.EventEmitter,s=n?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(w,T)=>{let b=this._client,I=b.clientOptions.middleware,M=(z,F)=>{let O={textDocument:b.code2ProtocolConverter.asTextDocumentIdentifier(z)};return b.sendRequest(Y.SemanticTokensRequest.type,O,F).then(x=>b.protocol2CodeConverter.asSemanticTokens(x),x=>b.handleFailedRequest(Y.SemanticTokensRequest.type,x,null))};return I.provideDocumentSemanticTokens?I.provideDocumentSemanticTokens(w,T,M):M(w,T)},provideDocumentSemanticTokensEdits:r?(w,T,b)=>{let I=this._client,M=I.clientOptions.middleware,z=(F,O,x)=>{let q={textDocument:I.code2ProtocolConverter.asTextDocumentIdentifier(F),previousResultId:O};return I.sendRequest(Y.SemanticTokensDeltaRequest.type,q,x).then(G=>Y.SemanticTokens.is(G)?I.protocol2CodeConverter.asSemanticTokens(G):I.protocol2CodeConverter.asSemanticTokensEdits(G),G=>I.handleFailedRequest(Y.SemanticTokensDeltaRequest.type,G,null))};return M.provideDocumentSemanticTokensEdits?M.provideDocumentSemanticTokensEdits(w,T,b,z):z(w,T,b)}:void 0}:void 0,f=e.range===!0?{provideDocumentRangeSemanticTokens:(w,T,b)=>{let I=this._client,M=I.clientOptions.middleware,z=(F,O,x)=>{let q={textDocument:I.code2ProtocolConverter.asTextDocumentIdentifier(F),range:I.code2ProtocolConverter.asRange(O)};return I.sendRequest(Y.SemanticTokensRangeRequest.type,q,x).then(G=>I.protocol2CodeConverter.asSemanticTokens(G),G=>I.handleFailedRequest(Y.SemanticTokensRangeRequest.type,G,null))};return M.provideDocumentRangeSemanticTokens?M.provideDocumentRangeSemanticTokens(w,T,b,z):z(w,T,b)}}:void 0,d=[],R=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return s!==void 0&&d.push(pi.languages.registerDocumentSemanticTokensProvider(e.documentSelector,s,R)),f!==void 0&&d.push(pi.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,f,R)),[new pi.Disposable(()=>d.forEach(w=>w.dispose())),{range:f,full:s,onDidChangeSemanticTokensEmitter:i}]}};vi.SemanticTokensFeature=Ca});var Sd=D((mw,wd)=>{wd.exports=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=e(t[r],r);yC(i)?n.push.apply(n,i):n.push(i)}return n};var yC=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Ed=D((vw,Dd)=>{"use strict";Dd.exports=bd;function bd(t,e,n){t instanceof RegExp&&(t=Td(t,n)),e instanceof RegExp&&(e=Td(e,n));var r=Pd(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Td(t,e){var n=e.match(t);return n?n[0]:null}bd.range=Pd;function Pd(t,e,n){var r,i,s,c,f,d=n.indexOf(t),v=n.indexOf(e,d+1),R=d;if(d>=0&&v>0){if(t===e)return[d,v];for(r=[],s=n.length;R>=0&&!f;)R==d?(r.push(R),d=n.indexOf(t,R+1)):r.length==1?f=[r.pop(),v]:(i=r.pop(),i<s&&(s=i,c=v),v=n.indexOf(e,R+1)),R=d<v&&d>=0?d:v;r.length&&(f=[s,c])}return f}});var Ld=D((yw,Nd)=>{var CC=Sd(),qd=Ed();Nd.exports=wC;var Od="\0SLASH"+Math.random()+"\0",kd="\0OPEN"+Math.random()+"\0",_a="\0CLOSE"+Math.random()+"\0",xd="\0COMMA"+Math.random()+"\0",Id="\0PERIOD"+Math.random()+"\0";function Ra(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function RC(t){return t.split("\\\\").join(Od).split("\\{").join(kd).split("\\}").join(_a).split("\\,").join(xd).split("\\.").join(Id)}function _C(t){return t.split(Od).join("\\").split(kd).join("{").split(_a).join("}").split(xd).join(",").split(Id).join(".")}function Fd(t){if(!t)return[""];var e=[],n=qd("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,s=n.post,c=r.split(",");c[c.length-1]+="{"+i+"}";var f=Fd(s);return s.length&&(c[c.length-1]+=f.shift(),c.push.apply(c,f)),e.push.apply(e,c),e}function wC(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Mn(RC(t),!0).map(_C)):[]}function SC(t){return"{"+t+"}"}function TC(t){return/^-?0\d/.test(t)}function bC(t,e){return t<=e}function PC(t,e){return t>=e}function Mn(t,e){var n=[],r=qd("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),c=i||s,f=r.body.indexOf(",")>=0;if(!c&&!f)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+_a+r.post,Mn(t)):[t];var d;if(c)d=r.body.split(/\.\./);else if(d=Fd(r.body),d.length===1&&(d=Mn(d[0],!1).map(SC),d.length===1)){var R=r.post.length?Mn(r.post,!1):[""];return R.map(function(xe){return r.pre+d[0]+xe})}var v=r.pre,R=r.post.length?Mn(r.post,!1):[""],w;if(c){var T=Ra(d[0]),b=Ra(d[1]),I=Math.max(d[0].length,d[1].length),M=d.length==3?Math.abs(Ra(d[2])):1,z=bC,F=b<T;F&&(M*=-1,z=PC);var O=d.some(TC);w=[];for(var x=T;z(x,b);x+=M){var q;if(s)q=String.fromCharCode(x),q==="\\"&&(q="");else if(q=String(x),O){var G=I-q.length;if(G>0){var Se=new Array(G+1).join("0");x<0?q="-"+Se+q.slice(1):q=Se+q}}w.push(q)}}else w=CC(d,function(ke){return Mn(ke,!1)});for(var Ee=0;Ee<w.length;Ee++)for(var qe=0;qe<R.length;qe++){var ve=v+w[Ee]+R[qe];(!e||c||ve)&&n.push(ve)}return n}});var Hd=D((Cw,Wd)=>{Wd.exports=rt;rt.Minimatch=Me;var hr=function(){try{return require("path")}catch{}}()||{sep:"/"};rt.sep=hr.sep;var Ta=rt.GLOBSTAR=Me.GLOBSTAR={},DC=Ld(),Md={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},wa="[^/]",Sa=wa+"*?",EC="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",qC="(?:(?!(?:\\/|^)\\.).)*?",Ad=OC("().*{}+?[]^$\\!");function OC(t){return t.split("").reduce(function(e,n){return e[n]=!0,e},{})}var jd=/\/+/;rt.filter=kC;function kC(t,e){return e=e||{},function(n,r,i){return rt(n,t,e)}}function tn(t,e){e=e||{};var n={};return Object.keys(t).forEach(function(r){n[r]=t[r]}),Object.keys(e).forEach(function(r){n[r]=e[r]}),n}rt.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return rt;var e=rt,n=function(i,s,c){return e(i,s,tn(t,c))};return n.Minimatch=function(i,s){return new e.Minimatch(i,tn(t,s))},n.Minimatch.defaults=function(i){return e.defaults(tn(t,i)).Minimatch},n.filter=function(i,s){return e.filter(i,tn(t,s))},n.defaults=function(i){return e.defaults(tn(t,i))},n.makeRe=function(i,s){return e.makeRe(i,tn(t,s))},n.braceExpand=function(i,s){return e.braceExpand(i,tn(t,s))},n.match=function(r,i,s){return e.match(r,i,tn(t,s))},n};Me.defaults=function(t){return rt.defaults(t).Minimatch};function rt(t,e,n){return Ci(e),n||(n={}),!n.nocomment&&e.charAt(0)==="#"?!1:new Me(e,n).match(t)}function Me(t,e){if(!(this instanceof Me))return new Me(t,e);Ci(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&hr.sep!=="/"&&(t=t.split(hr.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Me.prototype.debug=function(){};Me.prototype.make=xC;function xC(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map(function(r){return r.split(jd)}),this.debug(this.pattern,n),n=n.map(function(r,i,s){return r.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,n),this.set=n}Me.prototype.parseNegate=IC;function IC(){var t=this.pattern,e=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}}rt.braceExpand=function(t,e){return $d(t,e)};Me.prototype.braceExpand=$d;function $d(t,e){return e||(this instanceof Me?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,Ci(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:DC(t)}var FC=1024*64,Ci=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>FC)throw new TypeError("pattern is too long")};Me.prototype.parse=NC;var yi={};function NC(t,e){Ci(t);var n=this.options;if(t==="**")if(n.noglobstar)t="*";else return Ta;if(t==="")return"";var r="",i=!!n.nocase,s=!1,c=[],f=[],d,v=!1,R=-1,w=-1,T=t.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function I(){if(d){switch(d){case"*":r+=Sa,i=!0;break;case"?":r+=wa,i=!0;break;default:r+="\\"+d;break}b.debug("clearStateChar %j %j",d,r),d=!1}}for(var M=0,z=t.length,F;M<z&&(F=t.charAt(M));M++){if(this.debug("%s	%s %s %j",t,M,r,F),s&&Ad[F]){r+="\\"+F,s=!1;continue}switch(F){case"/":return!1;case"\\":I(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,M,r,F),v){this.debug("  in class"),F==="!"&&M===w+1&&(F="^"),r+=F;continue}b.debug("call clearStateChar %j",d),I(),d=F,n.noext&&I();continue;case"(":if(v){r+="(";continue}if(!d){r+="\\(";continue}c.push({type:d,start:M-1,reStart:r.length,open:Md[d].open,close:Md[d].close}),r+=d==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",d,r),d=!1;continue;case")":if(v||!c.length){r+="\\)";continue}I(),i=!0;var O=c.pop();r+=O.close,O.type==="!"&&f.push(O),O.reEnd=r.length;continue;case"|":if(v||!c.length||s){r+="\\|",s=!1;continue}I(),r+="|";continue;case"[":if(I(),v){r+="\\"+F;continue}v=!0,w=M,R=r.length,r+=F;continue;case"]":if(M===w+1||!v){r+="\\"+F,s=!1;continue}var x=t.substring(w+1,M);try{RegExp("["+x+"]")}catch{var q=this.parse(x,yi);r=r.substr(0,R)+"\\["+q[0]+"\\]",i=i||q[1],v=!1;continue}i=!0,v=!1,r+=F;continue;default:I(),s?s=!1:Ad[F]&&!(F==="^"&&v)&&(r+="\\"),r+=F}}for(v&&(x=t.substr(w+1),q=this.parse(x,yi),r=r.substr(0,R)+"\\["+q[0],i=i||q[1]),O=c.pop();O;O=c.pop()){var G=r.slice(O.reStart+O.open.length);this.debug("setting tail",r,O),G=G.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(tt,it,mt){return mt||(mt="\\"),it+it+mt+"|"}),this.debug(`tail=%j
   %s`,G,G,O,r);var Se=O.type==="*"?Sa:O.type==="?"?wa:"\\"+O.type;i=!0,r=r.slice(0,O.reStart)+Se+"\\("+G}I(),s&&(r+="\\\\");var Ee=!1;switch(r.charAt(0)){case"[":case".":case"(":Ee=!0}for(var qe=f.length-1;qe>-1;qe--){var ve=f[qe],ke=r.slice(0,ve.reStart),xe=r.slice(ve.reStart,ve.reEnd-8),Ve=r.slice(ve.reEnd-8,ve.reEnd),We=r.slice(ve.reEnd);Ve+=We;var Xe=ke.split("(").length-1,He=We;for(M=0;M<Xe;M++)He=He.replace(/\)[+*?]?/,"");We=He;var gt="";We===""&&e!==yi&&(gt="$");var ue=ke+xe+We+gt+Ve;r=ue}if(r!==""&&i&&(r="(?=.)"+r),Ee&&(r=T+r),e===yi)return[r,i];if(!i)return MC(t);var pt=n.nocase?"i":"";try{var Oe=new RegExp("^"+r+"$",pt)}catch{return new RegExp("$.")}return Oe._glob=t,Oe._src=r,Oe}rt.makeRe=function(t,e){return new Me(t,e||{}).makeRe()};Me.prototype.makeRe=LC;function LC(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?Sa:e.dot?EC:qC,r=e.nocase?"i":"",i=t.map(function(s){return s.map(function(c){return c===Ta?n:typeof c=="string"?AC(c):c._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch{this.regexp=!1}return this.regexp}rt.match=function(t,e,n){n=n||{};var r=new Me(e,n);return t=t.filter(function(i){return r.match(i)}),r.options.nonull&&!t.length&&t.push(e),t};Me.prototype.match=function(e,n){if(typeof n>"u"&&(n=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;var r=this.options;hr.sep!=="/"&&(e=e.split(hr.sep).join("/")),e=e.split(jd),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,c;for(c=e.length-1;c>=0&&(s=e[c],!s);c--);for(c=0;c<i.length;c++){var f=i[c],d=e;r.matchBase&&f.length===1&&(d=[s]);var v=this.matchOne(d,f,n);if(v)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate};Me.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,c=t.length,f=e.length;i<c&&s<f;i++,s++){this.debug("matchOne loop");var d=e[s],v=t[i];if(this.debug(e,d,v),d===!1)return!1;if(d===Ta){this.debug("GLOBSTAR",[e,d,v]);var R=i,w=s+1;if(w===f){for(this.debug("** at the end");i<c;i++)if(t[i]==="."||t[i]===".."||!r.dot&&t[i].charAt(0)===".")return!1;return!0}for(;R<c;){var T=t[R];if(this.debug(`
globstar while`,t,R,e,w,T),this.matchOne(t.slice(R),e.slice(w),n))return this.debug("globstar found match!",R,c,T),!0;if(T==="."||T===".."||!r.dot&&T.charAt(0)==="."){this.debug("dot detected!",t,R,e,w);break}this.debug("globstar swallow a segment, and continue"),R++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,R,e,w),R===c))}var b;if(typeof d=="string"?(b=v===d,this.debug("string match",d,v,b)):(b=v.match(d),this.debug("pattern match",d,v,b)),!b)return!1}if(i===c&&s===f)return!0;if(i===c)return n;if(s===f)return i===c-1&&t[i]==="";throw new Error("wtf?")};function MC(t){return t.replace(/\\(.)/g,"$1")}function AC(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var zd=D(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.WillDeleteFilesFeature=et.WillRenameFilesFeature=et.WillCreateFilesFeature=et.DidDeleteFilesFeature=et.DidRenameFilesFeature=et.DidCreateFilesFeature=void 0;var qt=require("vscode"),jC=Hd(),$t=me(),$C=Yr();function Ud(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function WC(t,e){return t[e]}function Kd(t,e,n){t[e]=n}var Ri=class t{constructor(e,n,r,i,s){this._filters=new Map,this._client=e,this._event=n,this._registrationType=r,this._clientCapability=i,this._serverCapability=s}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=Ud(Ud(e,"workspace"),"fileOperations");Kd(n,"dynamicRegistration",!0),Kd(n,this._clientCapability,!0)}initialize(e){var n;let r=(n=e.workspace)===null||n===void 0?void 0:n.fileOperations,i=r!==void 0?WC(r,this._serverCapability):void 0;if(i?.filters!==void 0)try{this.register({id:$C.generateUuid(),registerOptions:{filters:i.filters}})}catch(s){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${s}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let i=new jC.Minimatch(r.pattern.glob,t.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(e,n){let r=await Promise.all(e.files.map(async s=>{let c=n(s),f=c.fsPath.replace(/\\/g,"/");for(let d of this._filters.values())for(let v of d)if(!(v.scheme!==void 0&&v.scheme!==c.scheme)){if(v.matcher.match(f)){if(v.kind===void 0)return!0;let R=await t.getFileType(c);if(R===void 0)return this._client.error(`Failed to determine file type for ${c.toString()}.`),!0;if(R===qt.FileType.File&&v.kind===$t.FileOperationPatternKind.file||R===qt.FileType.Directory&&v.kind===$t.FileOperationPatternKind.folder)return!0}else if(v.kind===$t.FileOperationPatternKind.folder&&await t.getFileType(c)===qt.FileType.Directory&&v.matcher.match(`${f}/`))return!0}return!1})),i=e.files.filter((s,c)=>r[c]);return Object.assign(Object.assign({},e),{files:i})}static async getFileType(e){try{return(await qt.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},gr=class extends Ri{constructor(e,n,r,i,s,c,f){super(e,n,r,i,s),this._notificationType=r,this._accessUri=c,this._createParams=f}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async i=>{this._client.sendNotification(this._notificationType,this._createParams(i))};this.doSend(n,r)}}},ba=class extends gr{constructor(e){super(e,qt.workspace.onDidCreateFiles,$t.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return i?.didCreateFiles?i.didCreateFiles(e,n):n(e)}};et.DidCreateFilesFeature=ba;var Pa=class extends gr{constructor(e){super(e,qt.workspace.onDidRenameFiles,$t.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return i?.didRenameFiles?i.didRenameFiles(e,n):n(e)}};et.DidRenameFilesFeature=Pa;var Da=class extends gr{constructor(e){super(e,qt.workspace.onDidDeleteFiles,$t.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return i?.didDeleteFiles?i.didDeleteFiles(e,n):n(e)}};et.DidDeleteFilesFeature=Da;var pr=class extends Ri{constructor(e,n,r,i,s,c,f){super(e,n,r,i,s),this._requestType=r,this._accessUri=c,this._createParams=f}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},Ea=class extends pr{constructor(e){super(e,qt.workspace.onWillCreateFiles,$t.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return i?.willCreateFiles?i.willCreateFiles(e,n):n(e)}};et.WillCreateFilesFeature=Ea;var qa=class extends pr{constructor(e){super(e,qt.workspace.onWillRenameFiles,$t.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return i?.willRenameFiles?i.willRenameFiles(e,n):n(e)}};et.WillRenameFilesFeature=qa;var Oa=class extends pr{constructor(e){super(e,qt.workspace.onWillDeleteFiles,$t.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return i?.willDeleteFiles?i.willDeleteFiles(e,n):n(e)}};et.WillDeleteFilesFeature=Oa});var Bd=D(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.LinkedEditingFeature=void 0;var HC=require("vscode"),ka=me(),UC=nt();function Gd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var xa=class extends UC.TextDocumentFeature{constructor(e){super(e,ka.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=Gd(Gd(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideLinkedEditingRanges:(r,i,s)=>{let c=this._client,f=(v,R,w)=>c.sendRequest(ka.LinkedEditingRangeRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(v,R),w).then(c.protocol2CodeConverter.asLinkedEditingRanges,T=>c.handleFailedRequest(ka.LinkedEditingRangeRequest.type,T,null)),d=c.clientOptions.middleware;return d.provideLinkedEditingRange?d.provideLinkedEditingRange(r,i,s,f):f(r,i,s)}};return[HC.languages.registerLinkedEditingRangeProvider(e.documentSelector,n),n]}};_i.LinkedEditingFeature=xa});var Fa=D(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.ProposedFeatures=Rn.CommonLanguageClient=void 0;var KC=nt(),zC=ad(),GC=os(),BC=ud(),VC=ld(),XC=dd(),JC=hd(),QC=pd(),YC=vd(),ZC=yd(),eR=Rd(),tR=_d(),An=zd(),nR=Bd(),Ia=class extends KC.BaseLanguageClient{constructor(e,n,r){super(e,n,r)}registerProposedFeatures(){this.registerFeatures(Vd.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new GC.ConfigurationFeature(this)),this.registerFeature(new VC.TypeDefinitionFeature(this)),this.registerFeature(new BC.ImplementationFeature(this)),this.registerFeature(new zC.ColorProviderFeature(this)),this.registerFeature(new XC.WorkspaceFoldersFeature(this)),this.registerFeature(new JC.FoldingRangeFeature(this)),this.registerFeature(new QC.DeclarationFeature(this)),this.registerFeature(new YC.SelectionRangeFeature(this)),this.registerFeature(new ZC.ProgressFeature(this)),this.registerFeature(new eR.CallHierarchyFeature(this)),this.registerFeature(new tR.SemanticTokensFeature(this)),this.registerFeature(new nR.LinkedEditingFeature(this)),this.registerFeature(new An.DidCreateFilesFeature(this)),this.registerFeature(new An.DidRenameFilesFeature(this)),this.registerFeature(new An.DidDeleteFilesFeature(this)),this.registerFeature(new An.WillCreateFilesFeature(this)),this.registerFeature(new An.WillRenameFilesFeature(this)),this.registerFeature(new An.WillDeleteFilesFeature(this))}};Rn.CommonLanguageClient=Ia;var Vd;(function(t){function e(n){return[]}t.createAll=e})(Vd=Rn.ProposedFeatures||(Rn.ProposedFeatures={}))});var Jd=D(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.terminate=void 0;var Xd=require("child_process"),rR=require("path"),iR=process.platform==="win32",oR=process.platform==="darwin",sR=process.platform==="linux";function aR(t,e){if(iR)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),Xd.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(sR||oR)try{var n=rR.join(__dirname,"terminateProcess.sh"),r=Xd.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}wi.terminate=aR});var Na=D((Tw,Qd)=>{"use strict";Qd.exports=me()});var Yd=D(Wt=>{"use strict";var cR=Wt&&Wt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),La=Wt&&Wt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&cR(e,t,n)};Object.defineProperty(Wt,"__esModule",{value:!0});La(me(),Wt);La(nt(),Wt);La(Fa(),Wt)});var nf=D(Be=>{"use strict";var uR=Be&&Be.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),tf=Be&&Be.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&uR(e,t,n)};Object.defineProperty(Be,"__esModule",{value:!0});Be.SettingMonitor=Be.LanguageClient=Be.TransportKind=void 0;var _n=require("child_process"),Ma=require("fs"),Aa=require("path"),Zd=Mu(),nn=require("vscode"),De=Jt(),lR=Fa(),dR=nt(),fR=Jd(),Pe=Na();tf(Na(),Be);tf(Yd(),Be);var ef="^1.52.0",ja;(function(t){function e(n){return De.string(n.command)}t.is=e})(ja||(ja={}));var Ae;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Ae=Be.TransportKind||(Be.TransportKind={}));var jn;(function(t){function e(n){let r=n;return r&&r.kind===Ae.socket&&De.number(r.port)}t.isSocket=e})(jn||(jn={}));var $a;(function(t){function e(n){return De.string(n.module)}t.is=e})($a||($a={}));var Wa;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(Wa||(Wa={}));var Ha;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(Ha||(Ha={}));var Ua=class extends lR.CommonLanguageClient{constructor(e,n,r,i,s){let c,f,d,v,R;De.string(n)?(c=e,f=n,d=r,v=i,R=!!s):(c=e.toLowerCase(),f=e,d=n,v=r,R=i),R===void 0&&(R=!1),super(c,f,v),this._serverOptions=d,this._forceDebug=R;try{this.checkVersion()}catch(w){throw De.string(w.message)&&this.outputChannel.appendLine(w.message),w}}checkVersion(){let e=Zd.parse(nn.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${nn.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!Zd.satisfies(e,ef))throw new Error(`The language client requires VS Code version ${ef} but received version ${nn.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){e&&setTimeout(()=>{try{process.kill(e.pid,0),fR.terminate(e)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(R,w){if(!R&&!w)return;let T=Object.create(null);return Object.keys(process.env).forEach(b=>T[b]=process.env[b]),w&&(T.ELECTRON_RUN_AS_NODE="1",T.ELECTRON_NO_ASAR="1"),R&&Object.keys(R).forEach(b=>T[b]=R[b]),T}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let R=process.execArgv;return R?R.some(w=>r.some(T=>w.startsWith(T))||i.some(T=>w===T)):!1}function c(R){if(R.stdin===null||R.stdout===null||R.stderr===null)throw new Error("Process created without stdio streams")}let f=this._serverOptions;if(De.func(f))return f().then(R=>{if(dR.MessageTransports.is(R))return this._isDetached=!!R.detached,R;if(Wa.is(R))return this._isDetached=!!R.detached,{reader:new Pe.StreamMessageReader(R.reader),writer:new Pe.StreamMessageWriter(R.writer)};{let w;return Ha.is(R)?(w=R.process,this._isDetached=R.detached):(w=R,this._isDetached=!1),w.stderr.on("data",T=>this.outputChannel.append(De.string(T)?T:T.toString(e))),{reader:new Pe.StreamMessageReader(w.stdout),writer:new Pe.StreamMessageWriter(w.stdin)}}});let d,v=f;return v.run||v.debug?this._forceDebug||s()?d=v.debug:d=v.run:d=f,this._getServerWorkingDir(d.options).then(R=>{if($a.is(d)&&d.module){let w=d,T=w.transport||Ae.stdio;if(w.runtime){let b=[],I=w.options||Object.create(null);I.execArgv&&I.execArgv.forEach(O=>b.push(O)),b.push(w.module),w.args&&w.args.forEach(O=>b.push(O));let M=Object.create(null);M.cwd=R,M.env=n(I.env,!1);let z=this._getRuntimePath(w.runtime,R),F;if(T===Ae.ipc?(M.stdio=[null,null,null,"ipc"],b.push("--node-ipc")):T===Ae.stdio?b.push("--stdio"):T===Ae.pipe?(F=Pe.generateRandomPipeName(),b.push(`--pipe=${F}`)):jn.isSocket(T)&&b.push(`--socket=${T.port}`),b.push(`--clientProcessId=${process.pid.toString()}`),T===Ae.ipc||T===Ae.stdio){let O=_n.spawn(z,b,M);return!O||!O.pid?Promise.reject(`Launching server using runtime ${z} failed.`):(this._serverProcess=O,O.stderr.on("data",x=>this.outputChannel.append(De.string(x)?x:x.toString(e))),T===Ae.ipc?(O.stdout.on("data",x=>this.outputChannel.append(De.string(x)?x:x.toString(e))),Promise.resolve({reader:new Pe.IPCMessageReader(O),writer:new Pe.IPCMessageWriter(O)})):Promise.resolve({reader:new Pe.StreamMessageReader(O.stdout),writer:new Pe.StreamMessageWriter(O.stdin)}))}else{if(T===Ae.pipe)return Pe.createClientPipeTransport(F).then(O=>{let x=_n.spawn(z,b,M);return!x||!x.pid?Promise.reject(`Launching server using runtime ${z} failed.`):(this._serverProcess=x,x.stderr.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),x.stdout.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),O.onConnected().then(q=>({reader:q[0],writer:q[1]})))});if(jn.isSocket(T))return Pe.createClientSocketTransport(T.port).then(O=>{let x=_n.spawn(z,b,M);return!x||!x.pid?Promise.reject(`Launching server using runtime ${z} failed.`):(this._serverProcess=x,x.stderr.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),x.stdout.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),O.onConnected().then(q=>({reader:q[0],writer:q[1]})))})}}else{let b;return new Promise((I,M)=>{let z=w.args&&w.args.slice()||[];T===Ae.ipc?z.push("--node-ipc"):T===Ae.stdio?z.push("--stdio"):T===Ae.pipe?(b=Pe.generateRandomPipeName(),z.push(`--pipe=${b}`)):jn.isSocket(T)&&z.push(`--socket=${T.port}`),z.push(`--clientProcessId=${process.pid.toString()}`);let F=w.options||Object.create(null);if(F.env=n(F.env,!0),F.execArgv=F.execArgv||[],F.cwd=R,F.silent=!0,T===Ae.ipc||T===Ae.stdio){let O=_n.fork(w.module,z||[],F);c(O),this._serverProcess=O,O.stderr.on("data",x=>this.outputChannel.append(De.string(x)?x:x.toString(e))),T===Ae.ipc?(O.stdout.on("data",x=>this.outputChannel.append(De.string(x)?x:x.toString(e))),I({reader:new Pe.IPCMessageReader(this._serverProcess),writer:new Pe.IPCMessageWriter(this._serverProcess)})):I({reader:new Pe.StreamMessageReader(O.stdout),writer:new Pe.StreamMessageWriter(O.stdin)})}else T===Ae.pipe?Pe.createClientPipeTransport(b).then(O=>{let x=_n.fork(w.module,z||[],F);c(x),this._serverProcess=x,x.stderr.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),x.stdout.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),O.onConnected().then(q=>{I({reader:q[0],writer:q[1]})})}):jn.isSocket(T)&&Pe.createClientSocketTransport(T.port).then(O=>{let x=_n.fork(w.module,z||[],F);c(x),this._serverProcess=x,x.stderr.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),x.stdout.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),O.onConnected().then(q=>{I({reader:q[0],writer:q[1]})})})})}}else if(ja.is(d)&&d.command){let w=d,T=w.args||[],b=Object.assign({},w.options);b.cwd=b.cwd||R;let I=_n.spawn(w.command,T,b);return!I||!I.pid?Promise.reject(`Launching server using command ${w.command} failed.`):(I.stderr.on("data",M=>this.outputChannel.append(De.string(M)?M:M.toString(e))),this._serverProcess=I,this._isDetached=!!b.detached,Promise.resolve({reader:new Pe.StreamMessageReader(I.stdout),writer:new Pe.StreamMessageWriter(I.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(f,null,4)))})}_getRuntimePath(e,n){if(Aa.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=Aa.join(r,e);if(Ma.existsSync(i))return i}if(n!==void 0){let i=Aa.join(n,e);if(Ma.existsSync(i))return i}return e}_mainGetRootPath(){let e=nn.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{Ma.lstat(n,(i,s)=>{r(!i&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let n;try{n=JSON.parse(e)}catch{}return n===void 0||typeof n.locale!="string"?"en":n.locale}};Be.LanguageClient=Ua;var Ka=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return nn.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new nn.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?nn.workspace.getConfiguration(n).get(r,!1):nn.workspace.getConfiguration(n);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}};Be.SettingMonitor=Ka});var of=D((Dw,rf)=>{"use strict";rf.exports=nf()});var vR={};pf(vR,{activate:()=>pR,deactivate:()=>mR});module.exports=mf(vR);var K=Ti(require("vscode")),Si=Ti(require("path")),vr=Ti(of()),za=class{provideCodeActions(e,n,r){let i=r.diagnostics.filter(v=>v.source==="File Length Lint");if(i.length===0)return;let c=K.workspace.getConfiguration("fileLengthLint").get("customQuickFixMessage",""),f="Suggest ways to split this file";c&&c.trim()!==""&&(f=`Suggest ways to split this file (${c})`);let d=[];for(let v of i){let R=new K.CodeAction(f,K.CodeActionKind.QuickFix);R.command={command:"fileLengthLint.suggestFileSplit",title:f,arguments:[e.uri]},R.diagnostics=[v],R.isPreferred=!0,d.push(R)}return d}},mr,Ht,$n;async function hR(t){let e=await K.workspace.openTextDocument(t),n=Si.basename(e.fileName);K.window.showInformationMessage(`Suggestions for splitting ${n}:`,"Extract Components","Create Modules","Separate by Function")}function sf(){let t=K.window.activeTextEditor;if(!t){Ht.hide();return}let e=t.document.lineCount;Ht.text=`$(list-unordered) ${e} lines`,Ht.tooltip="File Length Lint: Click to scan workspace",Ht.show()}var ge={maxLines:300,languageSpecificMaxLines:{javascript:500,typescript:500,markdown:1e3,json:5e3,html:800},measurementType:"lines",maxTokens:2e3,languageSpecificMaxTokens:{javascript:2e3,typescript:2e3,markdown:4e3,json:8e3,html:3e3},enabled:!0,exclude:["**/.git/**","**/node_modules/**","**/dist/**","**/out/**","**/bin/**","**/obj/**","**/.vs/**","**/.idea/**","**/.vscode/settings.json","**/*.min.js","**/*.min.css","**/*.dll","**/*.exe","**/*.png","**/*.jpg","**/*.jpeg","**/*.gif","**/*.ico","**/*.svg","**/*.woff","**/*.woff2","**/*.ttf","**/*.eot","**/*.pdf","**/*.zip","**/*.tar","**/*.gz","**/*.7z"],respectGitignore:!0,realtimeScanningEnabled:!0,customQuickFixMessage:"",disabledLanguages:[],maxFileSizeInMB:5};async function gR(){let t=K.workspace.getConfiguration("fileLengthLint"),e=!1;return t.get("maxLines")===void 0&&(await t.update("maxLines",ge.maxLines,K.ConfigurationTarget.Global),e=!0),t.get("enabled")===void 0&&(await t.update("enabled",ge.enabled,K.ConfigurationTarget.Global),e=!0),t.get("exclude")===void 0&&(await t.update("exclude",ge.exclude,K.ConfigurationTarget.Global),e=!0),t.get("respectGitignore")===void 0&&(await t.update("respectGitignore",ge.respectGitignore,K.ConfigurationTarget.Global),e=!0),t.get("realtimeScanningEnabled")===void 0&&(await t.update("realtimeScanningEnabled",ge.realtimeScanningEnabled,K.ConfigurationTarget.Global),e=!0),t.get("languageSpecificMaxLines")===void 0&&(await t.update("languageSpecificMaxLines",ge.languageSpecificMaxLines,K.ConfigurationTarget.Global),e=!0),t.get("disabledLanguages")===void 0&&(await t.update("disabledLanguages",ge.disabledLanguages,K.ConfigurationTarget.Global),e=!0),t.get("measurementType")===void 0&&(await t.update("measurementType",ge.measurementType,K.ConfigurationTarget.Global),e=!0),t.get("maxTokens")===void 0&&(await t.update("maxTokens",ge.maxTokens,K.ConfigurationTarget.Global),e=!0),t.get("languageSpecificMaxTokens")===void 0&&(await t.update("languageSpecificMaxTokens",ge.languageSpecificMaxTokens,K.ConfigurationTarget.Global),e=!0),t.get("customQuickFixMessage")===void 0&&(await t.update("customQuickFixMessage",ge.customQuickFixMessage,K.ConfigurationTarget.Global),e=!0),t.get("maxFileSizeInMB")===void 0&&(await t.update("maxFileSizeInMB",ge.maxFileSizeInMB,K.ConfigurationTarget.Global),e=!0),e}async function pR(t){console.log("File Length Lint extension is now active"),await gR()&&console.log("File Length Lint: Restored missing settings"),mr=K.languages.createDiagnosticCollection("fileLengthLint"),t.subscriptions.push(mr),Ht=K.window.createStatusBarItem(K.StatusBarAlignment.Right,100),Ht.command="fileLengthLint.scanWorkspace",t.subscriptions.push(Ht),sf(),t.subscriptions.push(K.window.onDidChangeActiveTextEditor(()=>{sf()})),t.subscriptions.push(K.languages.registerCodeActionsProvider({pattern:"**/*"},new za)),t.subscriptions.push(K.commands.registerCommand("fileLengthLint.suggestFileSplit",s=>{hR(s)})),t.subscriptions.push(K.commands.registerCommand("fileLengthLint.scanWorkspace",()=>{K.window.withProgress({location:K.ProgressLocation.Notification,title:"File Length Lint: Scanning workspace files...",cancellable:!1},async s=>{s.report({increment:0}),s.report({message:"Scanning workspace files..."});try{$n&&await $n.sendRequest("fileLengthLint/scanWorkspace")}catch(c){K.window.showErrorMessage(`Error scanning workspace: ${c}`)}s.report({increment:100})})})),t.subscriptions.push(K.commands.registerCommand("fileLengthLint.resetSettings",async()=>{if(await K.window.showWarningMessage("Are you sure you want to reset all File Length Lint settings to their default values?",{modal:!0},"Yes","No")==="Yes")try{let c=K.workspace.getConfiguration("fileLengthLint");await c.update("maxLines",ge.maxLines,K.ConfigurationTarget.Global),await c.update("languageSpecificMaxLines",ge.languageSpecificMaxLines,K.ConfigurationTarget.Global),await c.update("measurementType",ge.measurementType,K.ConfigurationTarget.Global),await c.update("maxTokens",ge.maxTokens,K.ConfigurationTarget.Global),await c.update("languageSpecificMaxTokens",ge.languageSpecificMaxTokens,K.ConfigurationTarget.Global),await c.update("enabled",ge.enabled,K.ConfigurationTarget.Global),await c.update("exclude",ge.exclude,K.ConfigurationTarget.Global),await c.update("respectGitignore",ge.respectGitignore,K.ConfigurationTarget.Global),await c.update("realtimeScanningEnabled",ge.realtimeScanningEnabled,K.ConfigurationTarget.Global),await c.update("customQuickFixMessage",ge.customQuickFixMessage,K.ConfigurationTarget.Global),await c.update("disabledLanguages",ge.disabledLanguages,K.ConfigurationTarget.Global),await c.update("maxFileSizeInMB",ge.maxFileSizeInMB,K.ConfigurationTarget.Global),K.window.showInformationMessage("File Length Lint settings have been reset to their default values.")}catch(c){K.window.showErrorMessage(`Error resetting settings: ${c}`)}}));let n=t.asAbsolutePath(Si.join("server","out","server.js")),r={run:{module:n,transport:vr.TransportKind.ipc},debug:{module:n,transport:vr.TransportKind.ipc,options:{execArgv:["--nolazy","--inspect=6009"]}}},i={documentSelector:[{scheme:"file"}],synchronize:{fileEvents:[K.workspace.createFileSystemWatcher("**/.gitignore")],configurationSection:"fileLengthLint"},diagnosticCollectionName:"fileLengthLint"};$n=new vr.LanguageClient("fileLengthLint","File Length Lint",r,i),$n.start()}function mR(){if(mr&&(mr.clear(),mr.dispose()),Ht&&Ht.dispose(),!!$n)return $n.stop()}0&&(module.exports={activate,deactivate});
